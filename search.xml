<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CNN的matlab实现</title>
    <url>/2020/05/15/CNN_matlab/</url>
    <content><![CDATA[<h2 id="CNN的matlab实现"><a href="#CNN的matlab实现" class="headerlink" title="CNN的matlab实现"></a>CNN的matlab实现</h2><p><a href="http://blog.csdn.net/zouxy09/article/details/9993371/" target="_blank" rel="noopener">http://blog.csdn.net/zouxy09/article/details/9993371/</a>  CNN卷积神经网络推导和实现 (math)</p>
<p><a href="http://blog.csdn.net/zouxy09/article/details/9993743" target="_blank" rel="noopener">http://blog.csdn.net/zouxy09/article/details/9993743</a>  CNN卷积神经网络代码理解 (matlab)</p>
<p><a href="https://github.com/rasmusbergpalm/DeepLearnToolbox" target="_blank" rel="noopener">https://github.com/rasmusbergpalm/DeepLearnToolbox</a>  DeepLearnToolbox (matlab)</p>
]]></content>
      <categories>
        <category>深度学习</category>
        <category>CV</category>
      </categories>
      <tags>
        <tag>matlab</tag>
        <tag>CNN</tag>
      </tags>
  </entry>
  <entry>
    <title>C语句</title>
    <url>/2020/05/16/C%E8%AF%AD%E5%8F%A5/</url>
    <content><![CDATA[<h2 id="C语句"><a href="#C语句" class="headerlink" title="C语句"></a>C语句</h2><a id="more"></a>
<h3 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h3><p>If test evaluates to true, then then-statement is executed and else-statement is not.<br>If test evaluates to false, then else-statement is executed and then-statement is not. The else<br>clause is optional.</p>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>The switch statement compares test to each of the compare expressions,<br>until it finds one that is equal to test.<br>Then, the statements following the successful case are executed.  </p>
<p>All of the expressions compared must be of an integer type, and the compare-N expressions must be of a constant integer type (e.g., a literal integer or an expression built of literal integers).<br>Optionally, you can specify a default case. If test doesn’t match any of the specific cases listed prior to the default case, then the statements for the default case are executed.<br>Traditionally, the default case is put after the specific cases, but that isn’t required.  </p>
<h3 id="do-while"><a href="#do-while" class="headerlink" title="do-while"></a>do-while</h3><p>This example also prints the integers from zero through nine:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">"%d "</span>, x++);</span><br><span class="line"><span class="keyword">while</span> (x &lt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>A break statement can also cause a do loop to exit.</p>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><p>If you need to test two conditions, you will need to use the &amp;&amp; operator:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="keyword">for</span> (x = <span class="number">1</span>, y = <span class="number">10</span>; x &lt;= <span class="number">10</span> &amp;&amp; y &gt;= <span class="number">1</span>; x+=<span class="number">2</span>, y--)</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">"%d %d\n"</span>, x, y);</span><br></pre></td></tr></table></figure>
<p>A break statement can also cause a for loop to exit.</p>
<h3 id="block"><a href="#block" class="headerlink" title="block"></a>block</h3><p>A block is a set of zero or more statements enclosed in braces. Blocks are also known as compound statements.<br>Often, a block is used as the body of an if statement or a loop<br>statement, to group statements together.</p>
<p>You can declare variables inside a block; such variables are local to that block.<br>In C89, declarations must occur before other statements, and so sometimes it is useful to introduce a block simply for this purpose:</p>
<h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><p>A null statement is also sometimes used to follow a label that would otherwise be the last thing in a block.</p>
<p>The label can be anywhere in the same function as the goto statement that jumps to it,<br>but a goto statement cannot jump to a label in a different function.</p>
<h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><p>If you put a break statement inside of a loop or switch statement which itself is inside of a loop or switch statement, the break only terminates the innermost loop or switch statement.</p>
<h3 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h3><p>You can use the continue statement in loops to terminate an iteration of the loop and<br>begin the next iteration.</p>
<h3 id="void"><a href="#void" class="headerlink" title="void*"></a>void*</h3><p><a href="http://blog.chinaunix.net/uid-22197900-id-359211.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-22197900-id-359211.html</a> void* 用法</p>
<h3 id="return"><a href="#return" class="headerlink" title="return"></a>return</h3><p>return-value is an optional expression to return.<br>If the function’s return type is void,<br>then it is invalid to return an expression.<br>You can, however, use the return statement without a return value.</p>
<p>If the function’s return type is not the same as the type of return-value, and automatic type conversion cannot be performed, then returning return-value is invalid.</p>
<p>If the function’s return type is not void and no return value is specified, then the return statement is valid unless the function is called in a context that requires a return value. For<br>example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">x = cosine (y);</span><br></pre></td></tr></table></figure>
<p>Even in contexts where a return value is not required, it is a bad idea for a non-void function to omit the return value.</p>
<h3 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h3><p>In the case of custom data types, you can use typedef to make a new name for the type while defining the type:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">fish</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">float</span> weight;</span><br><span class="line">    <span class="keyword">float</span> length;</span><br><span class="line">    <span class="keyword">float</span> probability_of_being_caught;</span><br><span class="line">&#125; fish_type;</span><br></pre></td></tr></table></figure>
<p>To make a type definition of an array,<br>you first provide the type of the element,<br>and then establish the number of elements at the end of the type definition:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> array_of_bytes [<span class="number">5</span>];</span><br><span class="line">array_of_bytes five_bytes = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>C</category>
        <category>语法</category>
      </categories>
      <tags>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 的主题中渲染 MathJax 数学公式</title>
    <url>/2020/05/13/Hexo%20%E7%9A%84%E4%B8%BB%E9%A2%98%E4%B8%AD%E6%B8%B2%E6%9F%93%20MathJax%20%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="Hexo-的主题中渲染-MathJax-数学公式"><a href="#Hexo-的主题中渲染-MathJax-数学公式" class="headerlink" title="Hexo 的主题中渲染 MathJax 数学公式"></a>Hexo 的主题中渲染 MathJax 数学公式</h2><p><a href="https://blog.csdn.net/wgshun616/article/details/81019687" target="_blank" rel="noopener">https://blog.csdn.net/wgshun616/article/details/81019687</a></p>
<a id="more"></a>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>Hexo 默认使用 hexo-renderer-marked 引擎渲染网页，该引擎会把一些特殊的 markdown 符号转换为相应的 html 标签，比如在 markdown 语法中，下划线<code>_</code>代表斜体，会被渲染引擎处理为<code>&lt;em&gt;</code>标签。</p>
<p>因为类 Latex 格式书写的数学公式下划线<code>_</code>表示下标，有特殊的含义，如果被强制转换为<code>&lt;em&gt;</code>标签，那么 MathJax 引擎在渲染数学公式的时候就会出错。</p>
<p>类似的语义冲突的符号还包括<code>*</code>, <code>{</code>, <code>}</code>, <code>\\</code>等。</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li>更换 Hexo 的 markdown 渲染引擎:</li>
</ul>
<p>hexo-renderer-kramed 引擎是在默认的渲染引擎 </p>
<p>hexo-renderer-marked 的基础上修改了一些 bug ，两者比较接近，也比较轻量级。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">$ npm uninstall hexo-renderer-marked --save</span><br><span class="line">$ npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>
<ul>
<li>行内公式的渲染还是有问题，因为 hexo-renderer-kramed 引擎也有语义冲突的问题。</li>
</ul>
<p>博客根目录下，找到node_modules\kramed\lib\rules\inline.js，</p>
<p>第11行的 escape 变量的值做相应的修改：(在原基础上取消了对\,{,}的转义(escape)。)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/,</span></span><br><span class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([`*\[\]()#$+\-.!_&gt;])/</span>,</span><br></pre></td></tr></table></figure>
<p>第20行的em变量也要做相应的修改。</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment">//em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span></span><br><span class="line">em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>前端</category>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>MathJax</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB动画显示</title>
    <url>/2020/05/17/MATLAB%E5%9D%90%E6%A0%87%E5%9B%BE%E7%9A%84%E5%8A%A8%E7%94%BB%E6%98%BE%E7%A4%BA/</url>
    <content><![CDATA[<h2 id="MATLAB动画显示"><a href="#MATLAB动画显示" class="headerlink" title="MATLAB动画显示"></a>MATLAB动画显示</h2><a id="more"></a>
<p>数据采集或者数据回放时，用matlab的plot画图一般是静态的，画完不动<br>但是有时，实时数据采集然后通过串口或pci在matlab画出数据变化图并同步动态显示<br>以及在一些想用matlab绘图回放大块的数据模拟随时间变化的情景<br>需要坐标图动画显示。功能实现起来多种方法，介绍一种最简单也是matlab中推荐使用  </p>
<p>此功能的实现依赖animatedline对象，配合drawnow函数使用，具体使用可看帮助</p>
<ol>
<li>基本实现</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">h = animateline;&lt;br&gt;axis([<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>，<span class="number">-1</span>,<span class="number">1</span>])&lt;br&gt;x = <span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,<span class="number">1000</span>);</span><br><span class="line">y = <span class="built_in">sin</span>(x);</span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span>:<span class="built_in">length</span>(x)</span><br><span class="line">    addpoints(h,x(k),y(k));</span><br><span class="line">    drawnow</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果有另一个函数想从当前图形中获得数据，用animateline的getpoints方法</p>
</blockquote>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">[xdata,ydata] = getpoints(h);</span><br></pre></td></tr></table></figure>
<ol>
<li>如果想实现贪吃蛇那样的效果，动态的图像中只显示一部分，不是每次都从头就开始显示<br>可以设置画图的最大点数，通过设置MaximumNumPoints这个属性的值来实现</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">h = animatedline(<span class="string">'MaximumNumPoints'</span>,<span class="number">100</span>);</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line"> </span><br><span class="line">x = <span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,<span class="number">1000</span>);</span><br><span class="line">y = <span class="built_in">sin</span>(x);</span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span>:<span class="built_in">length</span>(x)</span><br><span class="line">    addpoints(h,x(k),y(k));</span><br><span class="line">    drawnow</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol>
<li>加快刷新的技巧，以上每次循环中都只向结构体中增加一个点，实时显示的话有可能刷新速度跟不上，所以可以考虑一次循环中向里面添加多个点，这样就可以加快刷新了</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">h = animatedline;</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line"> </span><br><span class="line">numpoints = <span class="number">100000</span>;</span><br><span class="line">x = <span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,numpoints);</span><br><span class="line">y = <span class="built_in">sin</span>(x);</span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span>:<span class="number">100</span>:numpoints<span class="number">-100</span></span><br><span class="line">    xvec = x(k:k+<span class="number">99</span>);</span><br><span class="line">    yvec = y(k:k+<span class="number">99</span>);</span><br><span class="line">    addpoints(h,xvec,yvec)</span><br><span class="line">    drawnow</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol>
<li>也可以用drawnow update加快动画速度</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">h = animatedline;</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line"> </span><br><span class="line">numpoints = <span class="number">100000</span>;</span><br><span class="line">x = <span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,numpoints);</span><br><span class="line">y = <span class="built_in">sin</span>(x);</span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span>:numpoints</span><br><span class="line">    addpoints(h,x(k),y(k))</span><br><span class="line">    drawnow update</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol>
<li>控制动画的速度，有时候，希望动画显示的慢一点，上面介绍的都是加快动画的，如果要想控制动画速度，可以配合tic函数与toc函数，相当于一个记录程序运行的秒表，调用tic表示按一下开始计时，调用toc表示按一下结束及时，两个之间的时间差就是这一段程序运行的时间，下面这段代码表示控制帧速度在30</li>
</ol>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">h = animatedline;</span><br><span class="line">axis([<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,<span class="number">-1</span>,<span class="number">1</span>])</span><br><span class="line">numpoints = <span class="number">10000</span>;</span><br><span class="line">x = <span class="built_in">linspace</span>(<span class="number">0</span>,<span class="number">4</span>*<span class="built_in">pi</span>,numpoints);</span><br><span class="line">y = <span class="built_in">sin</span>(x);</span><br><span class="line">a = tic; <span class="comment">% start timer</span></span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span>:numpoints</span><br><span class="line">    addpoints(h,x(k),y(k))</span><br><span class="line">    b = toc(a); <span class="comment">% check timer</span></span><br><span class="line">    <span class="keyword">if</span> b &gt; (<span class="number">1</span>/<span class="number">30</span>)</span><br><span class="line">        drawnow <span class="comment">% update screen every 1/30 seconds</span></span><br><span class="line">        a = tic; <span class="comment">% reset timer after updating</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">drawnow <span class="comment">% draw final frame</span></span><br></pre></td></tr></table></figure>
<p>其它的还有一些细节的属性，比如设置线条属性等，具体可看看帮助文档</p>
]]></content>
      <categories>
        <category>matlab</category>
      </categories>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>Verilog语法</title>
    <url>/2020/05/15/Verilog%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="Verilog语法"><a href="#Verilog语法" class="headerlink" title="Verilog语法"></a>Verilog语法</h2><a id="more"></a>
<h3 id="连续赋值语句-阻塞赋值语句-非阻塞赋值语句"><a href="#连续赋值语句-阻塞赋值语句-非阻塞赋值语句" class="headerlink" title="连续赋值语句, 阻塞赋值语句, 非阻塞赋值语句"></a>连续赋值语句, 阻塞赋值语句, 非阻塞赋值语句</h3><p>数据流的描述是采用连续赋值语句(assign )语句来实现的。语法如下:</p>
<p>assign net_type = 表达式;</p>
<p>连续赋值语句用于组合逻辑的建模<br>等式左边是wire 类型的变量<br>等式右边可以是常量. 由运算符如逻辑运算符. 算术运算符参与的表达。</p>
<p>如下几个实例:</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">wire</span> [<span class="number">3</span>:<span class="number">0</span>] Z, Preset, Clear; <span class="comment">//线网说明</span></span><br><span class="line"><span class="keyword">assign</span> Z = Preset &amp; Clear; <span class="comment">//连续赋值语句</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> Cout, C i n ;</span><br><span class="line"><span class="keyword">wire</span> [<span class="number">3</span>:<span class="number">0</span>] Sum, A, B;</span><br><span class="line">. . .</span><br><span class="line"><span class="keyword">assign</span> &#123;Cout, Sum&#125; = A + B + Cin;</span><br><span class="line"><span class="keyword">assign</span> Mux = (S = = <span class="number">3</span>)? D : <span class="number">'bz</span>;</span><br></pre></td></tr></table></figure>
<ol>
<li>连续赋值语句的执行是:<br>只要右边表达式任一个变量有变化,表达式立即被计算,<br>计算的结果立即赋给左边信号。</li>
<li>连续赋值语句之间是并行语句,因此与位置顺序无关<br>(“=”用于阻塞的赋值, 凡是在组合逻辑(如在assign 语句中)赋值请用阻塞赋值)</li>
</ol>
<h3 id="行为建模方式"><a href="#行为建模方式" class="headerlink" title="行为建模方式"></a>行为建模方式</h3><p>一般是指用过程赋值语句<br>(initial 语句和always 语句)  </p>
<ol>
<li>顺序语句块(begin . . . end):<br>语句块中的语句按给定次序顺序执行;</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">#<span class="number">2</span> Stream = <span class="number">1</span>;</span><br><span class="line">#<span class="number">5</span> Stream = <span class="number">0</span>;</span><br><span class="line">#<span class="number">3</span> Stream = <span class="number">1</span>;</span><br><span class="line">#<span class="number">4</span> Stream = <span class="number">0</span>;</span><br><span class="line">#<span class="number">2</span> Stream = <span class="number">1</span>;</span><br><span class="line">#<span class="number">5</span> Stream = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol>
<li>两种过程赋值语句 initial 和 always 语句:<br>这两种语句之间的执行是并行的,即语句的执行与位置顺序无关<br>这两种语句通常与语句块(begin ….end)相结合,则语句块中的执行是按顺序执行<br>initial 语句只执行一次;<br>always 语句与initial 语句相反, 是被重复执行, 执行机制是通过对一个称为敏感变量表的事件驱动来实现的:  </li>
</ol>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">initial</span></span><br><span class="line">Clk = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">always</span></span><br><span class="line">#<span class="number">5</span> Clk = ~Clk; <span class="comment">// 周期为10 的方波。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @ ( <span class="keyword">posedge</span> Clk <span class="keyword">or</span> <span class="keyword">posedge</span> Rst )</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span> Rst</span><br><span class="line">Q &lt;= ‘ b <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">Q &lt;= D; <span class="comment">// D 触发器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @( sel ,a ,b)</span><br><span class="line">C = sel ? a :b;</span><br><span class="line"><span class="comment">// sel ,a,b 同样称为敏感变量,当三者之一有变化时,always 被执行</span></span><br></pre></td></tr></table></figure>
<p>对于always:</p>
<ul>
<li>对组合逻辑器件的赋值采用阻塞赋值 “=”</li>
<li>时序逻辑器件的赋值语句采用非阻塞赋值 “&lt;=”,如上的 Q 〈= D;)</li>
</ul>
<h3 id="结构建模"><a href="#结构建模" class="headerlink" title="结构建模"></a>结构建模</h3><p>实例化语句:</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">module_name instance_name(port_associations);</span><br></pre></td></tr></table></figure>
<p>信号端口可以通过位置或名称关联;但是关联方式不能够混合使用<br>端口关联形式如下:</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">port_expr <span class="comment">//通过位置。</span></span><br><span class="line"><span class="variable">.PortName</span> (port_expr) <span class="comment">//通过名称。</span></span><br></pre></td></tr></table></figure>
<p>port_expr 可以是以下的任何类型:  </p>
<ol>
<li>标识符<code>(reg 或net )</code>如: <code>.C(T3),T3</code>为wire型标识符</li>
<li>位选择 ,如 <code>.C(D[0])</code>,C端口接到D信号的第0bit 位</li>
<li>部分选择 ,如 <code>.Bus (Din[5:4])</code></li>
<li>上述类型的合并,如 <code>.Addr({ A1,A2[1:0]})</code></li>
<li>表达式(只适用于输入端口),如 <code>.A (wire Zire = 0 )</code></li>
<li>对输入管脚悬空的,则该管脚输入为高阻 Z,输出管脚被悬空的,该输出管脚废弃不用</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> <span class="keyword">and</span> (C,A,B);</span><br><span class="line"><span class="keyword">input</span> A,B;</span><br><span class="line"><span class="keyword">output</span> C;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">and</span> A1 (T3, A, B ); <span class="comment">//实例化时采用位置关联,T3对应输出端口C,A对应A,B对应B。</span></span><br><span class="line"><span class="keyword">and</span> A2(</span><br><span class="line"><span class="comment">//实例化时采用名字关联,.C是and 器件的端口,其与信号T3相连</span></span><br><span class="line"><span class="variable">.C</span>(T3),</span><br><span class="line"><span class="variable">.A</span>(A),</span><br><span class="line"><span class="variable">.B</span>(B)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">DFF d1 (</span><br><span class="line"><span class="variable">.Q</span>(QS),</span><br><span class="line"><span class="variable">.Qbar</span> ( ),</span><br><span class="line"><span class="variable">.Data</span> (D ) ,</span><br><span class="line"><span class="variable">.Preset</span> ( ),</span><br><span class="line"><span class="comment">// 该管脚悬空</span></span><br><span class="line"><span class="variable">.Clock</span> (CK)</span><br><span class="line">); <span class="comment">//名称对应方式</span></span><br></pre></td></tr></table></figure>
<h3 id="书写建议"><a href="#书写建议" class="headerlink" title="书写建议"></a>书写建议</h3><ol>
<li>条件表达式需用括号括起来</li>
<li>若为if - if 语句,请使用块语句 begin —- end:</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (Clk)</span><br><span class="line">    <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(R e s e t)</span><br><span class="line">            Q = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            Q = D;</span><br><span class="line">    <span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>以上两点建议是为了使代码更加清晰,防止出错。</p>
<ol>
<li>对if 语句,除非在时序逻辑中,if 语句需要有else 语句<br>若没有缺省语句, 设计将产生一个锁存器, 锁存器在ASIC设计中有诸多的弊端(可看同步设计技术所介绍)。<br>如下一例:</li>
</ol>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (T)</span><br><span class="line">    Q = D;</span><br><span class="line"><span class="comment">// 没有else 语句,</span></span><br><span class="line"><span class="comment">// 当T为1(真)时,D 被赋值给Q,</span></span><br><span class="line"><span class="comment">// 当T为0(假)时,因为没有else 语句,电路保持 Q 以前的值,</span></span><br><span class="line"><span class="comment">// 这就形成一个锁存器。</span></span><br></pre></td></tr></table></figure>
<h3 id="注意语法"><a href="#注意语法" class="headerlink" title="注意语法"></a>注意语法</h3><p>算术表达式结果的长度由最长的操作数决定</p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line"><span class="keyword">assign</span> Dbus [<span class="number">7</span>:<span class="number">4</span>] = &#123;Dbus [<span class="number">0</span>], Dbus [<span class="number">1</span>], Dbus[<span class="number">2</span>], Dbus[<span class="number">3</span>] &#125; ;</span><br><span class="line"><span class="comment">// 以反转的顺序将低端4 位赋给高端4 位。</span></span><br></pre></td></tr></table></figure>
<p>reg 是最常用的寄存器类型, 寄存器类型通常用于对存储单元的描述<br>如在always 语句中进行描述的必须用reg 类型的变量</p>
<ol>
<li>reg 类型定义语法如下:<br><code>reg [msb: lsb] reg1, reg2, . . . reg N;</code><br>msb 和lsb 定义了范围,并且均为常数值表达式。</li>
<li>寄存器类型的值可取负数,但若该变量用于表达式的运算中,则按无符号类型处理</li>
<li>对数组类型,请按降序方式,如<code>[7:0];</code></li>
</ol>
]]></content>
      <categories>
        <category>数字电路</category>
        <category>Verilog</category>
      </categories>
      <tags>
        <tag>Verilog</tag>
        <tag>Quartus</tag>
      </tags>
  </entry>
  <entry>
    <title>linux下C语言</title>
    <url>/2020/05/15/linux_C/</url>
    <content><![CDATA[<h2 id="linux下C语言"><a href="#linux下C语言" class="headerlink" title="linux下C语言"></a>linux下C语言</h2><p><a href="http://docs.huihoo.com/c/linux-c-programming/" target="_blank" rel="noopener">http://docs.huihoo.com/c/linux-c-programming/</a>  Linux C编程一站式学习</p>
<p><a href="http://blog.csdn.net/feixiaoxing/article/details/7194756" target="_blank" rel="noopener">http://blog.csdn.net/feixiaoxing/article/details/7194756</a>  linux下的C语言开发（开篇）</p>
]]></content>
      <categories>
        <category>C</category>
        <category>语法</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>linux</tag>
        <tag>compile</tag>
      </tags>
  </entry>
  <entry>
    <title>presentaion套话</title>
    <url>/2020/05/16/presentation%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<h2 id="presentaion套话"><a href="#presentaion套话" class="headerlink" title="presentaion套话"></a>presentaion套话</h2><a id="more"></a>
<h3 id="open"><a href="#open" class="headerlink" title="open"></a>open</h3><p>Good afternoon, everyone.<br>I appreciate/am very glad/pleased/honored/privileged/proud to have the chance/opportunity to share/present my project with you.<br>(It’s a very great pleasure for me)…  </p>
<h3 id="topic"><a href="#topic" class="headerlink" title="topic"></a>topic</h3><p>I’d like to/shall concentrate(focus) on/devote my talk to/confine my talk to/restrict(limit) myself to/mention only<br>What I am going to present is<br>The purpose of this presentaion is to/ the talk is designed to  </p>
<h3 id="outline"><a href="#outline" class="headerlink" title="outline"></a>outline</h3><p>my talk consists of 2 parts<br>first talk, then touch on, finally discuss<br>the first part deals with, the second part concerns  </p>
<h3 id="start"><a href="#start" class="headerlink" title="start"></a>start</h3><p>To begin with, I’d like to<br>It would be the best to start out by/start with<br>The first thing/point I’d like to talk about is  </p>
<h3 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h3><p>move away from/leave first …<br>Let’s(I’d like to) come/turn(our attention)/shift/switch over/go on/move on<br>to next point/problem/question/discussion/part.<br>That brings me to my second point  </p>
<h3 id="helper"><a href="#helper" class="headerlink" title="helper"></a>helper</h3><p>The slide/curve/figure/table/chart/diagram/picture/flow chart<br>demonstrates/shows/exhibits/depicts/points out/displaces/represents/indicates  </p>
]]></content>
      <categories>
        <category>表达</category>
      </categories>
      <tags>
        <tag>presentation</tag>
        <tag>ppt</tag>
      </tags>
  </entry>
  <entry>
    <title>总结Intro to Visualization</title>
    <url>/2020/05/15/summary_intor_vis/</url>
    <content><![CDATA[<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><a id="more"></a>
<p>[TOC]</p>
<h2 id="week-2"><a href="#week-2" class="headerlink" title="week 2"></a>week 2</h2><h3 id="basic-concept"><a href="#basic-concept" class="headerlink" title="basic concept"></a>basic concept</h3><ul>
<li>Imaging:<br>visual representation of an objects </li>
<li><p>Computer Graphics:<br>the process of creating pictures and films</p>
</li>
<li><p>Visualization:<br>the process of viewing, exploring, and transforming data as images<br>to gain understanding</p>
</li>
</ul>
<blockquote>
<p>A good visualization<br>abstract and explore the data effectively and efficiently</p>
</blockquote>
<h3 id="VR-visual-representation"><a href="#VR-visual-representation" class="headerlink" title="VR: visual representation"></a>VR: visual representation</h3><p>Data -&gt; Visualization -&gt; Human</p>
<ul>
<li>Effective<br>easy to read, obtain; not confusing</li>
<li>Efficient<br>spend less time to count, understand</li>
</ul>
<h3 id="Human-Visual-Processing-System"><a href="#Human-Visual-Processing-System" class="headerlink" title="Human Visual Processing System"></a>Human Visual Processing System</h3><p>cornea 角膜 Light enters \<br>pupil  瞳孔 Control amount of light come through \<br>lens   Focus on either near or distant objects \<br>virteous body 玻璃体 \<br>retina 视网膜 act as sensors – convert light to signals </p>
<p>photoreceptor cells (in retina)<br>Num: Rods &gt; Cones</p>
<ul>
<li>Rods: sensitive to low light condition</li>
<li>Cones: medium and bright light, color vision</li>
</ul>
<p>retina blood vessels \<br>=&gt; optic nerve(signal) \<br>=&gt; visual cortex(images and visual perceptions) \<br>=&gt; 3D formed with 2 eyes</p>
<p>eyes see in a high resolution only on a very small section \<br>of the field of view. \<br>This is because the high resolution is only in the fovea(中央凹). </p>
<ul>
<li>inattentional blindness \<br>attend to task \<br>=&gt; retain some portion of information (in brain)</li>
</ul>
<p>Eye \<br>=&gt; Low level Feature \<br>=&gt; Pattern (higher features formed) \<br>=&gt; Objects (limited info stored in memory) </p>
<h3 id="Visual-Queries"><a href="#Visual-Queries" class="headerlink" title="Visual Queries"></a>Visual Queries</h3><p>Acts of attention to find information to accomplish a task. </p>
<h3 id="VIS-guideline"><a href="#VIS-guideline" class="headerlink" title="VIS guideline"></a>VIS guideline</h3><ul>
<li>Eyes beat memory</li>
<li>Make task and visual queries explicit</li>
<li>pre-attentive</li>
</ul>
<h2 id="week-3-amp-amp-4"><a href="#week-3-amp-amp-4" class="headerlink" title="week 3 &amp;&amp; 4"></a>week 3 &amp;&amp; 4</h2><h3 id="Visual-Channels"><a href="#Visual-Channels" class="headerlink" title="Visual Channels"></a>Visual Channels</h3><p><a href="./VisualChannel.png">Visual Channel</a><br>Sender encodes information in signs \<br>Receiver decodes information from signs</p>
<p>Visual channels can be categorized to:</p>
<ul>
<li>Expressiveness: what can be expressed via VC</li>
<li>Effectiveness: how well can be expressed via VC</li>
</ul>
<h3 id="Expressive"><a href="#Expressive" class="headerlink" title="Expressive"></a>Expressive</h3><p>types of information</p>
<ul>
<li>Quantitative information<br>position</li>
<li>Sequential information<br>position</li>
<li>Categorical information<br>color, shape</li>
</ul>
<h3 id="Effectiveness"><a href="#Effectiveness" class="headerlink" title="Effectiveness"></a>Effectiveness</h3><ul>
<li>Accuracy: precision of quantitative information.\</li>
<li>Discriminability: number of values can be<br>differentiated in a given visual channel.\</li>
<li>Salience: stand out from the rest.\</li>
<li>Separability: Interference btw. Channels.\</li>
<li>Grouping: elements are grouped formed a group.</li>
</ul>
<h4 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy"></a>Accuracy</h4><p>Position &gt; Length &amp; Angle &gt; Area</p>
<ol>
<li>Position along a common scale</li>
<li>Position along unaligned scale (logarithm)</li>
<li>Length, direction, angle (1 D)</li>
<li>Area (2 D)</li>
<li>Volume, curvature (3 D + curve)</li>
<li>Shading, color saturation<br>Prioritize high-rank channels with reasons.</li>
</ol>
<h4 id="Discriminability"><a href="#Discriminability" class="headerlink" title="Discriminability"></a>Discriminability</h4><p>• Channel Properties (eg: line width)</p>
<p>• Spatial Arrangement (eg: aligned circle)\<br>• Size (eg: add axis)\<br>• Cardinality \<br>Low cardinality prefered<br>Strategies to encode high cardinality data</p>
<ul>
<li>Grouping (less categories)</li>
<li>Filtering (top 5)</li>
<li>Faceting (seperate into diff plots)<ol>
<li>Recreate the same type plots multiple times</li>
<li>Each plot represents only one specific category</li>
<li>All plots are aligned.</li>
</ol>
</li>
</ul>
<h4 id="Salience"><a href="#Salience" class="headerlink" title="Salience"></a>Salience</h4><ul>
<li>How well a VC can attract attention of viewers</li>
<li>Stand out from a scene<br>Preattentive Features<br>less than 200 to 250 milliseconds<br>• Preattentive Features \<br>color &gt; size</li>
</ul>
<ol>
<li>line (blob) orientation</li>
<li>Size and length</li>
<li>Closure</li>
<li>Curvature</li>
<li>Intersection</li>
<li>3D depth cues</li>
<li>3D orientation<br>• Preattentive visual tasks \</li>
<li>Target detection:<br>detect “target” element<br>unique visual feature</li>
<li>Boundary detection:<br>detect boundary between two groups,<br>group common visual property</li>
<li>Region/object tracking:<br>track with a unique visual feature<br>• Non- Preattentive \</li>
<li>search serially</li>
<li>parallel line</li>
<li>Conjunctive Search (multiple channels)</li>
<li>Visual search for hidden objects</li>
</ol>
<h4 id="Separability"><a href="#Separability" class="headerlink" title="Separability"></a>Separability</h4><p>Interference btw. Channels for tuning attention</p>
<ul>
<li>fully separable<br>position + hue</li>
<li>some interference<br>size + hue</li>
<li>significant interference<br>width + heigth + hue<br>width + height</li>
</ul>
<h4 id="Grouping"><a href="#Grouping" class="headerlink" title="Grouping"></a>Grouping</h4><p>How easy a given channel<br>to represent information about groups \</p>
<ul>
<li>similarity &lt; proximity &lt; connection &amp; enclosure</li>
<li>similarity &lt; continuity<br>• Proximity (closer together, eg: kNN) \<br>• Similarity (similar features, eg: same color or shape) \<br>• Connection (connected objects, eg: connected with wires) \<br>• Enclosure (enclosed by a contour, eg: bubble set) \<br>• Closure (missing information/part as whole, eg: IBM, Apple) \<br>• Continuity (follow a line or a curve, eg: function gragh) \</li>
</ul>
<h2 id="week-5"><a href="#week-5" class="headerlink" title="week 5"></a>week 5</h2><h3 id="Color-Perception-amp-Color-Spaces"><a href="#Color-Perception-amp-Color-Spaces" class="headerlink" title="Color Perception &amp; Color Spaces"></a>Color Perception &amp; Color Spaces</h3><ul>
<li>Common use<ol>
<li>Encode quantities with colors to detect pattern </li>
<li>Labelling – label data to distinguish categories</li>
<li>Highlight – draw attention</li>
<li>Color Brewer</li>
<li>Color scale (wave length B -&gt; R)</li>
<li>Range of Values<ul>
<li>Gray Scale</li>
<li>Intensity interpolation</li>
<li>Saturation interpolation</li>
<li>Two-color interpolation</li>
<li>Rainbow Scale</li>
<li>Heat Map interpolation</li>
</ul>
</li>
</ol>
</li>
<li>Color Perception<br>  Photoreceptors cells<ol>
<li>rods: night vision, 120m</li>
<li>cones: color vision, 6m<br> L-cone: R 64%<br> M: G 32%<br> S: B 2~7%<br>Blid spot: no photoreceptors<br>optic nerve<h3 id="Color-Measurement"><a href="#Color-Measurement" class="headerlink" title="Color Measurement"></a>Color Measurement</h3></li>
</ol>
</li>
</ul>
<ul>
<li>Trichromatic Theory<br>(R,G,B). </li>
<li>Opponent Color Theory<br>process color as a three-channel system </li>
</ul>
<ol>
<li>Red-Green. </li>
<li>Blue-Yellow. </li>
<li>Black-White (luminance)<br> eg: stare R and then look at a neutral field, you see G<ul>
<li>use red, yellow and white to help attract attention</li>
<li>not combine opponent</li>
</ul>
</li>
</ol>
<h3 id="Color-Specification"><a href="#Color-Specification" class="headerlink" title="Color Specification"></a>Color Specification</h3><ul>
<li><p>RGB space (hardware)<br>eg: colors change from green to blue \<br>more green, less blue</p>
</li>
<li><p>HSV(L) (human perception)<br>Hue: 0~360<br>Saturation: 0~100<br>Lightness/Value: 0~100<br>yellow: light, blue: dark<br>keep lightness then set saturation,<br>when L=100, any S =&gt; white</p>
<p><strong>Is not perceptual uniform</strong></p>
</li>
<li><p>CIE Lab(uv)<br>L brightness; a,b are chrominance components<br>a: + R, - G<br>b: + Y, - B</p>
</li>
<li><p>CIE Lch/ HCL<br>Hue: 0~360<br>Chroma: relative saturation 0~140<br>Lightness: 0~100</p>
</li>
<li><p>CMY and CMYK (color printing)<br>cyan (C), G + B<br>magenta (M), B + R<br>yellow (Y), R + G<br>key (K, black)</p>
</li>
</ul>
<h3 id="Color-in-Visualization"><a href="#Color-in-Visualization" class="headerlink" title="Color in Visualization"></a>Color in Visualization</h3><ul>
<li>Quantitative Mapping (eg: Heat Map)<br>  Quantitative Color Scale<ul>
<li>Uniformity<br>value diff == perceptually color diff<br>color used =&gt; not too light or dark(R, B attraction attention, need global perception)</li>
<li>Discriminability<br>many distinct values</li>
</ul>
</li>
<li>Labelling<br>eg: categorize</li>
</ul>
<h3 id="Strategies"><a href="#Strategies" class="headerlink" title="Strategies"></a>Strategies</h3><ul>
<li>HCL space: human perception</li>
<li>fix chroma, lightness=&gt; change other elements</li>
<li>sample uniformly</li>
</ul>
<p>R, G, B, Y, White, Black easy to be distinguished</p>
<p>Gray:<br>no color, uncategorized, background, not important</p>
<h3 id="Diverging-Color-Scales"><a href="#Diverging-Color-Scales" class="headerlink" title="Diverging Color Scales"></a>Diverging Color Scales</h3><p>red -&gt; white -&gt; green\<br>example: crop &gt; medium height, &lt;  medium height\<br>some &gt; sea level , &lt; sea level\<br>some &gt; abovr threshold, &lt; below threshold</p>
<p>Expressiveness:</p>
<ol>
<li>Quantative, Categorical</li>
<li>luminance changes on both sizes:<br>low luminance red -&gt; white(high luminance) -&gt; low luminancw green</li>
</ol>
<h2 id="week-9"><a href="#week-9" class="headerlink" title="week 9"></a>week 9</h2><h3 id="Geographic-Data-Visualization"><a href="#Geographic-Data-Visualization" class="headerlink" title="Geographic Data Visualization"></a>Geographic Data Visualization</h3><h4 id="Geographic-Data"><a href="#Geographic-Data" class="headerlink" title="Geographic Data"></a>Geographic Data</h4><ul>
<li>Region</li>
<li>Geo-locations</li>
<li>Identifier(zipcode, street name)</li>
</ul>
<h4 id="spatial-object"><a href="#spatial-object" class="headerlink" title="spatial object"></a>spatial object</h4><p>eg. Country, cities, lakes</p>
<p>Attributes:</p>
<ul>
<li>Shape</li>
<li>Spatial locations</li>
</ul>
<p>eg: states of USA, capital city of state in USA</p>
<h4 id="object-tracking-amp-amp-geo-localiztion"><a href="#object-tracking-amp-amp-geo-localiztion" class="headerlink" title="object tracking &amp;&amp; geo-localiztion"></a>object tracking &amp;&amp; geo-localiztion</h4><p>eg. track of car in video sequences</p>
<h4 id="pixel-level-georeferencing"><a href="#pixel-level-georeferencing" class="headerlink" title="pixel-level georeferencing"></a>pixel-level georeferencing</h4><p>from image pixel location =&gt; calculate the greography position \</p>
<h4 id="when-to-use-Map-amp-amp-why-not-use"><a href="#when-to-use-Map-amp-amp-why-not-use" class="headerlink" title="when to use Map &amp;&amp; why not use"></a>when to use Map &amp;&amp; why not use</h4><p>Why</p>
<ul>
<li>To represent a spatial phenomenon</li>
</ul>
<p>Why Not</p>
<ol>
<li>information not endcoded into map</li>
<li>quantity more inportant</li>
</ol>
<p>use map<br>eg: cholera map<br>find the source of heisibing(cholera)</p>
<p>eg: too much infomation on map(many bank and city name)<br>the option: use matrix of 2 varaibles<br>city name\bank name  bank1 bank2 ….<br>Landon<br>Paris<br>…</p>
<p>eg: area are small, hard to compare combination of whole regions<br>option: use stacked bar chart</p>
<h3 id="Maps-for-visualiazation"><a href="#Maps-for-visualiazation" class="headerlink" title="Maps for visualiazation"></a>Maps for visualiazation</h3><ul>
<li><p>Heat map</p>
</li>
<li><p>Dot map</p>
</li>
<li><p>Binned map</p>
</li>
<li><p>Choropleth map</p>
</li>
<li>Cartogram</li>
<li>Graduated symbol map</li>
</ul>
<h4 id="Heat-map"><a href="#Heat-map" class="headerlink" title="Heat map"></a>Heat map</h4><ol>
<li>depict continuous</li>
<li>density estimation method from discrete data</li>
<li>color to convey information (notice less rainbow map)</li>
</ol>
<p>the method to estimate the kernel density function</p>
<script type="math/tex; mode=display">
p(x) = \sum \frac{1}{\sqrt{2\pi}} e^{-(x- X_i)^2/(2\sigma^2)}</script><p>KDE: kernel density estimation</p>
<h4 id="Dot-map"><a href="#Dot-map" class="headerlink" title="Dot map"></a>Dot map</h4><p>Dots represent geographical located specific objects<br>note: hard to see quantity (becuase each dot shape same)<br>easy to see density<br>Drawback:<br>Can’t see the amount of dots in the area</p>
<h4 id="Hexbin-Maps"><a href="#Hexbin-Maps" class="headerlink" title="Hexbin Maps"></a>Hexbin Maps</h4><p>fengchao(home of bees) 6 bianxing(hexagon)</p>
<p>dark: high quantity<br>light: low quantity</p>
<h4 id="2D-histogram-map"><a href="#2D-histogram-map" class="headerlink" title="2D histogram map"></a>2D histogram map</h4><p>use square instead of hexagon<br>Drawback:<br>hard to see clearly the shape<br>While hexgon easily representing shape, combination</p>
<p>Hexbin represent:</p>
<ol>
<li>quantity</li>
<li>category (eg: map of UK)</li>
</ol>
<p>Comparison of Square &amp;&amp; Circle and Hexagon</p>
<ol>
<li>circle could not fill the intervals among them; hexagon could </li>
<li>square:4 sides &gt; hexagon: 6 sides:<br>flexibility of border:(90, 180, 270, 0 &lt;=&gt; 0, 60, 120, 180, 240…)</li>
<li>square has 8  neighbors: distance 1 or sqrt(2) \<br>hexagon has 6 neighbors: distance all the same 1</li>
<li>border is Not emphasized, while squares so</li>
</ol>
<h4 id="Choropleth-map"><a href="#Choropleth-map" class="headerlink" title="Choropleth map"></a>Choropleth map</h4><ol>
<li>shape are geographical region</li>
<li>regions are colored, patterned in relation of data variable</li>
</ol>
<p>eg: map of France<br>types of data</p>
<ol>
<li>data is spatial related</li>
<li>data is not raw (processed with stat)</li>
<li>unrestricted cover</li>
</ol>
<p>points to notice using Cholo map</p>
<ol>
<li>color uses</li>
<li>level of details</li>
<li>use nonlinear color map to express effectively</li>
</ol>
<p>Categorical issue of Choro map:<br>drawback: quantative data is missing<br>can’t represent quantity in categorica based cholopleth map</p>
<p>note:<br>recommend diverging scale: eg: brewer \</p>
<p>perceptual uniform is important,</p>
<ol>
<li>not choose colors randomly</li>
<li>not make boundary of 2 values: hard to see, huge difference</li>
</ol>
<p>nonlinealy mapping Ok</p>
<ol>
<li>contrast among colors</li>
<li>not all data =&gt; single hue sequential<br>=&gt; diverging dynamic color</li>
</ol>
<p>2 ways of mapping: choro map:</p>
<ol>
<li>unclassed: mess up</li>
<li>classed: 0~10 the same color<br>Drawback: boudary is highlighted, when it is devided into big parts(it should be as background)</li>
</ol>
<h4 id="Cartogram"><a href="#Cartogram" class="headerlink" title="Cartogram"></a>Cartogram</h4><p>geometry of regions are distorted to convey info</p>
<ol>
<li>dialation/shrink</li>
<li>erosion</li>
</ol>
<p>for example, some properties of small region is extremely high =&gt; use circle area to reprensent properties =&gt; circle of it will overlap with others</p>
<h4 id="Graduated-Symbol-map"><a href="#Graduated-Symbol-map" class="headerlink" title="Graduated Symbol map"></a>Graduated Symbol map</h4><ol>
<li>size of symbol =&gt; represent quantity</li>
<li>not related to the size of regions</li>
</ol>
<p>exmaple:<br>cities should not use it, dot map instead<br>so many cities, hard to see defference</p>
<p>eg. use pie chart(express percentages) as symbol</p>
<ul>
<li>size</li>
<li>color</li>
<li>angle</li>
<li>temporal variable (1980~2000)</li>
<li>symbol (not shape)</li>
</ul>
<h4 id="Summary-1"><a href="#Summary-1" class="headerlink" title="Summary"></a>Summary</h4><ol>
<li>Object:<ul>
<li>Dot map</li>
</ul>
</li>
<li>Density:<ul>
<li>Heat map</li>
<li>Binned map</li>
</ul>
</li>
<li>Value:<ul>
<li>Choro map</li>
<li>symbol map</li>
<li>Cartogram map</li>
</ul>
</li>
</ol>
<h3 id="Issue-in-maps"><a href="#Issue-in-maps" class="headerlink" title="Issue in maps"></a>Issue in maps</h3><h4 id="Base-Rate-Bias"><a href="#Base-Rate-Bias" class="headerlink" title="Base Rate Bias"></a>Base Rate Bias</h4><p>more people =&gt; more library \<br>education level !=&gt; more library</p>
<h4 id="Sample-size-effect"><a href="#Sample-size-effect" class="headerlink" title="Sample size effect"></a>Sample size effect</h4><ul>
<li>Smaller size =&gt; higher variance</li>
<li>Bigger size =&gt; converge to the average of input data</li>
</ul>
<h4 id="skewed-spatial-distribution"><a href="#skewed-spatial-distribution" class="headerlink" title="skewed spatial distribution"></a>skewed spatial distribution</h4><p>eg: symbols are clustered in a small region (population shape in European countries)</p>
<h4 id="Dorling-Cartogram"><a href="#Dorling-Cartogram" class="headerlink" title="Dorling Cartogram"></a>Dorling Cartogram</h4><p>shapes are repositioned</p>
<ul>
<li>not maintain shape</li>
<li>Not maintain centroid</li>
</ul>
<h4 id="Perceptual-Bias"><a href="#Perceptual-Bias" class="headerlink" title="Perceptual Bias"></a>Perceptual Bias</h4><p>eg: which area is highest value<br>When pallete is not designed well<br>(some objects share the “same” color for eyes)</p>
<p>eg: Context affect preception<br>background influence(contrast)<br>different background, same colored objects<br>=&gt; seen different</p>
<p>different size of background objects, same size objects<br>=&gt; seen different</p>
<h4 id="interface-in-map-features"><a href="#interface-in-map-features" class="headerlink" title="interface in map features"></a>interface in map features</h4><ul>
<li>use “few” visual channel to convey info via map</li>
<li>low color saturation</li>
<li>No strong lines/borders(or other info will be dismissed)</li>
</ul>
<h2 id="week-11"><a href="#week-11" class="headerlink" title="week 11"></a>week 11</h2><h3 id="Visualizing-Temporal-Data"><a href="#Visualizing-Temporal-Data" class="headerlink" title="Visualizing Temporal Data"></a>Visualizing Temporal Data</h3><ul>
<li>faceting</li>
<li>animation</li>
<li>slide: change a variable, the graph changes</li>
<li>line chart || bar chart || heat map</li>
</ul>
<h4 id="main-temporal-data"><a href="#main-temporal-data" class="headerlink" title="main temporal data"></a>main temporal data</h4><ul>
<li>event data \<br>time + object</li>
<li>measurement data \<br>time + measure</li>
</ul>
<h4 id="category"><a href="#category" class="headerlink" title="category"></a>category</h4><ul>
<li>sequential time \<br>2019, 2020, 2021</li>
<li>cyclic time \<br>Jan -&gt; Nov</li>
</ul>
<p>sometimes:<br>sequential + cyclic time: 2019/Oct\<br>row: 2019\<br>col: Oct<br>or reshape it into one axis</p>
<p>Time resolution - Hierarchical\<br>Year/Month/week/day</p>
<p>Use different Visual Channel:\<br>one category use yellow line chart\<br>the other use gray bar chart</p>
<p>eg. Inflation rate by Year and Decade:\<br>Use gray and white backgrounds to distinguish decades</p>
<p>eg. use subfigure\<br>first up subfigure: line chart\<br>second down subigure: bar chart\<br>share the same temporal axis</p>
<p>eg. data with years, week\<br>week: col\<br>data quantity: row\<br>year: use different colors to categorize it\<br>Draw back:\</p>
<ol>
<li>use color to represent years “carefully”</li>
<li>weeks in col are crowded, put vertically, ard to read</li>
</ol>
<h4 id="line-chart"><a href="#line-chart" class="headerlink" title="line chart"></a>line chart</h4><p>improved cluttered lines: \<br>highlighting:</p>
<ol>
<li>choose red to draw line</li>
<li>circle certain point with boundary</li>
</ol>
<p>stack area charts:<br>show x1, x1+x2, x1+x2+x3, …</p>
<p>Aspect Ratio = Width/Height\<br>Average line slope should = 45’ degree</p>
<h4 id="Heat-map-1"><a href="#Heat-map-1" class="headerlink" title="Heat map"></a>Heat map</h4><h3 id="Visualization-for-Event-data"><a href="#Visualization-for-Event-data" class="headerlink" title="Visualization for Event data"></a>Visualization for Event data</h3><h4 id="Gantt-chart"><a href="#Gantt-chart" class="headerlink" title="Gantt chart"></a>Gantt chart</h4><p>timestamp + event properties</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gantt</span><br><span class="line">dateFormat  YYYY-MM-DD</span><br><span class="line">title Adding GANTT diagram to mermaid</span><br><span class="line">excludes weekdays 2014-01-10</span><br><span class="line"></span><br><span class="line">section A section</span><br><span class="line">Completed task            :done,    des1, 2014-01-06,2014-01-08</span><br><span class="line">Active task               :active,  des2, 2014-01-09, 3d</span><br><span class="line">Future task               :         des3, after des2, 5d</span><br><span class="line">Future task2               :         des4, after des3, 5d</span><br></pre></td></tr></table></figure>
<p>Another instance<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gantt</span><br><span class="line">    title A Gantt Diagram</span><br><span class="line">    dateFormat  YYYY-MM-DD</span><br><span class="line">    section Section</span><br><span class="line">    A task           :a1, 2014-01-01, 30d</span><br><span class="line">    Another task     :after a1  , 20d</span><br><span class="line">    section Another</span><br><span class="line">    Task in sec      :2014-01-12  , 12d</span><br><span class="line">    another task      : 24d</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>视觉理论</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>visualization</tag>
      </tags>
  </entry>
  <entry>
    <title>volatile关键字</title>
    <url>/2020/05/15/volatile%E5%85%B3%E9%94%AE%E5%AD%97/</url>
    <content><![CDATA[<h2 id="volatile-易变的"><a href="#volatile-易变的" class="headerlink" title="volatile: 易变的"></a>volatile: 易变的</h2><p><a href="https://blog.csdn.net/huhuandk/article/details/92771038" target="_blank" rel="noopener">https://blog.csdn.net/huhuandk/article/details/92771038</a> C语言中volatile关键字的作用</p>
<h3 id="volatile作用"><a href="#volatile作用" class="headerlink" title="volatile作用"></a>volatile作用</h3><p>访问寄存器要比访问内存单元快的多,所以编译器一般都会作减少存取内存的优化，但有可能会读脏数据</p>
<ul>
<li>当要求使用volatile声明变量值的时候，系统总是重新从它所在的内存读取数据，即使它前面的指令刚刚从该处读取过数据。</li>
<li>遇到这个关键字声明的变量，编译器对访问该变量的代码就不再进行优化，从而可以提供对特殊地址的稳定访问；</li>
<li>如果不使用valatile，则编译器将对所声明的语句进行优化。</li>
</ul>
<h3 id="使用volatile变量的几个场景"><a href="#使用volatile变量的几个场景" class="headerlink" title="使用volatile变量的几个场景"></a>使用volatile变量的几个场景</h3><ol>
<li>中断服务程序中修改的供其它程序检测的变量需要加volatile</li>
<li>多任务环境下各任务间共享的标志应该加volatile</li>
<li>存储器映射的硬件寄存器通常也要加voliate，因为每次对它的读写都可能有不同意义</li>
</ol>
<h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><ol>
<li>一个参数既可以是const还可以是volatile吗？</li>
</ol>
<blockquote>
<p>可以的，例如只读的状态寄存器。它是volatile因为它可能被意想不到地改变。它是const因为程序不应该试图去修改它。</p>
</blockquote>
<ol>
<li>一个指针可以是volatile 吗？</li>
</ol>
<blockquote>
<p>可以，当一个中断服务子程序修该一个指向一个buffer的指针时 </p>
</blockquote>
]]></content>
      <categories>
        <category>C</category>
        <category>语法</category>
      </categories>
      <tags>
        <tag>C</tag>
        <tag>linux</tag>
        <tag>compile</tag>
      </tags>
  </entry>
  <entry>
    <title>不可替代性</title>
    <url>/2020/05/16/%E4%B8%8D%E5%8F%AF%E6%9B%BF%E4%BB%A3%E6%80%A7/</url>
    <content><![CDATA[<h2 id="不可替代性"><a href="#不可替代性" class="headerlink" title="不可替代性"></a>不可替代性</h2><a id="more"></a>
<p>不可替代性 -&gt; 议价能力</p>
<p>不可替代性:</p>
<ul>
<li>技能水平提升</li>
<li>多技能</li>
<li>人脉 (协作, 调动资源)</li>
</ul>
]]></content>
      <categories>
        <category>道理</category>
      </categories>
      <tags>
        <tag>principle</tag>
      </tags>
  </entry>
  <entry>
    <title>如何quatus波形模拟</title>
    <url>/2020/05/15/%E5%A6%82%E4%BD%95quartus%E6%B3%A2%E5%BD%A2%E6%A8%A1%E6%8B%9F/</url>
    <content><![CDATA[<h2 id="输出模拟波形方法"><a href="#输出模拟波形方法" class="headerlink" title="输出模拟波形方法"></a>输出模拟波形方法</h2><p><a href="http://www.iqiyi.com/w_19rrobfj6d.html" target="_blank" rel="noopener">http://www.iqiyi.com/w_19rrobfj6d.html</a>    6 Quartus.II使用简介与第一个工程实例-FPGA视频教程<br><a id="more"></a></p>
<ol>
<li>打开QuartusⅡ软件，</li>
<li>选择File→New Project Wizard 新建一项工程。</li>
<li>单击Next进入。<br>（任何一项设计都是一项工程Project，必须首先为此工程建立一个放置与此工程相关的所有文件的文件夹，要用英文的比如存在E/eda），之后会出现三个要填的，分别E/eda，COUNT，COUNT;单击Next进入下一个，first name不填，单击Next进入对话框。在该对话框中指定目标器件，（我们选择的是QuickEDA核心板上用的Cyclone系列的EP1C6240C8。），next一直到finish</li>
<li>选择File→New ——VHDL file  ，将你的编程复制进去</li>
<li>File→save as（新建个文件夹 用英文的）文件名一定要更改为COUNT（保持和实体一致，默认的文件名为VHDL1）</li>
<li>在QuartusⅡ主界面下选择Processing→Start Compilation进行全程编译，会显示“successful”</li>
<li>在QuartusⅡ主界面下选择File→New命令，打开新建文件对话框，在该对话框中选择Vector Waveform File ；</li>
<li>在Nane栏内双击鼠标左键，弹出对话框。</li>
<li>点击Node Finder 按钮5. 在Filter栏选择Pins:all，点击List按钮，弹出如图所示对话框。</li>
<li>点击&gt;&gt;按钮，按2次OK后。</li>
<li>设置仿真结束时间。<br>在QuartusⅡ主界面下选择Edit→End time…，打开图示对话框，将仿真结束时间设置为20us。</li>
<li>编辑输入节点波形<ul>
<li>选中clk，在工具栏中点击Overwrite Clock按钮，打开图示对话框，将CLK周期设置为50ns  </li>
<li>将clr设置为“0”（在波形图左边竖着的有个0矩形波）。（可以点击放大/缩小按钮，缩小时按右键）</li>
</ul>
</li>
<li>保存仿真波形文件，File→save，按默认的保存就行</li>
<li>功能仿真<ul>
<li>在QuartusⅡ主界面下选择Processing→Simulate Tool，</li>
<li>在Simulation mode 下选择Functional，点击Generate Functional Simulation Netlist按钮。  </li>
<li>点击Start按钮开始仿真。  </li>
<li>仿真后点击Report按钮，打开仿真结果窗口（波形就出来了），在该”窗口中可以观察设计结果，功能‍仿真没有考虑器件的延迟时间。</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>数字电路</category>
        <category>Quartus</category>
      </categories>
      <tags>
        <tag>Quartus</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>怎样做presentation</title>
    <url>/2020/05/16/%E6%80%8E%E6%A0%B7%E5%81%9Apresentaion/</url>
    <content><![CDATA[<h2 id="怎样做presentation"><a href="#怎样做presentation" class="headerlink" title="怎样做presentation"></a>怎样做presentation</h2><a id="more"></a>
<h3 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h3><p>为什么做这个简报（WHY），<br>它针对的对象是什么人（WHO），<br>接着就是你要讲什么（WHAT），<br>最后才是技巧（HOW）</p>
<p>说服听众:<br>他们对主题了解多少？<br>他们对主题的态度如何，是挑战还是同意？<br>他们为什么来参加你的展示？<br>他们是否胸怀开放，易于接受你的观点？<br>有哪些展示技巧可以获取他们的注意力？<br>所有人都理解  </p>
<h3 id="展示出所擅长"><a href="#展示出所擅长" class="headerlink" title="展示出所擅长"></a>展示出所擅长</h3><p>对专家你要多分析，比较与做差异化。40%专业知识<br>学生了解很少，60%一般讯息</p>
<h3 id="表现"><a href="#表现" class="headerlink" title="表现"></a>表现</h3><p>动作手势要优雅，不要着急与不安<br>积极的情感<br>自信，对于你的声音、神态、仪表都会有好的提升  </p>
<h3 id="PPT，也很重要"><a href="#PPT，也很重要" class="headerlink" title="PPT，也很重要"></a>PPT，也很重要</h3><p>请：1.干净  2.舒服 3.明白  4.字少图多<br>干净，是指你的PPT不要花里胡哨的，不要留白。<br>舒服，是指颜色和字体；颜色不要冲突，前后一致，字体不要怪异，前后一致。<br>明白，是说PPT制作的逻辑清楚，让观众一眼能看明白你想干什么<br>直观、明白而且震撼！所有要选好图<br>note: PPT中的图和数据也要标明出处。 </p>
<h3 id="presentation是一个故事"><a href="#presentation是一个故事" class="headerlink" title="presentation是一个故事"></a>presentation是一个故事</h3><p>你讲的内容实际上就是一个很有趣的话题，其实绝大多是paper的背景，仔细挖掘挖掘，你都会有惊喜的<br>其次，presentation这个大故事里讲一个小故事，或者小八卦~~~~比如先生在讲细胞周期蛋白的时候，肯定会讲tim hunter和海胆卵的故事  </p>
<p>所有的presentation都应该是一个故事:<br>对自己的课题有足够了解，有自己的内在逻辑:<br>起因，经过，(高潮内容)结果  </p>
<ol>
<li>你了解前人的工作，你知道最近的进展  </li>
<li>你知道自己的每一个实验是为什么做  </li>
<li>也知道这个结果意味着什么  </li>
</ol>
<p>Building the Story Telling Line都有相似的起承转合：<br>第一步：一个看似平静美好的现状/一个看似无所不能的英雄。(Set up 背景的介绍和各种伏笔)<br>第二步：遇到了困难，路障，甚至已经快不行了。 (Confliction 矛盾和冲突)<br>第三步：剧情反转，凭借着聪明才智/真爱/一些别的buff，最终战胜了困难。 (Solution 解决方案)<br>起承转合，则是我们在presentation中需要不露痕迹的做到的。<br>每一幕的转折，我们叫做plot point，对，也就是你们平时会说：Next, Furthermore, I will talk about……的时候了。抛开那些生硬的过渡语吧  </p>
<p>STAR Moment  </p>
<ol>
<li>展示，比如乔布斯用指纹解锁了iphone的那一刹那  </li>
<li>citation，比如一些采访里经典的话   </li>
<li>震撼人心的picture，比如放了小海龟身上被绑了塑料袋的图片  </li>
<li>story，比如催人泪下的那种，但是这个要把握好不要太私人了  </li>
<li>令人震惊的data，比如x飘飘一年卖出3亿多杯，绕地球1圈  </li>
</ol>
<p>幽默自嘲式结尾</p>
]]></content>
      <categories>
        <category>表达</category>
      </categories>
      <tags>
        <tag>presentation</tag>
        <tag>ppt</tag>
      </tags>
  </entry>
  <entry>
    <title>摘要怎么写 [PARI法]</title>
    <url>/2020/05/15/%E6%91%98%E8%A6%81%E6%80%8E%E4%B9%88%E5%86%99_PARI/</url>
    <content><![CDATA[<h2 id="摘要怎么写-PARI法"><a href="#摘要怎么写-PARI法" class="headerlink" title="摘要怎么写 [PARI法]"></a>摘要怎么写 [PARI法]</h2><p>P = Problem: 文章要解决什么问题</p>
<p>A = Approach: 文章用得是什么方法解决提出的问题</p>
<p>R = Results: 解决了问题得到了些什么结果</p>
<p>I = Impacts: 这些结果有什么具体理论或者实际的影响<br><a id="more"></a></p>
<p>先按照以下四个句式写四句话，概括研究成果：</p>
<p>The problem I am trying to solve in thispaper is …</p>
<p>The approach I adopt to solve the problemis …</p>
<p>The results obtained in this researchinclude …</p>
<p>The impacts of our obtained results are …</p>
<p>更详细些，加上前面:  简短做啥的 + background</p>
<ol>
<li>what is the subject matter/area the research is dealing with?</li>
<li>what background information?总结现状的基础上提出问题</li>
<li>what is the purpose of the present study?   P</li>
<li>how is the research to be done?   A</li>
<li>what are some of the important findings?   R</li>
<li>what are some of the implications of the study?  I</li>
</ol>
]]></content>
      <categories>
        <category>论文</category>
      </categories>
      <tags>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title>数据结构怎么学</title>
    <url>/2020/05/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%80%8E%E4%B9%88%E5%AD%A6/</url>
    <content><![CDATA[<p>作者: 林少维<br>链接: <a href="https://www.zhihu.com/question/19830721/answer/23418658" target="_blank" rel="noopener">https://www.zhihu.com/question/19830721/answer/23418658</a></p>
<h2 id="学理论＋可视化＋编程实践"><a href="#学理论＋可视化＋编程实践" class="headerlink" title="学理论＋可视化＋编程实践"></a>学理论＋可视化＋编程实践</h2><a id="more"></a>
<ol>
<li>数据存储的目的是便于数据访问。这个关系就是数据结构  </li>
<li>算法是计算机解题的模型：<ul>
<li>输入</li>
<li>输出</li>
<li>顺序执行</li>
<li>跳转</li>
<li>循环</li>
<li>分支</li>
<li>有限步骤</li>
</ul>
</li>
<li>大脑组织数据的方式 有线，树，图三种逻辑结构,<br>计算机存储采用顺序，链式和两者混合的方式,<br>前者是概念性，后者是物理实现</li>
</ol>
<h2 id="线形结构"><a href="#线形结构" class="headerlink" title="线形结构"></a>线形结构</h2><ul>
<li>算法是迭代算法，</li>
<li>注意规模最小的情况下不出错，则算法一般不出错</li>
</ul>
<h2 id="树形结构"><a href="#树形结构" class="headerlink" title="树形结构"></a>树形结构</h2><ul>
<li><p>算法是递归算法，将简单情形组合出复杂情形</p>
</li>
<li><p>简单情形不出错，则算法一般不会出错。</p>
</li>
</ul>
<h2 id="图形结构"><a href="#图形结构" class="headerlink" title="图形结构"></a>图形结构</h2><ul>
<li><p>DFS：将图按树形结构来处理，运用递归算法</p>
</li>
<li><p>BFS：将图按线形结构来处理，运用迭代算法</p>
</li>
</ul>
<h2 id="必须会下面几个算法"><a href="#必须会下面几个算法" class="headerlink" title="必须会下面几个算法"></a>必须会下面几个算法</h2><p>（线形两个）</p>
<ul>
<li><p>将两个有序表合并为一个表，<br>这个算法的变种很多，可以是链表，顺序表。<br>涉及集合运算，归并排序，字符串处理。</p>
</li>
<li><p>将一个顺序表的元素重新划分，左边的较小，右边较大<br>涉及快速排序，求字符串的逆串。</p>
</li>
</ul>
<p>（树形若干个）注意：有些可以实现，有些实现不了，拿来思考</p>
<ul>
<li><p>前序线索化<br>递归实现，栈模拟递归，非栈式迭代实现</p>
</li>
<li><p>中序线索化<br>递归实现，栈模拟递归，非栈式迭代实现</p>
</li>
<li><p>后序线索化<br>递归实现，栈模拟递归，非栈式迭代实现</p>
</li>
</ul>
<p>（图形）注意：会画表格，写出算法的逐个步骤即可</p>
<ul>
<li>MST: prim,kruskal</li>
<li>short path: Dijkstra, Floyd</li>
<li>AOV: 拓扑排序的DFS, BFS实现</li>
<li>AOE：关键路径</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>中庸</title>
    <url>/2020/05/15/classics/%E4%B8%AD%E5%BA%B8/</url>
    <content><![CDATA[<h2 id="中庸"><a href="#中庸" class="headerlink" title="中庸"></a>中庸</h2><a id="more"></a>
<p>第一章</p>
<p>『1』天命之谓性；率性之谓道；修道之谓教。</p>
<p>『2』道也者，不可须臾离也；可离，非道也。是故君子戒慎乎其所不睹，恐惧乎其所不闻。</p>
<p>『3』莫见乎隐，莫显乎微。故君子慎其独也。</p>
<p>『4』喜、怒、哀、乐之未发，谓之中。发而皆中节，谓之和。中也者，天下之大本也。和也者，天下之达道也。</p>
<p>『5』致中和，天地位焉，万物育焉。</p>
<p>第一章，子思述所传之意，以立言。首明道之本原出于天，而不可易；其实体备于己，而不可离。次言存养省察之要。终言圣神功化之极。盖欲学者于此，反求诸身而自得之，以去未外诱之私，而充其本然之善。杨氏所谓一篇之体「要是也。」其下十章盖子思引夫子之言，以终此章之义。</p>
<p>第二章</p>
<p>『1』仲尼曰，「君子中庸；小人反中庸。」</p>
<p>『2』「君子之中庸也，君子而时中。小人之反（有书作“小人之反中庸也”，也有书作“小人之中庸也”）中庸也，小人而无忌惮也。」</p>
<p>第三章</p>
<p>子曰：「中庸其至矣乎！民鲜能久矣。」</p>
<p>第四章<br>『1』子曰：「道之不行也，我知之矣：知者过之；愚者不及也。道之不明也，我知之矣：贤者过之；不肖者不及也。」</p>
<p>『2』「人莫不饮食也。鲜能知味也。」</p>
<p>第五章</p>
<p>子曰：「道其不行矣夫。」</p>
<p>第六章</p>
<p>子曰：「舜其大知也与！舜好问而好察迩言。隐恶而扬善。执其两端，用其中于民。其斯以为舜乎！」</p>
<p>第七章</p>
<p>子曰：「人皆曰『予知』，驱而纳诸罟擭陷阱之中，而莫之知辟也。人皆曰『予知』，择乎中庸，而不能期月守也。」</p>
<p>第八章</p>
<p>子曰，「回之为人也：择乎中庸，得一善，则拳拳服膺，而弗失之矣。」</p>
<p>第九章</p>
<p>子曰，「天下国家，可均也；爵禄，可辞也；白刃，可蹈也；中庸不可能也。」</p>
<p>第十章</p>
<p>『1』子路问强。</p>
<p>『2』子曰，「南方之强与，北方之强与，抑而强与？」</p>
<p>『3』「宽柔以教，不报无道，南方之强也。君子居之。」</p>
<p>『4』衽金革，死而不厌，北方之强也。而强者居之。」</p>
<p>『5』故君子和而不流；强哉矫。中立而不倚；强哉矫。国有道，不变塞焉；强哉矫。国无道，至死不变；强哉矫。」</p>
<p>第十一章</p>
<p>『1』子曰，「素隐行怪，后世有述焉：吾弗为之矣。」</p>
<p>『2』「君子遵道而行，半途而废：吾弗能已矣。」</p>
<p>『3』「君子依乎中庸。遯世不见知而不悔：唯圣者能之。」</p>
<p>第十二章</p>
<p>『1』君子之道，费而隐。</p>
<p>『2』夫妇之愚，可以与知焉，及其至也，虽圣人亦有所不知焉。夫妇之不肖，可以能行焉，及其至也，虽圣人亦有所所不能焉。天地之大也，人犹有所憾。故君子语大，天下莫能载焉，语小，天下莫能破焉。</p>
<p>『3』诗云，「鸢飞戾天；鱼跃于渊。」言其上下察也。</p>
<p>『4』君子之道，造端乎夫妇；及其至也，察乎天地。</p>
<p>第十三章</p>
<p>『1』子曰，「道不远人。人之为道而远人，不可以为道。」</p>
<p>『2』「诗云，『伐柯伐柯，其则不远。』执柯以伐柯，睨而视之。犹以为远。故君子以人治人，改而止。」</p>
<p>『3』「忠恕违道不远。施诸己而不愿，亦勿施于人。」</p>
<p>『4』「君子之道四，丘未能一焉：所求乎子，以事父，未能也；所求乎臣，以事君，未能也；所求乎弟，以事兄，未能也；所求乎朋友，先施之，未能也。庸德之行，庸言之谨；有所不足，不敢不勉；有余，不敢尽。言顾行，行顾言。君子胡不慥慥尔。」</p>
<p>第十四章</p>
<p>『1』君子素其位而行，不愿乎其外。</p>
<p>『2』素富贵，行乎富贵；素贫贱，行乎贫贱；素夷狄，行乎夷狄；素患难，行乎患难。君子无入而不自得焉。</p>
<p>『3』在上位，不陵下；在下位，不援上；正己而不求于人则无怨。上不怨天，下不尤人。</p>
<p>『4』故君子居易以俟命，小人行险以徼幸。</p>
<p>『5』子曰，「射有似乎君子。失诸正鹄，反求诸其身。」</p>
<p>第十五章</p>
<p>『1』君子之道，辟如行远必自迩，辟如登高必自卑。</p>
<p>『2』诗曰，「妻子好合，如鼓瑟琴。兄弟既翕，和乐且耽。宜尔室家，乐尔妻帑。」</p>
<p>『3』子曰，「父母其顺矣乎。」</p>
<p>第十六章</p>
<p>『1』子曰，「鬼神之为德，其盛矣乎。」</p>
<p>『2』「视之而弗见；听之而弗闻；体物而不可遗。」</p>
<p>『3』「使天下之人，齐明盛服，以承祭祀。洋洋乎，如在其上，如在其左右。」</p>
<p>『4』「诗曰，『神之格思，不可度思，矧可射思？』」</p>
<p>『5』「夫微之显。诚之不可揜，如此夫。」</p>
<p>第十七章</p>
<p>『1』子曰，「舜其大孝也与！德为圣人，尊为天子，富有四海之内。宗庙飨之，子孙保之。」</p>
<p>『2』「故大德，必得其位，必得其禄，必得其名，必得其寿。」</p>
<p>『3』「故天之生物必因其材而笃焉。故栽者培之，倾者覆之。」</p>
<p>『4』「诗曰，『嘉乐君子，宪宪令德，宜民宜人。受禄于天。保佑命之，自天申之。』」</p>
<p>『5』「故大德者必受命。」</p>
<p>第十八章</p>
<p>『1』子曰，「无忧者，其惟文王乎。以王季为父，以武王为子。父作之，子述之。」</p>
<p>『2』「武王缵太王、王季、文王之绪。壹戎衣，而有天下。身不失天下之显名。尊为天子。富有四海之内。宗庙飨之。子孙保之。」</p>
<p>『3』「武王末受命，周公成文武之德。追王太王、王季，上祀先公以天子之礼。斯礼也，达乎诸侯大夫，及士庶人。父为大夫，子为士；葬以大夫，祭以士。父为士，子为大夫；葬以士，祭以大夫。期之丧，达乎大夫；三年之丧，达乎天子；父母之丧，无贵贱，一也。」</p>
<p>第十九章</p>
<p>『1』子曰，「武王、周公，其达孝矣乎。」</p>
<p>『2』「夫孝者，善继人之志，善述人之事者也。」</p>
<p>『3』「春秋，修其祖庙，陈其宗器，设其裳衣，荐其时食。」</p>
<p>『4』「宗庙之礼，所以序昭穆也。序爵，所以辨贵贱也。序事，所以辨贤也。旅酬下为上，所以逮贱也。燕毛所以序齿也。」</p>
<p>『5』「践其位，行其礼，奏其乐，敬其所尊，爱其所亲，事死如事生，事亡如事存，孝之至也。」</p>
<p>『6』「郊社之礼，所以事上帝也。宗庙之礼，所以祀乎其先也。明乎郊社之礼，禘尝之义，治国其如示诸掌乎。」</p>
<p>第二十章</p>
<p>『1』哀公问政。</p>
<p>『2』子曰，「文武之政，布在方策。其人存，则其政举；其人亡，则其政息。」</p>
<p>『3』「人道敏政，地道敏树。夫政也者，蒲卢也。」</p>
<p>『4』「故为政在人。取人以身。修身以道。修道以仁。」</p>
<p>『5』「仁者，人也，亲亲为大。义者，宜也，尊贤为大。亲亲之杀，尊贤之等，礼所生也。」</p>
<p>『6』「在下位，不获乎上，民不可得而治矣。」</p>
<p>『7』「故君子，不可以不修身。思修身，不可以不事亲。思事亲，不可以不知人。思知人，不可以不知天。」</p>
<p>『8』「天下之达道五，所以行之者三，曰：君臣也、父子也、夫妇也、昆弟也、朋友之交也。五者，天下之达道也。知、仁、勇三者，天下之达德也。所以行之者一也。」</p>
<p>『9』「或生而知之；或学而知之；或困而知之：及其知之，一也。或安而行之；或利而行之；或勉强而行之：及其成功，一也。」</p>
<p>『10』子曰，「好学近乎知。力行近乎仁。知耻近乎勇。」</p>
<p>『11』「知斯三者，则知所以修身。知所以修身，则知所以治人。知所以治人，则知所以治天下国家矣。」</p>
<p>『12』「凡为天下国家有九经，曰：修身也、尊贤也、亲亲也、敬大臣也、体群臣也、子庶民也、来百工也、柔远人也、怀诸侯也。」</p>
<p>『13』「修身，则道立。尊贤，则不惑。亲亲，则诸父昆弟不怨。敬大臣，则不眩。体群臣，则士之报礼重。子庶民，则百姓劝。来百工，则财用足。柔远人，则四方归之。怀诸侯，则天下畏之。」</p>
<p>『14』「齐明盛服，非礼不动：所以修身也。去谗远色，贱货而贵德，所以劝贤也。尊其位，重其禄，同其好恶，所以劝亲亲也。官盛任使，所以劝大臣也。忠信重禄，所以劝士也。时使薄敛，所以劝百姓也。日省月试，既禀称事，所以劝百工也。送往迎来，嘉善而矜不能所以柔远人也。继绝世，举废国，治乱持危，朝聘以时，厚往而薄来，所以怀诸侯也。」</p>
<p>『15』「凡为天下国家有九经，所以行之者一也。」</p>
<p>『16』「凡事，豫则立，不豫则废。言前定，则不跲。事前定，则不困。行前定，则不疚。道前定，则不穷。」</p>
<p>『17』「在下位不获乎上，民不可得而治矣。获乎上有道：不信乎朋友，不获乎上矣。信乎朋友有道：不顺乎亲，不信乎朋友矣。顺乎亲有道：反者身不诚，不顺乎亲矣。诚身有道：不明乎善，不诚乎身矣。」</p>
<p>『18』「诚者，天之道也。诚之者，人之道也。诚者，不勉而中不思而得：从容中道，圣人也。诚之者，择善而固执之者也。」</p>
<p>『19』「博学之，审问之，慎思之，明辨之，笃行之。」</p>
<p>『20』「有弗学，学之弗能，弗措也。有弗问，问之弗知，弗措也。有弗思，思之弗得，弗措也。有弗辨，辨之弗明，弗措也。有弗行，行之弗笃，弗措也。人一能之，己百之。人十能之，己千之。」</p>
<p>『21』「果能此道矣，虽愚必明，虽柔必强。」</p>
<p>第二十一章</p>
<p>「自诚明，谓之性；自明诚谓之教。诚则明矣；明则诚矣。」</p>
<p>第二十一章。子思承上章，夫子天道人道之意，而立言也。自此以下十二章，皆子思之言，以反覆推明此章之意。</p>
<p>第二十二章</p>
<p>唯天下至诚为能尽其性。能尽其性，则能尽人之性。能尽人之性，则能尽物之性。能尽物之性，则可以赞天地之化育。可以赞天地之化育，则可以与天地参矣。</p>
<p>第二十三章</p>
<p>其次致曲。曲能有诚。诚则形。形则著。著则明。明则动。动则变。变则化。唯天下至诚为能化。</p>
<p>第二十四章</p>
<p>至诚之道可以前知。国家将兴，必有祯祥；国家将亡，必有妖孽。见乎蓍龟，动乎四体。祸福将至，善必先知之；不善，必先知之。故至诚如神。</p>
<p>第二十五章</p>
<p>『1』诚者自成也，而道自道也。</p>
<p>『2』诚者，物之终始。不诚无物。是故君子诚之为贵。</p>
<p>『3』诚者，非自成己而已也。所以成物也。成己仁也。成物知也。性之德也，合外内之道也。故时措之宜也。</p>
<p>第二十六章</p>
<p>『1』故至诚无息。</p>
<p>『2』不息则久，久则征。</p>
<p>『3』征则悠远。悠远，则博厚。博厚，则高明。</p>
<p>『4』博厚，所以载物也。高明，所以覆物也。悠久，所以成物也。</p>
<p>『5』博厚，配地。高明，配天。悠久，无疆。</p>
<p>『6』如此者，不见而章，不动而变，无为而成。</p>
<p>『7』天地之道，可一言而尽也。其为物不贰，则其生物不测。</p>
<p>『8』天地之道，博也、厚也、高也、明也、悠也、久也。</p>
<p>『9』今夫天斯昭昭之多，及其无穷也，日月星辰系焉，万物覆焉。今夫地一撮土之多，及其广厚载华岳而不重，振河海而不洩，万物载焉。今夫山一卷石之多，及其广大，草木生之，禽兽居之，宝藏兴焉。今夫水，一勺之多，及其不测，鼋、鼍、蛟、龙、鱼、鳖生焉，货财殖焉。</p>
<p>『10』诗云，「维天之命，于穆不已。」盖曰，天之所以为天也。「于乎不显，文王之德之纯。」盖曰，文王之所以为文也。纯亦不已。</p>
<p>第二十七章</p>
<p>『1』大哉圣人之道！</p>
<p>『2』洋洋乎，发育万物，峻极于天。</p>
<p>『3』优优大哉，礼仪三百威仪三千。</p>
<p>『4』待其人而後行。</p>
<p>『5』故曰，「苟不至德，至道不凝焉。」</p>
<p>『6』故君子尊德性，而道问学，致广大，而尽精微，极高明，而道中庸。温故，而知新，敦厚以崇礼。</p>
<p>『7』是故居上不骄，为下不倍。国有道，其言足以兴；国无道，其默足以容。诗曰：「既明且哲，以保其身。」其此之谓与？</p>
<p>第二十八章</p>
<p>『1』子曰：「愚而好自用，贱而好字专。生乎今之世，反古之道。如此者灾及其身者也。」</p>
<p>『2』非天子不议礼，不制度，不考文。</p>
<p>『3』今天下，车同轨，书同文，行同伦。</p>
<p>『4』虽有其位，苟无其德，不敢作礼乐焉。虽有其德，苟无其位，亦不敢作礼乐焉。<br>『5』子曰，「吾说夏礼，杞不足徵也。吾学殷礼，有宋存焉。吾学周礼，今用之。吾从周。」</p>
<p>第二十九章</p>
<p>『1』王天下有三重焉，其寡过矣乎！</p>
<p>『2』上焉者虽善，无征。无征，不信。不信，民弗从。下焉者虽善，不尊。不尊，不信。不信，民弗从。</p>
<p>『3』故君子之道，本诸身，徵诸庶民。考诸三王而不缪，建诸天地而不悖。质诸鬼神而无疑。百世以俟圣人而不惑。</p>
<p>『4』质鬼神而无疑，知天也。百世以俟圣人而不感，知人也。</p>
<p>『5』是故君子动而世为天下道，行而世为天下法，言而世为天下则。远之，则有望；近之，则不厌。</p>
<p>『6』诗曰，「在彼无恶，在此无射；庶几夙夜，以永终誉。」君子未有不如此，而蚤有誉于天下者也。</p>
<p>第三十章</p>
<p>『1』仲尼祖述尧舜，宪章文武。上律天时，下袭水土。</p>
<p>『2』辟如天地之无不持载，无不覆帱。辟如四时之错行，如日月之代明。</p>
<p>『3』万物并育而不相害。道并行而不相悖。小德川流；大德敦化。此天地之所以为大也。</p>
<p>第三十一章</p>
<p>『1』唯天下至圣，为能聪、明、睿知、足以有临也；宽、裕、温、柔、足以有容也；发、强、刚、毅、足以有执也；齐、庄、中、正、足以有敬也；文、理、密、察、足以有别也。</p>
<p>『2』溥博，渊泉，而时出之。</p>
<p>『3』溥博如天；渊泉如渊。见而民莫不敬；言而民莫不信；行而民莫不说。</p>
<p>『4』是以声名洋溢乎中国，施及蛮貊。舟车所至，人力所通，天之所覆，地之所载，日月所照，霜露所队：凡有血气者莫不尊亲。故曰，「配天」。</p>
<p>第三十二章</p>
<p>『1』唯天下至诚，为能经纶天下之大经，立天下之大本，知天地之化育。夫焉有所倚？</p>
<p>『2』肫肫其仁！渊渊其渊！浩浩其天！</p>
<p>『3』苟不固聪明圣知，达天德者，其孰能知之？</p>
<p>第三十三章</p>
<p>『1』诗曰，「衣锦尚絅，」恶其文之著也。故君子之道，闇然而日章；小人之道，的然而日亡。君子之道，淡而不厌、简而文、温而理。知远之近，知风之自，知微之显。可与入德矣。</p>
<p>『2』诗云，「潜虽伏矣，亦孔之昭。」故君子内省不疚，无恶于志。君子之所不可及者，其唯人之所不见乎。</p>
<p>『3』诗云，「相在尔室，尚不愧于屋漏。」故君子不动而敬，不言而信。</p>
<p>『4』诗曰，「奏假无言，时靡有争。」是故君子不赏而民劝，不怒而民威于鈇钺。</p>
<p>『5』诗曰，「不显惟德，百辟其刑之。」是故君子笃恭而天下平。</p>
<p>『6』诗云，「予怀明德，不大声以色。」子曰，「声色之于以化民，末也。」</p>
<p>『7』诗曰，「德輶如毛。」毛犹有伦。「上天之载，无声无臭。」至矣。</p>
<p>第三十四章。子思因前章极致之言，反求其本；复自下学为己谨独之事推而言之，以驯致乎笃恭而天下平之盛。又赞其妙，至于于声无臭，而后已焉。盖举一篇之要，而约言之。其反复丁宁示人之意，至深切矣。学者，其可不尽心乎？</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>经典</category>
      </categories>
  </entry>
  <entry>
    <title>前赤壁赋</title>
    <url>/2020/05/15/classics/%E5%89%8D%E8%B5%A4%E5%A3%81%E8%B5%8B/</url>
    <content><![CDATA[<h2 id="前赤壁赋"><a href="#前赤壁赋" class="headerlink" title="前赤壁赋"></a>前赤壁赋</h2><a id="more"></a>
<p>壬戌之秋，七月既望，</p>
<p>苏子与客泛舟游于赤壁之下。</p>
<p>清风徐来，水波不兴。</p>
<p>举酒属客，</p>
<p>诵明月之诗，歌窈窕之章。</p>
<p>少焉，</p>
<p>月出于东山之上，徘徊于斗牛之间。</p>
<p>白露横江，水光接天。</p>
<p>纵一苇之所如，凌万顷之茫然。</p>
<p>浩浩乎如冯虚御风，而不知其所止；</p>
<p>飘飘乎如遗世独立，羽化而登仙。</p>
<p>于是饮酒乐甚，扣舷而歌之。</p>
<p>歌曰：</p>
<p>“桂棹兮兰桨，击空明兮溯流光。</p>
<p>渺渺兮予怀，望美人兮天一方。”，</p>
<p>客有吹洞箫者，倚歌而和之。</p>
<p>其声呜呜然，</p>
<p>如怨如慕，如泣如诉，</p>
<p>余音袅袅，不绝如缕。</p>
<p>舞幽壑之潜蛟，泣孤舟之嫠妇。</p>
<p>苏子愀然，正襟危坐而问客曰：“何为其然也？”，</p>
<p>客曰：</p>
<p>“月明星稀，乌鹊南飞，</p>
<p>此非曹孟德之诗乎？</p>
<p>西望夏口，东望武昌，</p>
<p>山川相缪，郁乎苍苍，</p>
<p>此非孟德之困于周郎者乎？</p>
<p>方其破荆州，下江陵，顺流而东也，</p>
<p>舳舻千里，旌旗蔽空，</p>
<p>酾酒临江，横槊赋诗，</p>
<p>固一世之雄也，而今安在哉？</p>
<p>况吾与子</p>
<p>渔樵于江渚之上，侣鱼虾而友麋鹿，</p>
<p>驾一叶之扁舟，举匏樽以相属。</p>
<p>寄蜉蝣与天地，渺沧海之一粟。</p>
<p>哀吾生之须臾，羡长江之无穷。</p>
<p>挟飞仙以遨游，抱明月而长终。</p>
<p>知不可乎骤得，托遗响于悲风。”，</p>
<p>苏子曰：</p>
<p>“客亦知夫水与月乎？</p>
<p>逝者如斯，而未尝往也；</p>
<p>盈虚者如彼，而卒莫消长也。</p>
<p>盖将</p>
<p>自其变者而观之，而天地曾不能一瞬；</p>
<p>自其不变者而观之，则物与我皆无尽也，</p>
<p>而又何羡乎!</p>
<p>且夫</p>
<p>天地之间，物各有主,</p>
<p>苟非吾之所有，虽一毫而莫取。</p>
<p>惟江上之清风，与山间之明月，</p>
<p>耳得之而为声，目遇之而成色，</p>
<p>取之无禁，用之不竭，</p>
<p>是造物者之无尽藏也，而吾与子之所共适。”</p>
<p>客喜而笑，洗盏更酌。</p>
<p>肴核既尽，杯盘狼藉。</p>
<p>相与枕藉乎舟中，不知东方之既白。</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>赋文</category>
      </categories>
  </entry>
  <entry>
    <title>思旧赋</title>
    <url>/2020/05/15/classics/%E6%80%9D%E6%97%A7%E8%B5%8B%E5%B9%B6%E5%BA%8F/</url>
    <content><![CDATA[<h2 id="思旧赋"><a href="#思旧赋" class="headerlink" title="思旧赋"></a>思旧赋</h2><a id="more"></a>
<p>余与嵇康、吕安居止接近，其人有不羁之才</p>
<p>然嵇志远而疏，吕心旷而放，其后各以事见法</p>
<p>嵇博综技艺，于丝竹特妙，临当就命，顾视日影，索琴而弹之</p>
<p>余逝将西迈，经其旧庐</p>
<p>于时日薄虞渊，寒冰凄然</p>
<p>邻人有吹笛者，发声寥亮</p>
<p>追思曩昔游宴之好，感音而叹，故作赋云：</p>
<p>将命适于远京兮，遂旋反而北徂</p>
<p>济黄河以泛舟兮，经山阳之旧居</p>
<p>瞻旷野之萧条兮，息余驾乎城隅</p>
<p>践二子之遗迹兮，历穷巷之空庐</p>
<p>叹黍离之愍周兮，悲麦秀于殷墟</p>
<p>惟古昔以怀人兮，心徘徊以踌躇</p>
<p>栋宇存而弗毁兮，形神逝其焉如</p>
<p>昔李斯之受罪兮，叹黄犬而长吟</p>
<p>悼嵇生之永辞兮，顾日影而弹琴</p>
<p>托运遇于领会兮，寄馀命于寸阴</p>
<p>听鸣笛之慷慨兮，妙声绝而复寻</p>
<p>停驾言其将迈兮，遂援翰而写心</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>赋文</category>
      </categories>
  </entry>
  <entry>
    <title>归去来兮辞</title>
    <url>/2020/05/15/classics/%E5%BD%92%E5%8E%BB%E6%9D%A5%E5%85%AE%E8%BE%9E%E5%B9%B6%E5%BA%8F/</url>
    <content><![CDATA[<h3 id="归去来兮辞并序1"><a href="#归去来兮辞并序1" class="headerlink" title="归去来兮辞并序1"></a>归去来兮辞并序<a href="#sdfootnote1sym">1</a></h3><a id="more"></a>
<p>陶渊明</p>
<blockquote>
<p>余家贫，耕植<a href="#sdfootnote2sym">2</a>不足以自给<a href="#sdfootnote3sym">3</a>。幼稚盈室<a href="#sdfootnote4sym">4</a>，瓶无储粟<a href="#sdfootnote5sym">5</a>，生生所资<a href="#sdfootnote6sym">6</a>，未见其术<a href="#sdfootnote7sym">7</a>。亲故多劝余为长吏<a href="#sdfootnote8sym">8</a>，脱然<a href="#sdfootnote9sym">9</a>有怀<a href="#sdfootnote10sym">10</a>，求之靡途<a href="#sdfootnote11sym">11</a>。会有四方之事<a href="#sdfootnote12sym">12</a>，诸侯以惠爱为德<a href="#sdfootnote13sym">13</a>，家叔<a href="#sdfootnote14sym">14</a>以余贫苦，遂见<a href="#sdfootnote15sym">15</a>用于小邑。于时风波未静<a href="#sdfootnote16sym">16</a>，心惮远役<a href="#sdfootnote17sym">17</a>，彭泽<a href="#sdfootnote18sym">18</a>去家百里，公田<a href="#sdfootnote19sym">19</a>之利，足以为酒。故便求之。及少日，眷然有归欤之情<a href="#sdfootnote20sym">20</a>。何则<a href="#sdfootnote21sym">21</a>？质性<a href="#sdfootnote22sym">22</a>自然，非矫厉<a href="#sdfootnote23sym">23</a>所得。饥冻虽切<a href="#sdfootnote24sym">24</a>，违己<a href="#sdfootnote25sym">25</a>交病<a href="#sdfootnote26sym">26</a>。尝从人事<a href="#sdfootnote27sym">27</a>，皆口腹自役<a href="#sdfootnote28sym">28</a>。于是怅然<a href="#sdfootnote29sym">29</a>慷慨，深愧平生之志。犹望一稔<a href="#sdfootnote30sym">30</a>，当敛裳宵逝<a href="#sdfootnote31sym">31</a>。寻<a href="#sdfootnote32sym">32</a>程氏妹<a href="#sdfootnote33sym">33</a>丧于武昌，情在骏奔<a href="#sdfootnote34sym">34</a>，自免去职。仲秋至冬，在官八十余日。因事顺心<a href="#sdfootnote35sym">35</a>，命篇曰《归去来兮》。乙巳<a href="#sdfootnote36sym">36</a>岁十一月也。</p>
</blockquote>
<p>归去来兮，田园将芜<a href="#sdfootnote37sym">37</a>胡<a href="#sdfootnote38sym">38</a>不归！既目以心为形役<a href="#sdfootnote39sym">39</a>，奚<a href="#sdfootnote40sym">40</a>惆怅而独悲？悟已往之不谏，知来者之可追<a href="#sdfootnote41sym">41</a>。实迷途其未远<a href="#sdfootnote42sym">42</a>，觉今是而昨非。舟遥遥以轻飏<a href="#sdfootnote43sym">43</a>，风飘飘而吹衣。问征夫以前路<a href="#sdfootnote44sym">44</a>，恨晨光之熹微<a href="#sdfootnote45sym">45</a>。</p>
<p>乃瞻衡宇<a href="#sdfootnote46sym">46</a>，载欣载奔<a href="#sdfootnote47sym">47</a>。僮仆欢迎，稚子候门。三径就荒<a href="#sdfootnote48sym">48</a>，松菊犹存。携幼入室，有酒盈樽。引壶觞以自酌，眄庭柯以怡颜<a href="#sdfootnote49sym">49</a>。倚南窗以寄傲<a href="#sdfootnote50sym">50</a>，审容膝之易安<a href="#sdfootnote51sym">51</a>。园日涉以成趣<a href="#sdfootnote52sym">52</a>，门虽设而常关。策扶老以流憩<a href="#sdfootnote53sym">53</a>，时矫首而遐观<a href="#sdfootnote54sym">54</a>。云无心以出岫<a href="#sdfootnote55sym">55</a>，鸟倦飞而知还。景翳翳以将入<a href="#sdfootnote56sym">56</a>，抚孤松而盘桓<a href="#sdfootnote57sym">57</a>。</p>
<p>归去来兮，请息交以绝遊<a href="#sdfootnote58sym">58</a>。世与我而相违，复驾言兮焉求<a href="#sdfootnote59sym">59</a>？悦亲戚之情话<a href="#sdfootnote60sym">60</a>，乐琴书以消忧。农人告余以春及<a href="#sdfootnote61sym">61</a>，将有事于西畴<a href="#sdfootnote62sym">62</a>。或命巾车<a href="#sdfootnote63sym">63</a>，或棹孤舟<a href="#sdfootnote64sym">64</a>。既窈窕以寻壑<a href="#sdfootnote65sym">65</a>，亦崎岖而经邱。木欣欣以向荣，泉涓涓而始流。善万物之得时<a href="#sdfootnote66sym">66</a>，感吾生之行休<a href="#sdfootnote67sym">67</a>。</p>
<p>已矣乎<a href="#sdfootnote68sym">68</a>！寓形宇内复几时<a href="#sdfootnote69sym">69</a>！曷不委心任去留<a href="#sdfootnote70sym">70</a>？胡为乎遑遑欲何之<a href="#sdfootnote71sym">71</a>？富贵非吾愿，帝乡不可期<a href="#sdfootnote72sym">72</a>。怀良辰以孤往<a href="#sdfootnote73sym">73</a>，或植杖而耘耔<a href="#sdfootnote74sym">74</a>。登东皋以舒啸<a href="#sdfootnote75sym">75</a>，临清流而赋诗。聊乘化以归尽<a href="#sdfootnote76sym">76</a>，乐天天命复奚疑<a href="#sdfootnote77sym">77</a>！</p>
<p>​    <a href="#sdfootnote1anc">1</a>选自逯钦立《陶渊明集》（中华书局1979年版）。来，助词，无义。辞，赋的一种，一般要押韵。陶渊明从29岁开始出仕，向往田园，一直厌恶官场于东晋义熙元年（405）十一月辞去彭泽令。这篇赋就是其回归田园之初激动欣喜之情的自然流露。</p>
<p>​    <a href="#sdfootnote2anc">2</a>耕植：耕田植桑</p>
<p>​    <a href="#sdfootnote3anc">3</a>自给：供给自己的生活</p>
<p>​    <a href="#sdfootnote4anc">4</a>幼稚盈室：指孩子多。幼稚，小孩。盈室，满屋</p>
<p>​    <a href="#sdfootnote5anc">5</a>瓶无储粟：指家无余粮。瓶，盛粮食的器皿。粟，本指谷子，脱壳后称为小米，这里指粮食。</p>
<p>​    <a href="#sdfootnote6anc">6</a>生生所资：所赖以维持生活的。生生，维持生活。资，凭借。</p>
<p>​    <a href="#sdfootnote7anc">7</a>术：这是指经营生计的本领</p>
<p>​    <a href="#sdfootnote8anc">8</a>长吏：指职位较高的官吏。《汉书·百官公卿表》：“秩四百石至二百石,是为长吏。”</p>
<p>​    <a href="#sdfootnote9anc">9</a>脱然：轻快的样子</p>
<p>​    <a href="#sdfootnote10anc">10</a>有怀：有所思念</p>
<p>​    <a href="#sdfootnote11anc">11</a>靡途：没有门路</p>
<p>​    <a href="#sdfootnote12anc">12</a>四方之事：指他接受建威将军江州刺史刘敬宣的任命出使的事情。会：恰逢</p>
<p>​    <a href="#sdfootnote13anc">13</a>诸侯以惠爱为德：地方大吏以爱惜人才为美德。</p>
<p>​    <a href="#sdfootnote14anc">14</a>家叔：作者的叔父陶夔,当时任太常卿（掌管国家祭祀礼乐医药的官）</p>
<p>​    <a href="#sdfootnote15anc">15</a>见：被</p>
<p>​    <a href="#sdfootnote16anc">16</a>风波未静：指战乱未停息。</p>
<p>​    <a href="#sdfootnote17anc">17</a>心惮远役：心里害怕到远方服役。</p>
<p>​    <a href="#sdfootnote18anc">18</a>彭泽：县名，在近江西湖口东。</p>
<p>​    <a href="#sdfootnote19anc">19</a>公田：供俸禄的田</p>
<p>​    <a href="#sdfootnote20anc">20</a>眷然有归欤之情：有辞官回家的想法。眷然，思念的样子。欤，语气词</p>
<p>​    <a href="#sdfootnote21anc">21</a>何则：什么道理呢？</p>
<p>​    <a href="#sdfootnote22anc">22</a>质性：本性。</p>
<p>​    <a href="#sdfootnote23anc">23</a>矫厉：造作勉强</p>
<p>​    <a href="#sdfootnote24anc">24</a>切：急迫</p>
<p>​    <a href="#sdfootnote25anc">25</a>违己：违反自己的意志。</p>
<p>​    <a href="#sdfootnote26anc">26</a>交病：身心都感动痛苦。</p>
<p>​    <a href="#sdfootnote27anc">27</a>尝从人事：曾经出仕。从，顺随。人事，指做官</p>
<p>​    <a href="#sdfootnote28anc">28</a>皆口腹自役：都是为了谋生糊口而役使自己。</p>
<p>​    <a href="#sdfootnote29anc">29</a>怅然：失意的样子。</p>
<p>​    <a href="#sdfootnote30anc">30</a>稔(rěn)：庄稼成熟         </p>
<p>​    <a href="#sdfootnote31anc">31</a>敛裳宵逝：收拾衣装，星夜离去</p>
<p>​    <a href="#sdfootnote32anc">32</a>寻：不久</p>
<p>​    <a href="#sdfootnote33anc">33</a>程氏妹：嫁到程家的妹妹。</p>
<p>​    <a href="#sdfootnote34anc">34</a>情在骏奔：去吊丧的心情像骏马奔驰一样急迫。</p>
<p>​    <a href="#sdfootnote35anc">35</a>因事顺心：因辞官而顺遂心愿。</p>
<p>​    <a href="#sdfootnote36anc">36</a>乙巳：晋安帝义熙元年（405）。</p>
<p>​    <a href="#sdfootnote37anc">37</a>芜：田地荒芜        </p>
<p>​    <a href="#sdfootnote38anc">38</a>胡：何，为什么。</p>
<p>​    <a href="#sdfootnote39anc">39</a>以心为形役：让内心被形体役使。形，形体，指身体。役，奴役。</p>
<p>​    <a href="#sdfootnote40anc">40</a>奚：何，为什么。</p>
<p>​    <a href="#sdfootnote41anc">41</a>勿以往之不谏，知来者之可追：认识到过去的错误已经不可挽回，知道未来的事还来得及补救。谏，劝止、挽回。追，补救。</p>
<p>​    <a href="#sdfootnote42anc">42</a>实迷途其未远：确实走入了迷途大概还不远。迷途，指出来做官。</p>
<p>​    <a href="#sdfootnote43anc">43</a>舟遥遥以轻飏（yáng）：船在水面上轻轻得飘荡着前进。遥遥，飘摇放流的样子。以，表修饰。飏，飞扬，形容船行驶轻快。</p>
<p>​    <a href="#sdfootnote44anc">44</a>问征夫以前路：向行人问前面的路程。征夫，行人。</p>
<p>​    <a href="#sdfootnote45anc">45</a>恨晨光之熹微：遗憾的是天刚刚放亮。熹微，天色微明。</p>
<p>​    <a href="#sdfootnote46anc">46</a>乃瞻衡宇：刚刚看见了自家的房子。乃，于是、然后。衡，通“横”。宇，屋檐，这里指居处</p>
<p>​    <a href="#sdfootnote47anc">47</a>载欣载奔：一边高兴，一边奔跑。</p>
<p>​    <a href="#sdfootnote48anc">48</a>三径就荒，松菊犹存：院子里的小路快要荒芜了，松菊还长在那里。三径，院中小路。汉朝蒋诩（xǔ）隐居之后，在院里竹下开辟三径，只与求仲、羊仲来往。后来，三径变成了隐士住处的代称。就，接近。</p>
<p>​    <a href="#sdfootnote49anc">49</a>眄（miǎn）庭柯以怡颜：看看院子里的树木，觉得很愉快。眄，斜看。这里是“随便看看”的意思。柯，树枝。怡颜，使面容现出愉快神色。怡，愉快，这里是使动用法，使愉快。</p>
<p>​    <a href="#sdfootnote50anc">50</a>寄傲：寄托傲然自得的心情。</p>
<p>​    <a href="#sdfootnote51anc">51</a>审容膝之易安：深知住在小屋里反而容易安适。审，明白，知道。    容膝，仅能容纳双膝的小屋，极言居室狭小。易安，容易使人安乐。</p>
<p>​    <a href="#sdfootnote52anc">52</a>园日涉以成趣：每天到园中散步，成为乐趣。园日涉，指每日在园中散步。涉，走</p>
<p>​    <a href="#sdfootnote53anc">53</a>策扶老以流憩（qì）：拄着拐杖出去，到处走走，随时随地休息。策，拄着。扶老，拐杖。流憩，指无目的的漫步和随时地休息。流，周游。憩：休息。</p>
<p>​    <a href="#sdfootnote54anc">54</a>时矫首而遐观：常常抬起头向远处望望。矫首，抬起头。矫，举。遐观，远望         </p>
<p>​    <a href="#sdfootnote55anc">55</a>云无心以出岫（xiù）：云气自然而然地冒出山头。无心，无意。岫，有洞穴的山，这里泛指山峰</p>
<p>​    <a href="#sdfootnote56anc">56</a>景翳翳以将入：阳光黯淡，太阳快要下山了。景，日光。翳翳，阴暗的样子。将入，指太阳快下山。</p>
<p>​    <a href="#sdfootnote57anc">57</a>盘桓：徘徊</p>
<p>​    <a href="#sdfootnote58anc">58</a>请息交以绝游：让我同外界断绝交游。</p>
<p>​    <a href="#sdfootnote59anc">59</a>复驾言兮焉求：还要驾车出去追求什么？驾言，《诗经·邶风·泉水》“驾言出游”的简省，是“驾车出游”的意思。言，助词。焉求，追求什么。求，指求官。</p>
<p>​    <a href="#sdfootnote60anc">60</a>情话：知心话</p>
<p>​    <a href="#sdfootnote61anc">61</a>春及：春天到了。</p>
<p>​    <a href="#sdfootnote62anc">62</a>将有事于西畴（chóu）：将要到西边的田里去春耕。事，指耕种之事。畴，田地</p>
<p>​    <a href="#sdfootnote63anc">63</a>或命巾车：或，有时。巾车，有布蓬的小车。</p>
<p>​    <a href="#sdfootnote64anc">64</a>    或棹（zhào）孤舟：有时划着一只小船。棹，桨，这里用作动词用桨划。</p>
<p>​    <a href="#sdfootnote65anc">65</a>既窈窕以寻壑：既探寻幽深曲折的山沟。窈窕，深远曲折的样子。壑，山沟</p>
<p>​    <a href="#sdfootnote66anc">66</a>善万物之得时：羡慕万物恰逢繁荣滋长的季节。善，喜好、羡慕。得时，顺应天时、适合时令。</p>
<p>​    <a href="#sdfootnote67anc">67</a>感吾生之行休：感叹我的一生行将结束。行休，将要结束</p>
<p>​    <a href="#sdfootnote68anc">68</a>已矣乎：算了吧!助词    “乎”“矣”连用，加强感叹语气。</p>
<p>​    <a href="#sdfootnote69anc">69</a>寓形宇内复几时：身体寄托在天地间还能有多少时候？意思是说，活在世上还能有多久？寓形，寄托身体。宇内，天地间。</p>
<p>​    <a href="#sdfootnote70anc">70</a>曷不委心任去留：为什么不随心所欲，听凭自然地生死？曷，何、为什么。委心，随心。委，随从、顺从。去留，指生死。</p>
<p>​    <a href="#sdfootnote71anc">71</a>胡为乎惶惶欲何之：为什么心神不定啊，想要到哪里去？胡为，为什么。遑遑，心神不定的样子。何之，到哪里去。</p>
<p>​    <a href="#sdfootnote72anc">72</a>帝乡不可期：修仙成神是没有希望的。帝乡，天帝居住的地方，也就是所谓仙境。期，期望、期求。</p>
<p>​    <a href="#sdfootnote73anc">73</a>怀良辰以孤往：爱惜美好的时光，独自外出。怀，留恋、爱惜。良辰，指上文所说万物得时的春天。孤往，独自外出。</p>
<p>​    <a href="#sdfootnote74anc">74</a>或植杖而耘籽（zǐ）：有时扶着拐杖除草培苗。植，立，扶着。耘，除草。籽，培苗。</p>
<p>​    <a href="#sdfootnote75anc">75</a>登东皋以呼啸：登上东边的高冈，放声呼啸。皋，高地。舒，放。啸，高声叫。</p>
<p>​    <a href="#sdfootnote76anc">76</a>聊乘化以归尽：姑且顺随自然的变化，度到生命的尽头。聊，姑且。乘化，顺随自然。化，造化，指自然。归尽，到死。尽，指死。</p>
<p>​    <a href="#sdfootnote77anc">77</a>乐夫天命复奚疑：乐安天命，还有什么可疑虑的呢？</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>赋文</category>
      </categories>
  </entry>
  <entry>
    <title>梦游天姥吟留别</title>
    <url>/2020/05/15/classics/%E6%A2%A6%E6%B8%B8%E5%A4%A9%E5%A7%A5%E5%90%9F%E7%95%99%E5%88%AB/</url>
    <content><![CDATA[<h2 id="梦游天姥吟留别"><a href="#梦游天姥吟留别" class="headerlink" title="梦游天姥吟留别"></a>梦游天姥吟留别</h2><a id="more"></a>
<p>海客谈瀛洲，烟涛微茫信难求。</p>
<p>越人语天姥，云霞明灭或可睹。</p>
<p>天姥连天向天横，势拔五岳掩赤城。</p>
<p>天台四万八千丈，对此欲倒东南倾。</p>
<p>我欲因之梦吴越，一夜飞度镜湖月。</p>
<p>湖月照我影，送我至剡溪。</p>
<p>谢公宿处今尚在，渌水荡漾清猿啼，</p>
<p>脚著谢公屐，身登青云梯。</p>
<p>半壁见海日，空中闻天鸡。</p>
<p>千岩万转路不定，迷花倚石忽已暝。</p>
<p>熊咆龙吟殷岩泉，栗深林兮惊层巅。</p>
<p>云青青兮欲雨，水澹澹兮生烟。</p>
<p>列缺霹雳，丘峦崩摧。洞天石扉，訇然中开。</p>
<p>青冥浩荡不见底，日月照耀金银台。</p>
<p>霓为衣兮风为马，云之君兮纷纷而来下。</p>
<p>虎鼓瑟兮鸾回车，仙之人兮列如麻。</p>
<p>忽魂悸以魄动，恍惊起而长嗟。</p>
<p>惟觉时之枕席，失向来之烟霞。</p>
<p>世间行乐亦如此，古来万事东流水。</p>
<p>别君去兮何时还？</p>
<p>且放白鹿青崖间，须行即骑访名山。</p>
<p>安能摧眉折腰事权贵，使我不得开心颜！</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>赋文</category>
      </categories>
  </entry>
  <entry>
    <title>王维诗选</title>
    <url>/2020/05/15/classics/%E7%8E%8B%E7%BB%B4%E8%AF%97%E9%80%89/</url>
    <content><![CDATA[<h2 id="王维诗选"><a href="#王维诗选" class="headerlink" title="王维诗选"></a>王维诗选</h2><a id="more"></a>
<p>终南别业</p>
<p>中岁颇好道，晚家南山陲；</p>
<p>兴来每独往，胜事空自知。</p>
<p>行到水穷处，坐看云起时；</p>
<p>偶然值林叟，谈笑无还期。</p>
<p>送别</p>
<p>下马饮君酒，问君何所之?</p>
<p>君言不得意，归卧南山陲。</p>
<p>但去莫复问，白云无尽时。</p>
<p>山居秋暝</p>
<p>空山新雨后，天气晚来秋；</p>
<p>明月松间照，清泉石上流。</p>
<p>竹喧归浣女，莲动下渔舟；</p>
<p>随意春芳歇，王孙自可留。</p>
<p>山居即事</p>
<p>寂寞掩柴扉，苍茫对落晖；</p>
<p>鹤巢松树遍，人访荜门稀。</p>
<p>嫩竹含新粉，红莲落故衣；</p>
<p>渡头灯火起，处处采菱归。</p>
<p>鹿柴</p>
<p>空山不见人，但闻人语响；</p>
<p>返景入深林，复照青苔上！</p>
<p>竹里馆</p>
<p>独坐幽篁里，弹琴复长啸；</p>
<p>深林人不知，明月来相照！</p>
<p>木兰柴</p>
<p>秋山敛余照，飞鸟逐前侣；</p>
<p>彩翠时分明，夕岚无处所！</p>
<p>攲湖</p>
<p>吹箫凌极浦，日暮送夫君；</p>
<p>湖上一回首，山青卷白云！</p>
<p>送梓州李使君</p>
<p>万壑树参天，千山响杜鹃；</p>
<p>山中一夜雨，树杪百重泉！</p>
<p>汉女输橦布，巴人讼芋田；</p>
<p>文翁翻教授，敢不倚先贤！</p>
<p>青溪</p>
<p>言入黄花川，每逐青溪水；</p>
<p>随山将万转，趣途无百里！</p>
<p>声喧乱石中，色静冷松里；</p>
<p>漾漾泛菱荇，澄澄映葭苇！</p>
<p>我心素已闲，清川澹如此；</p>
<p>请留盘石上，垂钓将已矣！</p>
<p>积雨辋川庄作</p>
<p>积雨空林烟火迟，蒸藜炊黍饷东菑；</p>
<p>漠漠水田飞白鹭，阴阴夏木啭黄鹂！</p>
<p>山中习静观朝槿，松下清斋折露葵；</p>
<p>野老与人争席罢，海鸥何事更相疑！</p>
<p>桃源行</p>
<p>渔舟逐水爱山春，两岸桃花夹去津；</p>
<p>坐看红树不知远，行尽青溪不见人。</p>
<p>山口潜行始隈隩，山开旷望旋平陆；</p>
<p>遥看一处攒云树，近入千家散花竹。</p>
<p>樵客初传汉姓名，居人未改秦衣服；</p>
<p>居人共居武陵源，还从物外起田园。</p>
<p>月明松下房栊静，日出云中鸡犬喧。</p>
<p>惊闻俗客争来集，竞引还家问都邑；</p>
<p>平明闾巷扫花开，薄暮渔樵乘水入。</p>
<p>初因避地去人间，及至成仙遂不还；</p>
<p>峡里谁知有人事，世中遥望空云山。</p>
<p>不疑灵境难闻见，尘心未尽思乡县；</p>
<p>出洞无论隔山水，辞家终拟长游衍。</p>
<p>自谓经过旧不迷，安知峰壑今来变！</p>
<p>当时只记入山深，青溪几曲到云林？</p>
<p>春来遍是桃花水，不辨仙源何处寻！</p>
<p>鸟鸣涧</p>
<p>人闲桂花落，夜静春山空；</p>
<p>月出惊山鸟，时鸣春涧中！</p>
<p>萍池</p>
<p>春池深且广，会待轻舟回；</p>
<p>靡靡绿萍合，垂杨扫复开！</p>
<p>崔九弟欲往南山马上口号与别</p>
<p>城隅一分手，几日还相见？</p>
<p>山中有桂花，莫待花如霰！</p>
<p>送别</p>
<p>山中相送罢，日暮掩柴扉；</p>
<p>春草明年绿，王孙归不归？</p>
<p>酬张少府</p>
<p>晚年唯好静，万事不关心；</p>
<p>自顾无长策，空知返旧林！</p>
<p>松风吹解带，山月照弹琴；</p>
<p>君问穷通理，渔歌入浦深！</p>
<p>偶然作．六首选一</p>
<p>老来懒赋诗，惟有老相随！</p>
<p>宿世谬词客，前身应画师；</p>
<p>不能舍余习，偶被世人知；</p>
<p>名字本皆是，此心还不知！</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>赋文</category>
      </categories>
  </entry>
  <entry>
    <title>逍遥游</title>
    <url>/2020/05/15/classics/%E9%80%8D%E9%81%A5%E6%B8%B8/</url>
    <content><![CDATA[<h2 id="逍遥游"><a href="#逍遥游" class="headerlink" title="逍遥游"></a>逍遥游</h2><a id="more"></a>
<p>北冥有鱼， 其名为鲲。</p>
<p>鲲之大， 不知其几千里也；</p>
<p>化而为鸟， 其名为鹏。</p>
<p>鹏之背， 不知其几千里也；</p>
<p>怒而飞， 其翼若垂天之云。</p>
<p>是鸟也， 海运则将徙于南冥。</p>
<p>南冥者， 天池也。</p>
<p>《齐谐》者， 志怪者也。</p>
<p>《谐》之言曰：</p>
<p>“鹏之徙于南冥也，</p>
<p>水击三千里，</p>
<p>抟扶摇而上者九万里，</p>
<p>去以六月息者也。”</p>
<p>野马也， 尘埃也，</p>
<p>生物之以息相吹也。</p>
<p>天之苍苍， 其正色邪？</p>
<p>其远而无所至极邪？</p>
<p>其视下也， 亦若是则已矣。</p>
<p>且夫</p>
<p>水之积也不厚，</p>
<p>则其负大舟也无力。</p>
<p>覆杯水于坳堂之上，则芥为之舟；</p>
<p>置杯焉则胶，水浅而舟大也。</p>
<p>风之积也不厚，则其负大翼也无力。</p>
<p>故九万里，则风斯在下矣，</p>
<p>而后乃今培风；</p>
<p>背负青天， 而莫之夭阏者，</p>
<p>而后乃今将图南。</p>
<p>蜩与学鸠笑之曰：</p>
<p>“我决起而飞， 抢/枪（看自己的教材）榆枋而止，</p>
<p>时则不至， 而控于地而已矣，</p>
<p>奚以之九万里而南为？”</p>
<p>适莽苍者，三餐而反， 腹犹果然；</p>
<p>适百里者， 宿舂粮；</p>
<p>适千里者， 三月聚粮。</p>
<p>之二虫又何知！</p>
<p>小知不及大知， 小年不及大年。</p>
<p>奚以知其然也？</p>
<p>朝菌不知晦朔，蟪蛄不知春秋， 此小年也。</p>
<p>楚之南有冥灵者，</p>
<p>以五百岁为春， 五百岁为秋；</p>
<p>上古有大椿者，</p>
<p>以八千岁为春， 八千岁为秋，</p>
<p>此大年也。</p>
<p>而彭祖乃今以久特闻，</p>
<p>众人匹之， 不亦悲乎！</p>
<p>汤之问棘也是已。</p>
<p>穷发之北有冥海者，天池也。</p>
<p>有鱼焉，其广数千里，</p>
<p>未有知其修者，其名为鲲。</p>
<p>有鸟焉，其名为鹏。</p>
<p>背若泰山，翼若垂天之云。</p>
<p>抟扶摇羊角而上者九万里，</p>
<p>绝云气，负青天，</p>
<p>然后图南，且适南冥也。</p>
<p>斥鷃笑之曰：</p>
<p>‘彼且奚适也？</p>
<p>我腾跃而上，不过数仞而下，</p>
<p>翱翔蓬蒿之间，此亦飞之至也。</p>
<p>而彼且奚适也？‘</p>
<p>此小大之辩也。</p>
<p>故夫</p>
<p>知效一官，行比一乡，德合一君，而征一国者，</p>
<p>其自视也亦若此矣。</p>
<p>而宋荣子犹然笑之。</p>
<p>且</p>
<p>举世誉之而不加劝，</p>
<p>举世非之而不加沮，</p>
<p>定乎内外之分，辩乎荣辱之境，</p>
<p>斯已矣。</p>
<p>彼其于世，未数数然也。</p>
<p>虽然，犹有未树也。</p>
<p>夫列子御风而行，泠然善也。</p>
<p>旬有五日而后反。</p>
<p>彼于致福者，未数数然也。</p>
<p>此虽免乎行，犹有所待者也。</p>
<p>若夫</p>
<p>乘天地之正，而御六气之辩，以游无穷者，</p>
<p>彼且恶乎待哉？</p>
<p>故曰：</p>
<p>至人无己，神人无功，圣人无名。</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>经典</category>
      </categories>
  </entry>
  <entry>
    <title>道德经</title>
    <url>/2020/05/15/classics/%E9%81%93%E5%BE%B7%E7%BB%8F%E5%85%A8%E6%96%87/</url>
    <content><![CDATA[<h2 id="道德经"><a href="#道德经" class="headerlink" title="道德经"></a>道德经</h2><a id="more"></a>
<p><strong>第 一 章<em>**</em></strong></p>
<p>道 可 道 ， 非 常 道 。 名 可 名 ， 非 常 名 。</p>
<p>无 名 天 地 之 始 ﹔ 有 名 万 物 之 母 。</p>
<p>故 常 无 ， 欲 以 观 其 妙 ﹔ 常 有 ， 欲 以 观 其 徼 。</p>
<p>此 两 者 ， 同 出 而 异 名 ， 同 谓 之 玄 。</p>
<p>玄 之 又 玄 ， 众 妙 之 门 。</p>
<p><strong>第 二 章<em>**</em></strong></p>
<p>天 下 皆 知 美 之 为 美 ， 斯 恶 已 。</p>
<p>皆 知 善 之 为 善 ， 斯 不 善 已 。</p>
<p>有 无 相 生 ， 难 易 相 成 ， 长 短 相 形 ，</p>
<p>高 下 相 盈 ， 音 声 相 和 ， 前 后 相 随 。</p>
<p>恒 也 。 是 以 圣 人 处 无 为 之 事 ，</p>
<p>行 不 言 之 教 ﹔ 万 物 作 而 弗 始 ，</p>
<p>生 而 弗 有 ， 为 而 弗 恃 ， 功 成 而 不 居 。</p>
<p>夫 唯 弗 居 ， 是 以 不 去 。</p>
<p><strong>第 三 章<em>**</em></strong></p>
<p>不 尚 贤 ， 使 民 不 争</p>
<p>不 贵 难 得 之 货 ， 使 民 不 为 盗 ﹔</p>
<p>不 见 可 欲 ， 使 民 心 不 乱 。</p>
<p>是 以 圣 人 之 治 ，</p>
<p>虚 其 心 ，</p>
<p>实 其 腹 ，</p>
<p>弱 其 志 ，</p>
<p>强 其 骨 。</p>
<p>常 使 民 无 知 无 欲 。</p>
<p>使 夫 智 者 不 敢 为 也 。</p>
<p>为 无 为 ， 则 无 不 治 。</p>
<p><strong>第 四 章<em>**</em></strong></p>
<p>道 冲 ， 而 用 之 或 不 盈 。</p>
<p>渊 兮 ， 似 万 物 之 宗 ﹔ 湛 兮 ， 似 或 存 。</p>
<p>吾 不 知 谁 之 子 ， 象 帝 之 先 。</p>
<p><strong>第 五 章<em>**</em></strong></p>
<p>天 地 不 仁 ， 以 万 物 为 刍 狗 ﹔ 圣 人 不 仁 ， 以 百 姓 为 刍 狗 。</p>
<p>天 地 之 间 ， 其 犹 橐 钥 乎 。 虚 而 不 屈 ， 动 而 愈 出 。</p>
<p>多 言 数 穷 ， 不 如 守 中 。</p>
<p><strong>第 六 章<em>**</em></strong></p>
<p>谷 神 不 死 ， 是 谓 玄 牝 。</p>
<p>玄 牝 之 门 ， 是 谓 天 地 根 。帛系 若 存 ， 用 之 不 勤 。</p>
<p><strong>第 七 章<em>**</em></strong></p>
<p>天 长 地 久 。</p>
<p>天 地 所 以 能 长 且 久 者 ，</p>
<p>以 其 不 自 生 ， 故 能 长 生 。</p>
<p>是 以 圣 人 后 其 身 而 身 先 ﹔ 外 其 身 而 身 存 。</p>
<p>非 以 其 无 私 邪 。</p>
<p>故 能 成 其 私 。</p>
<p><strong>第 八 章<em>**</em></strong></p>
<p>上 善 若 水 。</p>
<p>水 善 利 万 物 而 不 争 ，</p>
<p>处 众 人 之 所 恶 ， 故 几 于 道 。</p>
<p>居 善 地 ， 心 善 渊 ， 与 善 仁 ，</p>
<p>言 善 信 ， 政 善 治 ， 事 善 能 ，</p>
<p>动 善 时 。 夫 唯 不 争 ， 故 无 尤 。</p>
<p><strong>第 九 章<em>**</em></strong></p>
<p>持 而 盈 之 ， 不 如 其 已 ﹔</p>
<p>揣 而 锐 之 ， 不 可 长 保 。</p>
<p>金 玉 满 堂 ， 莫 之 能 守 ﹔</p>
<p>富 贵 而 骄 ， 自 遗 其 咎 。</p>
<p>功 遂 身 退 ， 天 之 道 也 。</p>
<p><strong>第 十 章<em>**</em></strong></p>
<p>载 营 魄 抱 一 ， 能 无 离 乎 。</p>
<p>专 气 致 柔 ， 能 如 婴 儿 乎 。</p>
<p>涤 除 玄 鉴 ， 能 如 疵 乎 。</p>
<p>爱 国 治 民 ， 能 无 为 乎 。</p>
<p>天 门 开 阖 ， 能 为 雌 乎 。</p>
<p>明 白 四 达 ， 能 无 知 乎 。</p>
<p><strong>第 十 一 章<em>**</em></strong></p>
<p>三 十 辐 ， 共 一 毂 ， 当 其 无 ， 有 车 之 用 。</p>
<p>埏 埴 以 为 器 ， 当 其 无 ， 有 器 之 用 。</p>
<p>凿 户 牖 以 为 室 ， 当 其 无 ， 有 室 之 用 。</p>
<p>故 有 之 以 为 利 ， 无 之 以 为 用 。</p>
<p><strong>第 十 二 章<em>**</em></strong></p>
<p>五 色 令 人 目 盲 ﹔ 五 音 令 人 耳 聋 ﹔ 五 味 令 人 口 爽 ﹔</p>
<p>驰 骋 畋 猎 ， 令 人 心 发 狂 ﹔ 难 得 之 货 ， 令 人 行 妨 。</p>
<p>是 以 圣 人 为 腹 不 为 目 ， 故 去 彼 取 此 。</p>
<p><strong>第 十 三 章<em>**</em></strong></p>
<p>宠 辱 若 惊 ， 贵 大 患 若 身 。</p>
<p>何 谓 宠 辱 若 惊 。</p>
<p>宠 为 下 ， 得 之 若 惊 ， 失 之 若 惊 ， 是 谓 宠 辱 若 惊 。</p>
<p>何 谓 贵 大 患 若 身 。</p>
<p>吾 所 以 有 大 患 者 ， 为 吾 有 身 ，</p>
<p>及 吾 无 身 ， 吾 有 何 患 。</p>
<p>故 贵 以 身 为 天 下 ， 若 可 寄 天 下 ﹔</p>
<p>爱 以 身 为 天 下 ， 若 可 托 天 下 。</p>
<p><strong>第 十 四 章<em>**</em></strong></p>
<p>视 之 不 见 ， 名 曰 夷 ﹔</p>
<p>听 之 不 闻 ， 名 曰 希 ﹔</p>
<p>搏 之 不 得 ， 名 曰 微 。</p>
<p>此 三 者 不 可 致 诘 ， 故 混 而 为 一 。</p>
<p>其 上 不 皦 ， 其 下 不 昧 。</p>
<p>绳 绳 兮 不 可 名 ， 复 归 于 物 。</p>
<p>是 谓 无 状 之 状 ， 无 物 之 象 ， 是 谓 惚 恍 。</p>
<p>迎 之 不 见 其 首 ， 随 之 不 见 其 后 。</p>
<p>执 古 之 道 ， 以 御 今 之 有 。</p>
<p>能 知 古 始 ， 是 谓 道 纪 。</p>
<p><strong>第 十 五 章<em>**</em></strong></p>
<p>古 之 善 为 道 者 ， 微 妙 玄 通 ， 深 不 可 识 。</p>
<p>夫 唯 不 可 识 ， 故 强 为 之 容 ：</p>
<p>豫 兮 若 冬 涉 川 ﹔</p>
<p>犹 兮 若 畏 四 邻 ﹔</p>
<p>俨 兮 其 若 客 ﹔</p>
<p>涣 兮 其 若 凌 释 ﹔</p>
<p>敦 兮 其 若 朴 ﹔</p>
<p>旷 兮 其 若 谷 ﹔</p>
<p>混 兮 其 若 浊 ﹔</p>
<p>澹 兮 其 若 海 ﹔</p>
<p>飂 兮 若 无 止 。</p>
<p>孰 能 浊 以 静 之 徐 清 。</p>
<p>孰 能 安 以 动 之 徐 生 。</p>
<p>保 此 道 者 ， 不 欲 盈 。</p>
<p>夫 唯 不 盈 ， 故 能 蔽 而 新 成 。</p>
<p><strong>第 十 六 章<em>**</em></strong></p>
<p>致 虚 极 ， 守 静 笃。</p>
<p>万 物 并 作 ， 吾 以 观 复。</p>
<p>夫 物 芸 芸 ， 各 复 归 其 根 。</p>
<p>归 根 曰 静 ， 静 曰 复 命 。</p>
<p>复 命 曰 常 ， 知 常 曰 明 。</p>
<p>不 知 常 ， 妄 作 凶 。</p>
<p>知 常 容 ， 容 乃 公 ，</p>
<p>公 乃 全 ， 全 乃 天 ，</p>
<p>天 乃 道 ， 道 乃 久 ， 没 身 不 殆 。</p>
<p><strong>第 十 七 章<em>**</em></strong></p>
<p>太 上 ， 不 知 有 之 ﹔</p>
<p>其 次 ， 亲 而 誉 之 ﹔</p>
<p>其 次 ， 畏 之 ﹔</p>
<p>其 次 ， 侮 之 。</p>
<p>信 不 足 焉 ， 有 不 信 焉 。</p>
<p>悠 兮 其 贵 言 。</p>
<p>功 成 事 遂 ， 百 姓 皆 谓 ： 「 我 自 然 」 。</p>
<p><strong>第 十 八 章<em>**</em></strong></p>
<p>大 道 废 ， 有 仁 义 ﹔ 智 慧 出 ， 有 大 伪 ﹔</p>
<p>六 亲 不 和 ， 有 孝 慈 ﹔ 国 家 昏 乱 ， 有 忠 臣 。</p>
<p><strong>第 十 九 章<em>**</em></strong></p>
<p>绝 圣 弃 智 ， 民 利 百 倍 ﹔</p>
<p>绝 仁 弃 义 ， 民 复 孝 慈 ﹔</p>
<p>绝 巧 弃 利 ， 盗 贼 无 有 。</p>
<p>此 三 者 以 为 文 ， 不 足 。</p>
<p>故 令 有 所 属 ： 见 素 抱 朴 ， 少 思 寡 欲 ， 绝 学 无 忧 。</p>
<p><strong>第 二 十 章<em>**</em></strong></p>
<p>唯 之 与 阿 ， 相 去 几 何 。</p>
<p>之 与 恶 ， 相 去 若 何 。</p>
<p>人 之 所 畏 ， 不 可 不 畏 。</p>
<p>荒 兮 ， 其 未 央 哉 。</p>
<p>众 人 熙 熙 ， 如 享 太 牢 ， 如 春 登 台 。</p>
<p>我 独 泊 兮 ， 其 未 兆 ﹔</p>
<p>沌 沌 兮 ， 如 婴 儿 之 未 孩 ﹔</p>
<p>儽 儽 兮 ， 若 无 所 归 。</p>
<p>众 人 皆 有 余 ， 而 我 独 若 遗 。 我 愚 人 之 心 也 哉 。</p>
<p>俗 人 昭 昭 ， 我 独 昏 昏 。</p>
<p>俗 人 察 察 ， 我 独 闷 闷 。</p>
<p>众 人 皆 有 以 ， 而 我 独 顽 且 鄙 。</p>
<p>我 独 异 于 人 ， 而 贵 食 母 。</p>
<p><strong>第 二 十 一 章<em>**</em></strong></p>
<p>孔 德 之 容 ， 惟 道 是 从 。</p>
<p>道 之 为 物 ， 惟 恍 惟 惚 。</p>
<p>惚 兮 恍 兮 ， 其 中 有 象 ﹔ 恍 兮 惚 兮 ， 其 中 有 物 。</p>
<p>窈 兮 冥 兮 ， 其 中 有 精 ﹔ 其 精 甚 真 ， 其 中 有 信 。</p>
<p>自 今 及 古 ， 其 名 不 去 ， 以 阅 众 甫 。</p>
<p>吾 何 以 知 众 甫 之 状 哉 。 以 此 。</p>
<p><strong>第 二 十 二 章<em>**</em></strong></p>
<p>曲 则 全 ， 枉 则 直 ， 洼 则 盈 ，</p>
<p>敝 则 新 ， 少 则 得 ， 多 则 惑 。</p>
<p>是 以 圣 人 抱 一 为 天 下 式 。</p>
<p>不 自 见 ， 故 明 ﹔</p>
<p>不 自 是 ， 故 彰 ﹔</p>
<p>不 自 伐 ， 故 有 功 ﹔</p>
<p>不 自 矜 ， 故 长 。</p>
<p>夫 唯 不 争 ， 故 天 下 莫 能 与 之 争 。</p>
<p>古 之 所 谓 「 曲 则 全 」 者 ， 岂 虚 言 哉 。</p>
<p>诚 全 而 归 之 。</p>
<p><strong>第 二 十 三 章<em>**</em></strong></p>
<p>希 言 自 然 。</p>
<p>故 飘 风 不 终 朝 ， 骤 雨 不 终 日 。</p>
<p>孰 为 此 者 。</p>
<p>天 地 。 天 地 尚 不 能 久 ， 而 况 于 人 乎 。</p>
<p>故 从 事 于 道 者 ， 同 于 道 ﹔</p>
<p>德 者 ， 同 于 德 ﹔ 失 者 ， 同 于 失 。</p>
<p>同 于 道 者 ， 道 亦 乐 得 之 ﹔</p>
<p>同 于 德 者 ， 德 亦 乐 得 之 ﹔</p>
<p>同 于 失 者 ， 失 亦 乐 得 之 。</p>
<p>信 不 足 焉 ， 有 不 信 焉 。</p>
<p><strong>第 二 十 四 章<em>**</em></strong></p>
<p>企 者 不 立 ﹔ 跨 者 不 行 ﹔</p>
<p>自 见 者 不 明 ﹔ 自 是 者 不 彰 ﹔</p>
<p>自 伐 者 无 功 ﹔ 自 矜 者 不 长 。</p>
<p>其 在 道 也 ， 曰 ： 余 食 赘 形 。</p>
<p>物 或 恶 之 ， 故 有 道 者 不 处 。</p>
<p><strong>第 二 十 五 章<em>**</em></strong></p>
<p>有 物 混 成 ， 先 天 地 生 。</p>
<p>寂 兮 寥 兮 ， 独 立 而 不 改 ，</p>
<p>周 行 而 不 殆 ， 可 以 为 天 地 母 。</p>
<p>吾 不 知 其 名 ， 强 字 之 曰 道 ， 强 为 之 名 曰 大 。</p>
<p>大 曰 逝 ， 逝 曰 远 ， 远 曰 反 。</p>
<p>故 道 大 ， 天 大 ， 地 大 ， 人 亦 大 。</p>
<p>域 中 有 四 大 ， 而 人 居 其 一 焉 。</p>
<p>人 法 地 ， 地 法 天 ， 天 法 道 ， 道 法 自 然 。</p>
<p><strong>第 二 十 六 章<em>**</em></strong></p>
<p>重 为 轻 根 ， 静 为 躁 君 。</p>
<p>是 以 君 子 终 日 行 不 离 辎 重 。</p>
<p>虽 有 荣 观 ， 燕 处 超 然 。</p>
<p>奈 何 万 乘 之 主 ， 而 以 身 轻 天 下 。</p>
<p>轻 则 失 根 ， 躁 则 失 君 。</p>
<p><strong>第 二 十 七 章<em>**</em></strong></p>
<p>善 行 无 辙 迹 ， 善 言 无 瑕 谪 ﹔</p>
<p>善 数 不 用 筹 策 ﹔ 善 闭 无 关 楗 而 不 可 开 ，</p>
<p>善 结 无 绳 约 而 不 可 解 。</p>
<p>是 以 圣 人 常 善 救 人 ， 故 无 弃 人 ﹔</p>
<p>常 善 救 物 ， 故 无 弃 物 。</p>
<p>是 谓 袭 明 。</p>
<p>故 善 人 者 ， 不 善 人 之 师 ﹔</p>
<p>不 善 人 者 ， 善 人 之 资 。</p>
<p>不 贵 其 师 ， 不 爱 其 资 ，</p>
<p>虽 智 大 迷 ， 是 谓 要 妙 。</p>
<p><strong>第 二 十 八 章<em>**</em></strong></p>
<p>知 其 雄 ， 守 其 雌 ， 为 天 下 溪 。</p>
<p>为 天 下 溪 ， 常 德 不 离 ， 复 归 于 婴 儿 。</p>
<p>知 其 白 ， 守 其 辱 ， 为 天 下 谷 。</p>
<p>为 天 下 谷 ， 常 德 乃 足 ， 复 归 于 朴 。</p>
<p>知 其 白 ， 守 其 黑 ， 为 天 下 式 。</p>
<p>为 天 下 式 ， 常 德 不 忒 ， 复 归 于 无 极 。</p>
<p>朴 散 则 为 器 ， 圣 人 用 之 ，</p>
<p>则 为 官 长 ， 故 大 智 不 割 。</p>
<p><strong>第 二 十 九 章<em>**</em></strong></p>
<p>将 欲 取 天 下 而 为 之 ， 吾 见 其 不 得 已 。</p>
<p>天 下 神 器 ， 不 可 为 也 ， 不 可 执 也 。</p>
<p>为 者 败 之 ， 执 者 失 之 。</p>
<p>是 以 圣 人 无 为 ， 故 无 败 ﹔</p>
<p>无 执 ， 故 无 失。</p>
<p>夫 物 或 行 或 随 ﹔ 或 嘘 或 吹 ﹔</p>
<p>或 强 或 羸 ﹔ 或 载 或 隳 。</p>
<p>是 以 圣 人 去 甚 ， 去 奢 ， 去 泰 。</p>
<p><strong>第 三 十 章<em>**</em></strong></p>
<p>以 道 佐 人 主 者 ， 不 以 兵 强 天 下 。</p>
<p>其 事 好 远 。</p>
<p>师 之 所 处 ， 荆 棘 生 焉 。</p>
<p>大 军 之 后 ， 必 有 凶 年 。</p>
<p>善 有 果 而 已 ， 不 以 取 强 。</p>
<p>果 而 勿 矜 ， 果 而 勿 伐 ， 果 而 勿 骄 。</p>
<p>果 而 不 得 已 ， 果 而 勿 强 。</p>
<p>物 壮 则 老 ， 是 谓 不 道 ， 不 道 早 已 。</p>
<p><strong>第 三 十 一 章<em>**</em></strong></p>
<p>夫 兵 者 ， 不 祥 之 器 ，</p>
<p>物 或 恶 之 ， 故 有 道 者 不 处 。</p>
<p>君 子 居 则 贵 左 ， 用 兵 则 贵 右 。</p>
<p>兵 者 不 祥 之 器 ， 非 君 子 之 器 ，</p>
<p>不 得 已 而 用 之 ， 恬 淡 为 上 。</p>
<p>胜 而 不 美 ， 而 美 之 者 ， 是 乐 杀 人 。</p>
<p>夫 乐 杀 人 者 ， 则 不 可 得 志 于 天 下 矣 。</p>
<p>吉 事 尚 左 ， 凶 事 尚 右 。</p>
<p>偏 将 军 居 左 ， 上 将 军 居 右 ， 言 以 丧 礼 处 之 。</p>
<p>杀 人 之 众 ， 以 悲 哀 泣 之 ， 战 胜 以 丧 礼 处 之 。</p>
<p><strong>第 三 十 二 章<em>**</em></strong></p>
<p>道 常 无 名 朴 。</p>
<p>虽 小 ， 天 下 莫 能 臣 。</p>
<p>侯 王 若 能 守 之 ， 万 物 将 自 宾 。</p>
<p>天 地 相 合 ， 以 降 甘 露 ， 民 莫 之 令 而 自 均 。</p>
<p>始 制 有 名 ， 名 亦 既 有 ，</p>
<p>夫 亦 将 知 止 ， 知 止 可 以 不 殆 。</p>
<p>譬 道 之 在 天 下 ， 犹 川 谷 之 于 江 海 。</p>
<p><strong>第 三 十 三 章<em>**</em></strong></p>
<p>知 人 者 智 ， 自 知 者 明 。</p>
<p>胜 人 者 有 力 ， 自 胜 者 强 。</p>
<p>知 足 者 富 。</p>
<p>强 行 者 有 志 。</p>
<p>不 失 其 所 者 久 。</p>
<p>死 而 不 亡 者 寿 。</p>
<p><strong>第 三 十 四 章<em>**</em></strong></p>
<p>大 道 泛 兮 ， 其 可 左 右 。</p>
<p>万 物 恃 之 以 生 而 不 辞 ， 功 成 而 不 有 。</p>
<p>衣 养 万 物 而 不 为 主 ， 可 名 于 小 ﹔</p>
<p>万 物 归 焉 而 不 为 主 ， 可 名 为 大 。</p>
<p>以 其 终 不 自 为 大 ， 故 能 成 其 大 。</p>
<p><strong>第 三 十 五 章<em>**</em></strong></p>
<p>执 大 象 ， 天 下 往 。</p>
<p>往 而 不 害 ， 安 平 泰 。</p>
<p>乐 与 饵 ， 过 客 止 。</p>
<p>道 之 出 口 ， 淡 乎 其 无 味 ，</p>
<p>视 之 不 足 见 ， 听 之 不 足 闻 ， 用 之 不 足 既 。</p>
<p><strong>第 三 十 六 章<em>**</em></strong></p>
<p>将 欲 歙 之 ， 必 故 张 之 ﹔ 将 欲 弱 之 ， 必 故 强 之 ﹔</p>
<p>将 欲 废 之 ， 必 故 兴 之 ﹔ 将 欲 取 之 ， 必 故 与 之 。</p>
<p>是 谓 微 明 。</p>
<p>柔 弱 胜 刚 强 。</p>
<p>鱼 不 可 脱 于 渊 ， 国 之 利 器 不 可 以 示 人 。</p>
<p><strong>第 三 十 七 章<em>**</em></strong></p>
<p>道 常 无 为 而 无 不 为 。</p>
<p>侯 王 若 能 守 之 ， 万 物 将 自 化 。</p>
<p>化 而 欲 作 ， 吾 将 镇 之 以 无 名 之 朴 。</p>
<p>镇 之 以 无 名 之 朴 ， 夫 将 不 欲 。</p>
<p>不 欲 以 静 ， 天 下 将 自 正 。</p>
<p><strong>第 三 十 八 章<em>**</em></strong></p>
<p>上 德 不 德 ， 是 以 有 德 ﹔</p>
<p>下 德 不 失 德 ， 是 以 无 德 。</p>
<p>上 德 无 为 而 无 以 为 ﹔</p>
<p>下 德 无 为 而 有 以 为 。</p>
<p>上 仁 为 之 而 无 以 为 ﹔</p>
<p>上 义 为 之 而 有 以 为 。</p>
<p>上 礼 为 之 而 莫 之 应 ，</p>
<p>则 攘 臂 而 扔 之 。</p>
<p>故 失 道 而 后 德 ， 失 德 而 后 仁 ，</p>
<p>失 仁 而 后 义 ， 失 义 而 后 礼 。</p>
<p>夫 礼 者 ， 忠 信 之 薄 ， 而 乱 之 首 。</p>
<p>前 识 者 ， 道 之 华 ， 而 愚 之 始 。</p>
<p>是 以 大 丈 夫 处 其 厚 ， 不 居 其 薄 ﹔</p>
<p>处 其 实 ， 不 居 其 华 。 故 去 彼 取 此 。</p>
<p><strong>第 三 十 九 章<em>**</em></strong></p>
<p>昔 之 得 一 者 ：</p>
<p>天 得 一 以 清 ﹔</p>
<p>地 得 一 以 宁 ﹔</p>
<p>神 得 一 以 灵 ﹔</p>
<p>谷 得 一 以 生 ﹔</p>
<p>侯 得 一 以 为 天 下 正 。</p>
<p>其 致 之 也 ， 谓 天 无 以 清 ， 将 恐 裂 ﹔</p>
<p>地 无 以 宁 ， 将 恐 废 ﹔</p>
<p>神 无 以 灵 ， 将 恐 歇 ﹔</p>
<p>谷 无 以 盈 ， 将 恐 竭 ﹔</p>
<p>万 物 无 以 生 ， 将 恐 灭 ﹔</p>
<p>侯 王 无 以 正 ， 将 恐 蹶 。</p>
<p>故 贵 以 贱 为 本 ， 高 以 下 为 基 。</p>
<p>是 以 侯 王 自 称 孤 、 寡 、 不 谷 。</p>
<p>此 非 以 贱 为 本 邪 。 非 乎 。 故 致 誉 无 誉 。</p>
<p>是 故 不 欲 琭 琭 如 玉 ， 珞 珞 如 石 。</p>
<p><strong>第 四 十 章<em>**</em></strong></p>
<p>反 者 道 之 动 ﹔ 弱 者 道 之 用 。</p>
<p>天 下 万 物 生 于 有 ， 有 生 于 无 。</p>
<p><strong>第 四 十 一 章<em>**</em></strong></p>
<p>上 士 闻 道 ， 勤 而 行 之 ﹔ 中 士 闻 道 ， 若 存 若 亡 ﹔</p>
<p>下 士 闻 道 ， 大 笑 之 。 不 笑 不 足 以 为 道 。</p>
<p>故 建 言 有 之 ：</p>
<p>明 道 若 昧 ﹔</p>
<p>进 道 若 退 ﹔</p>
<p>夷 道 若 颣 ﹔</p>
<p>上 德 若 谷 ﹔</p>
<p>广 德 若 不 足 ﹔</p>
<p>建 德 若 偷 ﹔</p>
<p>质 真 若 渝 ﹔</p>
<p>大 白 若 辱 ﹔</p>
<p>大 方 无 隅 ﹔</p>
<p>大 器 晚 成 ﹔</p>
<p>大 音 希 声 ﹔</p>
<p>大 象 无 形 ﹔</p>
<p>道 隐 无 名 。</p>
<p>夫 唯 道 ， 善 贷 且 成 。</p>
<p><strong>第 四 十 二 章<em>**</em></strong></p>
<p>道 生 一 ， 一 生 二 ， 二 生 三 ， 三 生 万 物 。</p>
<p>万 物 负 阴 而 抱 阳 ， 冲 气 以 为 和 。</p>
<p>人 之 所 恶 ， 唯 孤 、 寡 、 不 谷 ， 而 王 公 以 为 称 。</p>
<p>故 物 或 损 之 而 益 ， 或 益 之 而 损 。</p>
<p>人 之 所 教 ， 我 亦 教 之 。</p>
<p>强 梁 者 不 得 其 死 ， 吾 将 以 为 教 父 。</p>
<p><strong>第 四 十 三 章<em>**</em></strong></p>
<p>天 下 之 至 柔 ， 驰 骋 天 下 之 至 坚 。</p>
<p>无 有 入 无 间 ， 吾 是 以 知 无 为 之 有 益 。</p>
<p>不 言 之 教 ， 无 为 之 益 ， 天 下 希 及 之 。</p>
<p><strong>第 四 十 四 章<em>**</em></strong></p>
<p>名 与 身 孰 亲 。 身 与 货 孰 多 。 得 与 亡 孰 病 。</p>
<p>甚 爱 必 大 费 ﹔ 多 藏 必 厚 亡 。</p>
<p>故 知 足 不 辱 ， 知 止 不 殆 ， 可 以 长 久 。</p>
<p><strong>第 四 十 五 章<em>**</em></strong></p>
<p>大 成 若 缺 ， 其 用 不 弊 。</p>
<p>大 盈 若 冲 ， 其 用 不 穷 。</p>
<p>大 直 若 屈 ， 大 巧 若 拙 ， 大 辩 若 讷 。</p>
<p>静 胜 躁 ， 寒 胜 热 。 清 静 为 天 下 正 。</p>
<p><strong>第 四 十 六 章<em>**</em></strong></p>
<p>天 下 有 道 ， 却 走 马 以 粪 。</p>
<p>天 下 无 道 ， 戎 马 生 于 郊 。</p>
<p>祸 莫 大 于 不 知 足 ﹔ 咎 莫 大 于 欲 得 。</p>
<p>故 知 足 之 足 ， 常 足 矣 。</p>
<p><strong>第 四 十 七 章<em>**</em></strong></p>
<p>不 出 户 ， 知 天 下 ﹔ 不 窥 牖 ， 见 天 道 。</p>
<p>其 出 弥 远 ， 其 知 弥 少 。</p>
<p>是 以 圣 人 不 行 而 知 ， 不 见 而 明 ， 不 为 而 成 。</p>
<p><strong>第 四 十 八 章<em>**</em></strong></p>
<p>为 学 日 益 ， 为 道 日 损 。</p>
<p>损 之 又 损 ， 以 至 于 无 为 。</p>
<p>无 为 而 无 不 为 。</p>
<p>取 天 下 常 以 无 事 ， 及 其 有 事 ， 不 足 以 取 天 下 。</p>
<p><strong>第 四 十 九 章<em>**</em></strong></p>
<p>圣 人 常 无 心 ， 以 百 姓 心 为 心 。</p>
<p>善 者 ， 吾 善 之 ﹔ 不 善 者 ， 吾 亦 善 之 ﹔ 德 善 。</p>
<p>信 者 ， 吾 信 之 ﹔ 不 信 者 ， 吾 亦 信 之 ﹔ 德 信 。</p>
<p>圣 人 在 天 下 ， 歙 歙 焉 ， 为 天 下 浑 其 心 ，</p>
<p>百 姓 皆 注 其 耳 目 ， 圣 人 皆 孩 之 。</p>
<p><strong>第 五 十 章<em>**</em></strong></p>
<p>出 生 入 死 。</p>
<p>生 之 徒 ， 十 有 三 ﹔</p>
<p>死 之 徒 ， 十 有 三 ﹔</p>
<p>人 之 生 ， 动 之 于 死 地 ， 亦 十 有 三 。</p>
<p>夫 何 故 。</p>
<p>以 其 生 之 厚 。</p>
<p>盖 闻 善 摄 生 者 ， 路 行 不 遇 兕 虎 ， 入 军 不 被 甲 兵 ﹔</p>
<p>兕 无 所 投 其 角 ， 虎 无 所 用 其 爪 ， 兵 无 所 容 其 刃 。</p>
<p>夫 何 故 。 以 其 无 死 地 。</p>
<p><strong>第 五 十 一 章<em>**</em></strong></p>
<p>道 生 之 ， 德 畜 之 ， 物 形 之 ， 势 成 之 。</p>
<p>是 以 万 物 莫 不 尊 道 而 贵 德 。</p>
<p>道 之 尊 ， 德 之 贵 ， 夫 莫 之 命 而 常 自 然 。</p>
<p>故 道 生 之 ， 德 畜 之 ﹔</p>
<p>长 之 育 之 ﹔ 成 之 熟 之 ﹔ 养 之 覆 之 。</p>
<p>生 而 不 有 ， 为 而 不 恃 ，</p>
<p>长 而 不 宰 。 是 谓 玄 德 。</p>
<p><strong>第 五 十 二 章<em>**</em></strong></p>
<p>天 下 有 始 ， 以 为 天 下 母 。</p>
<p>既 得 其 母 ， 以 知 其 子 ，</p>
<p>复 守 其 母 ， 没 身 不 殆 。</p>
<p>塞 其 兑 ， 闭 其 门 ， 终 身 不 勤 。</p>
<p>开 其 兑 ， 济 其 事 ， 终 身 不 救 。</p>
<p>见 小 曰 明 ， 守 柔 曰 强 。</p>
<p>用 其 光 ， 复 归 其 明 ， 无 遗 身 殃 ﹔ 是 为 袭 常 。</p>
<p><strong>第 五 十 三 章<em>**</em></strong></p>
<p>使 我 介 然 有 知 ， 行 于 大 道 ， 唯 施 是 畏 。</p>
<p>大 道 甚 夷 ， 而 人 好 径 。</p>
<p>朝 甚 除 ， 田 甚 芜 ， 仓 甚 虚 ﹔</p>
<p>服 文 采 ， 带 利 剑 ， 厌 饮 食 ，</p>
<p>财 货 有 余 ﹔ 是 为 盗 夸 。</p>
<p>非 道 也 哉 。</p>
<p><strong>第 五 十 四 章<em>**</em></strong></p>
<p>善 建 者 不 拔 ，</p>
<p>善 抱 者 不 脱 ， 子 孙 以 祭 祀 不 辍 。</p>
<p>修 之 于 身 ， 其 德 乃 真 ﹔</p>
<p>修 之 于 家 ， 其 德 乃 余 ﹔</p>
<p>修 之 于 乡 ， 其 德 乃 长 ﹔</p>
<p>修 之 于 邦 ， 其 德 乃 丰 ﹔</p>
<p>修 之 于 天 下 ， 其 德 乃 普 。</p>
<p>故 以 身 观 身 ，</p>
<p>以 家 观 家 ， 以 乡 观 乡 ，</p>
<p>以 邦 观 邦 ， 以 天 下 观 天 下 。</p>
<p>吾 何 以 知 天 下 然 哉 。 以 此 。</p>
<p><strong>第 五 十 五 章<em>**</em></strong></p>
<p>含 「 德 」 之 厚 ， 比 于 赤 子 。</p>
<p>毒 虫 不 螫 ， 猛 兽 不 据 ， 攫 鸟 不 搏 。</p>
<p>骨 弱 筋 柔 而 握 固 。</p>
<p>未 知 牝 牡 之 合 而 峻 作 ， 精 之 至 也 。</p>
<p>终 日 号 而 不 嗄 ， 和 之 至 也 。</p>
<p>知 和 曰 「 常 」 ，</p>
<p>知 常 曰 「 明 」 。</p>
<p>益 生 曰 祥 。 心 使 气 曰 强 。</p>
<p>物 壮 则 老 ， 谓 之 不 道 ， 不 道 早 已 。</p>
<p><strong>第 五 十 六 章<em>**</em></strong></p>
<p>知 者 不 言 ， 言 者 不 知 。</p>
<p>挫 其 锐 ， 解 其 纷 ， 和 其 光 ，</p>
<p>同 其 尘 ， 是 谓 「 玄 同 」 。</p>
<p>故 不 可 得 而 亲 ， 不 可 得 而 疏 ﹔</p>
<p>不 可 得 而 利 ， 不 可 得 而 害 ﹔</p>
<p>不 可 得 而 贵 ， 不 可 得 而 贱 。 故 为 天 下 贵 。</p>
<p><strong>第 五 十 七 章<em>**</em></strong></p>
<p>以 正 治 国 ， 以 奇 用 兵 ， 以 无 事 取 天 下 。</p>
<p>吾 何 以 知 其 然 哉 。 以 此 ：</p>
<p>天 下 多 忌 讳 ， 而 民 弥 贫 ﹔</p>
<p>人 多 利 器 ， 国 家 滋 昏 ﹔</p>
<p>人 多 伎 巧 ， 奇 物 滋 起 ﹔</p>
<p>法 令 滋 彰 ， 盗 贼 多 有 。</p>
<p>故 圣 人 云 ：</p>
<p>「 我 无 为 ， 而 民 自 化 ﹔</p>
<p>我 好 静 ， 而 民 自 正 ﹔</p>
<p>我 无 事 ， 而 民 自 富 ﹔</p>
<p>我 无 欲 ， 而 民 自 朴 。 」</p>
<p><strong>第 五 十 八 章<em>**</em></strong></p>
<p>其 政 闷 闷 ， 其 民 淳 淳 ﹔</p>
<p>其 政 察 察 ， 其 民 缺 缺 。</p>
<p>是 以 圣 人 方 而 不 割 ， 廉 而 不 刿 ，</p>
<p>直 而 不 肆 ， 光 而 不 耀 。</p>
<p>祸 兮 福 之 所 倚 ， 福 兮 祸 之 所 伏 。</p>
<p>孰 知 其 极 。 其 无 正 也 。</p>
<p>正 复 为 奇 ， 善 复 为 妖 。</p>
<p>人 之 迷 ， 其 日 固 久 。</p>
<p><strong>第 五 十 九 章<em>**</em></strong></p>
<p>治 人 事 天 ， 莫 若 啬 。</p>
<p>夫 唯 啬 ， 是 谓 早 服 ﹔</p>
<p>早 服 谓 之 重 积 德 ﹔ 重 积 德 则 无 不 克 ﹔</p>
<p>无 不 克 则 莫 知 其 极 ﹔ 莫 知 其 极 ， 可 以 有 国 ﹔</p>
<p>有 国 之 母 ， 可 以 长 久 ﹔</p>
<p>是 谓 深 根 固 柢 ， 长 生 久 视 之 道 。</p>
<p><strong>第 六 十 章<em>**</em></strong></p>
<p>治 大 国 ， 若 烹 小 鲜 。</p>
<p>以 道 莅 天 下 ， 其 鬼 不 神 ﹔</p>
<p>非 其 鬼 不 神 ， 其 神 不 伤 人 ﹔</p>
<p>非 其 神 不 伤 人 ， 圣 人 亦 不 伤 人 。</p>
<p>夫 两 不 相 伤 ， 故 德 交 归 焉 。</p>
<p><strong>第 六 十 一 章<em>**</em></strong></p>
<p>大 邦 者 下 流 ， 天 下 之 牝 ，</p>
<p>天 下 之 交 也 。</p>
<p>牝 常 以 静 胜 牡 ， 以 静 为 下 。</p>
<p>故 大 邦 以 下 小 邦 ， 则 取 小 邦 ﹔</p>
<p>小 邦 以 下 大 邦 ， 则 取 大 邦 。</p>
<p>故 或 下 以 取 ， 或 下 而 取 。</p>
<p>大 邦 不 过 欲 兼 畜 人 ， 小 邦 不 过 欲 入 事 人 。</p>
<p>夫 两 者 各 得 所 欲 ， 大 者 宜 为 下 。</p>
<p><strong>第 六 十 二 章<em>**</em></strong></p>
<p>道 者 万 物 之 奥 。 善 人 之 宝 ， 不 善 人 之 所 保 。</p>
<p>美 言 可 以 市 尊 ， 美 行 可 以 加 人 。</p>
<p>人 之 不 善 ， 何 弃 之 有 。</p>
<p>故 立 天 子 ， 置 三 公 ，</p>
<p>虽 有 拱 璧 以 先 驷 马 ，</p>
<p>不 如 坐 进 此 道 。</p>
<p>古 之 所 以 贵 此 道 者 何 。</p>
<p>不 曰 ： 求 以 得 ， 有 罪 以 免 邪 。 故 为 天 下 贵 。</p>
<p><strong>第 六 十 三 章<em>**</em></strong></p>
<p>为 无 为 ， 事 无 事 ， 味 无 味 。</p>
<p>图 难 于 其 易 ， 为 大 于 其 细 ﹔</p>
<p>天 下 难 事 ， 必 作 于 易 ，</p>
<p>天 下 大 事 ， 必 作 于 细 。</p>
<p>是 以 圣 人 终 不 为 大 ， 故 能 成 其 大 。</p>
<p>夫 轻 诺 必 寡 信 ， 多 易 必 多 难 。</p>
<p>是 以 圣 人 犹 难 之 ， 故 终 无 难 矣 。</p>
<p><strong>第 六 十 四 章<em>**</em></strong></p>
<p>其 安 易 持 ， 其 未 兆 易 谋 。</p>
<p>其 脆 易 泮 ， 其 微 易 散 。</p>
<p>为 之 于 未 有 ， 治 之 于 未 乱 。</p>
<p>合 抱 之 木 ， 生 于 毫 末 ﹔</p>
<p>九 层 之 台 ， 起 于 累 土 ﹔</p>
<p>千 里 之 行 ， 始 于 足 下。</p>
<p>民 之 从 事 ， 常 于 几 成 而 败 之 。</p>
<p>慎 终 如 始 ， 则 无 败 事 。</p>
<p><strong>第 六 十 五 章<em>**</em></strong></p>
<p>古 之 善 为 道 者 ， 非 以 明 民 ， 将 以 愚 之 。</p>
<p>民 之 难 治 ， 以 其 智 多 。</p>
<p>故 以 智 治 国 ， 国 之 贼 ﹔</p>
<p>不 以 智 治 国 ， 国 之 福 。</p>
<p>知 此 两 者 亦 稽 式 。</p>
<p>常 知 稽 式 ， 是 谓 「 玄 德 」 。</p>
<p>「 玄 德 」 深 矣 ， 远 矣 ， 与 物 反 矣 ， 然 后 乃 至 大 顺 。</p>
<p><strong>第 六 十 六 章<em>**</em></strong></p>
<p>江 海 之 所 以 能 为 百 谷 王 者 ，</p>
<p>以 其 善 下 之 ， 故 能 为 百 谷 王 。</p>
<p>是 以 圣 人 欲 上 民 ， 必 以 言 下 之 ﹔</p>
<p>欲 先 民 ， 必 以 身 后 之 。</p>
<p>是 以 圣 人 处 上 而 民 不 重 ， 处 前 而 民 不 害 。</p>
<p>是 以 天 下 乐 推 而 不 厌 。</p>
<p>以 其 不 争 ， 故 天 下 莫 能 与 之 争 。</p>
<p><strong>第 六 十 七 章<em>**</em></strong></p>
<p>天 下 皆 谓 我 道 大 ， 似 不 肖 。</p>
<p>夫 唯 大 ， 故 似 不 肖 。</p>
<p>若 肖 ， 久 矣 其 细 也 夫 。</p>
<p>我 有 三 宝 ， 持 而 保 之 。</p>
<p>一 曰 慈 ，</p>
<p>二 曰 俭 ，</p>
<p>三 曰 不 敢 为 天 下 先 。</p>
<p>慈 故 能 勇 ﹔ 俭 故 能 广 ﹔</p>
<p>不 敢 为 天 下 先 ， 故 能 成 器 长 。</p>
<p>今 舍 慈 且 勇 ﹔ 舍 俭 且 广 ﹔</p>
<p>舍 后 且 先 ﹔ 死 矣 。</p>
<p>夫 慈 以 战 则 胜 ， 以 守 则 固 。</p>
<p>天 将 救 之 ， 以 慈 卫 之 。</p>
<p><strong>第 六 十 八 章<em>**</em></strong></p>
<p>善 为 士 者 ， 不 武 ﹔</p>
<p>善 战 者 ， 不 怒 ﹔</p>
<p>善 胜 敌 者 ， 不 与 ﹔</p>
<p>善 用 人 者 ， 为 之 下 。</p>
<p>是 谓 不 争 之 德 ，</p>
<p>是 谓 用 人 之 力 ，</p>
<p>是 谓 配 天 古 之 极 。</p>
<p><strong>第 六 十 九 章<em>**</em></strong></p>
<p>用 兵 有 言 ：</p>
<p>「 吾 不 敢 为 主 ， 而 为 客 ﹔</p>
<p>不 敢 进 寸 ， 而 退 尺 。 」</p>
<p>是 谓 行 无 行 ﹔ 攘 无 臂 ﹔</p>
<p>扔 无 敌 ﹔ 执 无 兵 。</p>
<p>祸 莫 大 于 轻 敌 ， 轻 敌 几 丧 吾 宝 。</p>
<p>故 抗 兵 相 若 ， 哀 者 胜 矣 。</p>
<p><strong>第 七 十 章<em>**</em></strong></p>
<p>吾 言 甚 易 知 ， 甚 易 行 。</p>
<p>天 下 莫 能 知 ， 莫 能 行 。</p>
<p>言 有 宗 ， 事 有 君 。</p>
<p>夫 唯 无 知 ， 是 以 不 我 知 。</p>
<p>知 我 者 希 ， 则 我 者 贵 。</p>
<p>是 以 圣 人 被 褐 而 怀 玉 。</p>
<p><strong>第 七 十 一 章<em>**</em></strong></p>
<p>知 不 知 ， 尚 矣 ﹔ 不 知 知 ， 病 也 。</p>
<p>圣 人 不 病 ， 以 其 病 病 。</p>
<p>夫 唯 病 病 ， 是 以 不 病 。</p>
<p><strong>第 七 十 二 章<em>**</em></strong></p>
<p>民 不 畏 威 ，</p>
<p>则 大 威 至 。</p>
<p>无 狎 其 所 居 ，</p>
<p>无 厌 其 所 生 。</p>
<p>夫 唯 不 厌 ，</p>
<p>是 以 不 厌 。</p>
<p>是 以 圣 人 自 知 不 自 见 ﹔</p>
<p>自 爱 不 自 贵 。</p>
<p>故 去 彼 取 此 。</p>
<p><strong>第 七 十 三 章<em>**</em></strong></p>
<p>勇 于 敢 则 杀 ， 勇 于 不 敢 则 活 。</p>
<p>此 两 者 ， 或 利 或 害 。</p>
<p>天 之 所 恶 ， 孰 知 其 故 。</p>
<p>天 之 道 ，</p>
<p>不 争 而 善 胜 ， 不 言 而 善 应 ，</p>
<p>不 召 而 自 来 ， 繟 然 而 善 谋 。</p>
<p>天 网 恢 恢 ， 疏 而 不 失 。</p>
<p><strong>第 七 十 四 章<em>**</em></strong></p>
<p>民 不 畏 死 ， 奈 何 以 死 惧 之 。</p>
<p>若 使 民 常 畏 死 ， 而 为 奇 者 ，</p>
<p>吾 得 执 而 杀 之 ， 孰 敢 。</p>
<p>常 有 司 杀 者 杀 。</p>
<p>夫 代 司 杀 者 杀 ， 是 谓 代 大 匠 斲 ，</p>
<p>夫 代 大 匠 斲 者 ， 希 有 不 伤 其 手 矣 。</p>
<p><strong>第 七 十 五 章<em>**</em></strong></p>
<p>民 之 饥 ， 以 其 上 食 税 之 多 ， 是 以 饥 。</p>
<p>民 之 难 治 ， 以 其 上 之 有 为 ， 是 以 难 治 。</p>
<p>民 之 轻 死 ， 以 其 上 求 生 之 厚 ， 是 以 轻 死 。</p>
<p>夫 唯 无 以 生 为 者 ， 是 贤 于 贵 生 。</p>
<p><strong>第 七 十 六 章<em>**</em></strong></p>
<p>人 之 生 也 柔 弱 ， 其 死 也 坚 强 。</p>
<p>草 木 之 生 也 柔 脆 ， 其 死 也 枯 槁 。</p>
<p>故 坚 强 者 死 之 徒 ， 柔 弱 者 生 之 徒 。</p>
<p>是 以 兵 强 则 灭 ， 木 强 则 折 。</p>
<p>强 大 处 下 ， 柔 弱 处 上 。</p>
<p><strong>第 七 十 七 章<em>**</em></strong></p>
<p>天 之 道 ， 其 犹 张 弓 欤 。</p>
<p>高 者 抑 之 ， 下 者 举 之 ﹔</p>
<p>有 余 者 损 之 ， 不 足 者 补 之 。</p>
<p>天 之 道 ， 损 有 余 而 补 不 足 。</p>
<p>人 之 道 ， 则 不 然 ， 损 不 足 以 奉 有 余 。</p>
<p>孰 能 有 余 以 奉 天 下 ， 唯 有 道 者 。</p>
<p>是 以 圣 人 为 而 不 恃 ， 功 成 而 不 处 ， 其 不 欲 见 贤 。</p>
<p><strong>第 七 十 八 章<em>**</em></strong></p>
<p>天 下 莫 柔 弱 于 水 ， 而 攻 坚 强 者 莫 之 能 胜 ， 以 其 无 以 易 之 。</p>
<p>弱 之 胜 强 ， 柔 之 胜 刚 ，</p>
<p>天 下 莫 不 知 ， 莫 能 行 。</p>
<p>是 以 圣 人 云 ：</p>
<p>「 受 国 之 垢 ， 是 谓 社 稷 主 ﹔</p>
<p>受 国 不 祥 ， 是 为 天 下 王 。 」</p>
<p>正 言 若 反 。</p>
<p><strong>第 七 十 九 章<em>**</em></strong></p>
<p>和 大 怨 ， 必 有 余 怨 ﹔</p>
<p>报 怨 以 德 ， 安 可 以 为 善 。</p>
<p>是 以 圣 人 执 左 契 ， 而 不 责 于 人 。</p>
<p>有 德 司 契 ， 无 德 司 彻 。</p>
<p>天 道 无 亲 ， 常 与 善 人 。</p>
<p><strong>第 八 十 章<em>**</em></strong></p>
<p>小 国 寡 民 。</p>
<p>使 有 什 伯 之 器 而 不 用 ﹔</p>
<p>使 民 重 死 而 不 远 徙 。</p>
<p>虽 有 舟 舆 ， 无 所 乘 之 ，</p>
<p>虽 有 甲 兵 ， 无 所 陈 之 。</p>
<p>使 民 复 结 绳 而 用 之 。</p>
<p>甘 其 食 ， 美 其 服 ， 安 其 居 ， 乐 其 俗 。</p>
<p>邻 国 相 望 ， 鸡 犬 之 声 相 闻 ，</p>
<p>民 至 老 死 ， 不 相 往 来 。</p>
<p><strong>第 八 十 一 章<em>**</em></strong></p>
<p>信 言 不 美 ， 美 言 不 信 。</p>
<p>善 者 不 辩 ， 辩 者 不 善 。</p>
<p>知 者 不 博 ， 博 者 不 知 。</p>
<p>圣 人 不 积 ， 既 以 为 人 己 愈 有 ，</p>
<p>既 以 与 人 己 愈 多 。</p>
<p>天 之 道 ， 利 而 不 害 ﹔</p>
<p>圣 人 之 道 ， 为 而 不 争 。</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>经典</category>
      </categories>
  </entry>
  <entry>
    <title>ch10串行通信</title>
    <url>/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/</url>
    <content><![CDATA[<h2 id="串行通信技术"><a href="#串行通信技术" class="headerlink" title="串行通信技术"></a>串行通信技术</h2><a id="more"></a>
<h3 id="串行通信基本概念"><a href="#串行通信基本概念" class="headerlink" title="串行通信基本概念"></a>串行通信基本概念</h3><p>baud rate = 1/T (每second 传字符数)</p>
<p>波特率因子：发送/接收一个数据位所需要的时钟脉冲个数</p>
<p>eg. 波特率=9600bps，波特率因子=16，则(接收和发送)时钟频率=9600×16=153600Hz</p>
<p>调制解调器——Modem。</p>
<p>Modem起着传输信号的作用，数据通讯设备，简称DCE</p>
<p>接收设备和发送设备称为数据终端设备，简称DTE。</p>
<ul>
<li><p>连接方式：</p>
<p>全双工方式：通信双方能同时进行发送和接收操作；</p>
<p>半双工方式：只有1根数据线传送数据信号，要求通信双方的发送和接收由电子开关切换；</p>
<p>单工方式：只允许数据按照一个固定的方向传送；</p>
</li>
</ul>
<ul>
<li><p>并行通信：将一组数据的各位同时进行传送。</p>
</li>
<li><p>串行通信：把数据的字节分解成单个二进制位依次传输[优势：传输干扰小]</p>
<ul>
<li><p>异步串行通信: 在单根数据线上逐字符逐位传输，</p>
<p>传输一个字符时，依次传输起始位、字符各位、校验位、停止位结束该字符的传输</p>
<p>帧（Frame）:起始位、字符各位、校验位、停止位构成一组完整的信息</p>
<ul>
<li>起始位  逻辑0  1位</li>
<li>数据位  逻辑0或1    5位、6位、7位、8位</li>
<li>校验位  逻辑0或1    1位或无</li>
<li>停止位  逻辑1  1位、1.5位或2位</li>
<li>空闲位  逻辑1  任意数量 </li>
</ul>
<p>[帧之间可有任意个空闲位]</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/frame.png" alt="frame"></p>
</li>
<li><p>同步串行通信：以一个数据块为传输单位，</p>
<p>在每个数据并不加起始和停止位，而是将数据顺序连接起来，每个数据块附加一个或多个同步字符，最后以校验字符结束。</p>
<p>异步传输的错误检测:</p>
<ul>
<li>奇偶校验错（ParityError）</li>
<li>溢出（超越）错（OverrunError）</li>
<li>帧格式错（FrameError）</li>
</ul>
</li>
</ul>
</li>
<li><p>校验方法</p>
<ul>
<li>奇偶校验法</li>
<li>方阵码校验:<br>奇偶校验和“异或校验和”综合</li>
<li>循环冗余校验码（CRC）（Cyclic Redundancy Check）</li>
</ul>
</li>
</ul>
<h4 id="串行总线标准RS-232C"><a href="#串行总线标准RS-232C" class="headerlink" title="串行总线标准RS-232C"></a>串行总线标准RS-232C</h4><p>串行通信中，DTE和DCE之间的连接要符合接口标准，计算机通信中使用最普遍的是RS-232C标准</p>
<p>定义了按位串行传输的DTE和DCE之间的接口信息。</p>
<p>eg. PC机上的COM1、COM2接口，就是RS-232C接口，使用9针和25针连接器</p>
<p>见ppt P13,14</p>
<p>RS-232三线通信的连线图</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/RS232_simple.png" alt="RS232_simple"></p>
<h3 id="异步串行通信接口芯片8250"><a href="#异步串行通信接口芯片8250" class="headerlink" title="异步串行通信接口芯片8250"></a>异步串行通信接口芯片8250</h3><p>8250芯片是一种通用的异步接收发送器</p>
<p>发送和接收都采用双缓冲器结构</p>
<ul>
<li>发送时:自CPU的并行数据字符—&gt;转换为连续的数据流—&gt;移位寄存器发送。</li>
<li>接收时: 接收串行数据流—&gt;转换为并行数据—&gt;数据寄存器提供给CPU</li>
</ul>
<p>支持异步串行通信规程: </p>
<ul>
<li>发送时可自动插入起始位、停止位和奇偶校验位。接收时能自动删除他们</li>
</ul>
<p>具有可编程的时钟产生电路:</p>
<ul>
<li>对外部输入时钟1~65535次分频，据规定Baud rate，可编程选择分频次数</li>
</ul>
<p>具有由CPU发向MODEM的控制信号</p>
<p>具有优先级排队的中断系统，有多种中断源</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8250.png" alt="8250"></p>
<h4 id="8250内部功能、结构"><a href="#8250内部功能、结构" class="headerlink" title="8250内部功能、结构"></a>8250内部功能、结构</h4><p>数据输入/输出缓冲器：与CPU总线D7~D0连接。</p>
<p>读/写控制逻辑：接收读写命令和地址信号A2~A0，产生内部控制信号，决定哪寄存器进行操作</p>
<p>接收器：由接收缓冲寄存器，接收移位寄存器、接收同步电路构成</p>
<p>发送器：包括发送缓冲寄存器TBR，发送移位寄存器和发送同步控制。</p>
<p>时钟发生环节：包括波特率发生器和分频次数锁存器。8250的发送和接收时钟为波特率的16倍。</p>
<p>设外部时钟频率为1.8432MHz，则分频次数N=184320/（16*波特率）</p>
<p>传输线控制寄存器&amp;传输线状态寄存器：控制寄存器用来写入控制字，状态寄存器用来记录通讯时状态。</p>
<p>中断控制寄存器：包括中断允许寄存器、中断识别寄存器和中断控制逻辑三部分。</p>
<p>MODEN控制逻辑：包括调制解调控制寄存器、调制解调状态寄存器和调制解调控制逻辑</p>
<h4 id="8250的引脚功能"><a href="#8250的引脚功能" class="headerlink" title="8250的引脚功能"></a>8250的引脚功能</h4><p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8250_2.png" alt="8250_2"></p>
<ul>
<li><p>双向数据线（D0~D7）</p>
</li>
<li><p>地址&amp;地址控制线</p>
<p>CS0，CS1，$\overline{CS2}$—输入片选信号。当CS0与CS1为高、$\overline{CS2}$为低时，该芯片被选中</p>
<p>A0，A1，A2—寻找8250内部寄存器。+ 除数锁存器访问位DLAB==&gt;芯片内部可供处理机访问10寄存器</p>
<p>$\overline{ADS}$—地址选通信号:  锁存片选（CS0，CS1，$\overline{CS2}$ ）&amp;&amp; 寄存器选择（A0，A1，A2）</p>
<p>DDIS—-收发器禁止，==1  禁止处理器对8250写操作；</p>
<p>MR—主复位，==1 清除内部寄存器（除接收器数据、发送保持寄存器和除数锁存器）&amp; 控制逻辑；</p>
<p>XTAL1、XTAL2—外时钟输入/输出，外部时钟XTAL1—-&gt;芯片内，芯片—-&gt;XTAL2基准时钟信号输出脚</p>
<p>CSOUT—芯片选择输出, 开始数据传输； [when芯片已由CS0，CS1，CS2输入所选中时]，</p>
<p>INTRPT—中断，8250内部有四种类型中断源。[any中断类型有效&amp;&amp;中断允许时]===&gt;该输出端==1</p>
</li>
<li><p>调制解调器控制逻辑</p>
<p>$\overline{DSR}$数传机就绪（输入）Modem就绪==&gt; ==0，允许使用通讯设备进行数据传送—&gt;8250；</p>
<p>$\overline{DTR}$数据终端8250就绪（输出）$\overline{DTR}$==0 ==&gt; 通知调制解调器或数传机8250已准备好通信；</p>
<p>$\overline{RTS}$  8250请求发送（输出）$\overline{RTS}$==0 ==&gt; 8250要求向Modem输出串行数据</p>
<p>$\overline{CTS}$  清除发送  （输入） ==0 ==&gt; MODEM已同意8250的发送请求</p>
<p>$\overline{RLSD}$  接收线路信号检测（输入）==0 ==&gt; 说明MODEM接收数据载波，8250立即接收解调后的数据</p>
<p>$\overline{RI}$    振铃指示（输入）MODEM要求8250予以回答。==0 + 若它已准备好==&gt;$\overline{DTR}$输出==0作为MODEM应答信号</p>
<p>OUT1  输出1，MODEM控制寄存器的位2编程来控制OUT1输出电平</p>
<p>OUT2  输出2，MODEM控制寄存器的位3编程来控制OUT2输出电平</p>
</li>
<li><p>接收器逻辑(接收器移位寄存器、数据寄存器、相应接收控制逻辑)</p>
<p>RCLK   接收器时钟 :输入Baud rate X 16 时钟信号</p>
<p>SIN      串行输入</p>
</li>
<li><p>发送器逻辑</p>
<p>BAUDOUT    波特率输出: 输出Baud rate X 16 时钟信号</p>
<p>SOUT            串行输出</p>
<p>DISTR、$\overline{DISTR}$   数据输入选通,一个有效=&gt;被选中寄存器内容可被读出。常与系统总线$\overline{IOR}$相连</p>
<p>DOSTR、$\overline{DOSTR}$   数据输出选通,一个有效=&gt;被选中寄存器内容可写入数据或控制字。常与系统总线$\overline{IOW}$相连</p>
</li>
</ul>
<h4 id="8250内部寄存器-amp-amp-控制字及状态字"><a href="#8250内部寄存器-amp-amp-控制字及状态字" class="headerlink" title="8250内部寄存器 &amp;&amp; 控制字及状态字"></a>8250内部寄存器 &amp;&amp; 控制字及状态字</h4><ul>
<li><p>初始化命令控制寄存器共5个</p>
<p>传输线控制寄存器LCR                                           [A2A1A0 = 011, LCR地址为3F8H+011B=3FBH]</p>
<ul>
<li><p>A2A1A0 = 011</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/LCR.png" alt="LCR"></p>
<p>D7－DLAB除数锁存         </p>
<p> 0－寻址RBR、TBR、IER寄存器；</p>
<p> 1－寻址DLL、DLH；</p>
<p>D6－SB设置间断</p>
<p> 0－禁止间断产生；</p>
<p> 1－设置间断，SOUT发送空号。据此，收方能识别发送设备已中止发送；</p>
<p>D5－SP附加奇偶标志位选择位</p>
<p>  0－无奇偶保持位选择位；</p>
<p>  1 －PEN=1时，在奇偶校验位和停止位之间插入一个奇偶标志位。采用偶校验，此奇偶标志位为0。采用奇校验，此奇偶标志位为1。</p>
<p>D4－EPS奇偶类型</p>
<p> 0－奇校验（当D3=1）；</p>
<p> 1－偶校验（当D3=1）；</p>
<p>D3－PEN奇偶校验允许</p>
<p> 0－无奇偶校验；</p>
<p> 1－有奇偶校验；</p>
<p>D2－STB停止位选择</p>
<p> 0－1位停止位；</p>
<p> 1－1.5位停止位（数据位5位）；</p>
<p> 1－2位（数据位6、7、8）；</p>
<p>D1，D0－WLS1，WLS0数据位数</p>
<p>  00－5位</p>
<p>  01－6位</p>
<p> 10－7位</p>
<p> 11－8位</p>
<p>eg. 用串口COM1，LCR地址为3FBH，假定要求的</p>
<p>数据位长7位=&gt;D1D0=10，2位停止位=&gt;D2=1，奇校验=&gt;D3=1,D4=0。</p>
<p>0－寻址RBR、TBR、IER寄存器=&gt;D7=0。那么向LCR写入控制字程序</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV 	DX, 3FBH</span><br><span class="line">MOV 	AL, 00001110B</span><br><span class="line">OUT 		DX, AL</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>MODEM控制寄存器MCR        [A2A1A0=100]</p>
<ul>
<li><p>控制8250连接外部MODEM的信号线</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/MCR.png" alt="MCR"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>D0－数据终端就绪</p>
<p>  1=DTR#为低电平；  0=DTR#为高电平；</p>
<p>D1－请求发送</p>
<p>  1=RTS#输出低电平；0=RTS#输出高电平；</p>
<p>D2－输出1（OUT1#）</p>
<p>  1=用户指定辅助输出1，OUT1#为低电平；</p>
<p>  0=OUT1#为高电平；</p>
<p>D3－输出2（OUT2#）</p>
<p>  1=用户指定辅助输出2，OUT2#为低电平；</p>
<p>  0=OUT2#为高电平；</p>
<p>D4－用来控制循环检测，实现8250的自测试。</p>
<p>  1=芯片循环反馈，提供诊断测试，即发送的数据立即被接收，  完成8250的自检。允许CPU来验证8250的发送和接收通路是否正常；</p>
<p>  0=8250正常工作</p>
<p>中断允许寄存器IER                                                          [A2A1A0=001, 地址3F9H]</p>
</li>
</ul>
<ul>
<li><p>IER高4位固定为0。</p>
<p>D0－允许接收数据就绪中断；</p>
<p>D1－允许发送保持寄存器空中断；</p>
<p>D2－允许接收字符错误或接收到间断状态中断（也称接收线路状态中断）；</p>
<p>D3－允许MODEM状态改变中断</p>
<p>除数锁存器低8位DLL（分频次数N低8位锁存器）       [A2A1A0=000, 地址3F8H]</p>
<p>除数锁存器高8位DLH（分频次数N高8位锁存器）      [A2A1A0=001, 地址3F9H]</p>
</li>
<li><p>前提DLAB==1[DLAB为LCR的最高位]</p>
<p>XTAL1输入基准时钟信号（1.8432MHz ）—-&gt;N分频——&gt;16倍波特率波特率发生器时钟（BAUDOUT）</p>
<p>波特率=1843200/（分频系数N×16）</p>
<p>eg. 分频系数寄存器为16位，高8位DLH，地址3F9H，低8位DLL，地址3F8H。</p>
<p>波特率为4800Baud，外部基准时钟频率1.8432MHz 。分频系数N=1843200/（4800×16）=24=18H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX，03FBH</span><br><span class="line">MOV AL, 80H</span><br><span class="line">OUT DX, AL    ;set  DLAB&#x3D;&#x3D;1[DLAB为LCR的最高位]</span><br><span class="line">MOV DX，03F8H</span><br><span class="line">MOV AL, 18H   ;set N 低8位DLL &#x3D; 18H &#x3D; 24</span><br><span class="line">OUT DX, AL</span><br><span class="line">MOV DX，03F9H</span><br><span class="line">MOV AL, 00H   ;set N 低8位DLH &#x3D; 0H</span><br><span class="line">OUT DX, AL</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>状态寄存器3个</p>
<p>传输线状态寄存器LSR           [A2A1A0=101]</p>
<ul>
<li><p>得到发送数据缓冲器和接收数据缓冲器的状态值</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/LSR.png" alt="LSR"></p>
</li>
<li><p>D0－接收器数据就绪。</p>
<p>  1=接收数据寄存器收到一个完整的输入字符；</p>
<p>  0=读出接收数据寄存器的内容后，该位变0。</p>
<p>D1－超越错，8250接收下一个字符前，接收数据寄存器中的数据尚未取走。</p>
<p>  1=出现超越错；</p>
<p>​    0=CPU读出接收缓冲寄存器的内容时使该位清0；</p>
<p>D2－奇偶错</p>
<p>  1=检验出奇偶错；</p>
<p>  0=处理器读该状态寄存器时使其复位为0；</p>
<p>D3－帧格式错</p>
<p>  1=接收到的数据停止位不正确时置1</p>
<p>D4－线路间断标志</p>
<p>  1=接收的间断状态超过一个完整的数据字传输时间，则使该位置1；</p>
<p>  0=读出该状态寄存器时使其复位为0 ；</p>
<p>出现上述4种错误会使8250发出线路状态错中断。</p>
<p>D5－发送保持寄存器空</p>
<p>​     1=准备好接收下一个要求发送的字符或本次发送的字符已从保持寄存器传送到发送移位寄存器；</p>
<p>  0=处理机将字符装入到发送保持寄存器后复位0；</p>
<p>D6－发送移位寄存器空</p>
<p>  1－发送移位寄存器空闲。</p>
<p>  0－数据由保持寄存器送到移位器后复位0。</p>
<p>D7－恒为0</p>
</li>
</ul>
<p>MODEM状态寄存器MSR     [A2A1A0=110]</p>
<ul>
<li><p>D7~4调制解调器控制线当前状态，D3~0四位控制输入状态变化</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/MSR.png" alt="MSR"></p>
</li>
<li><p>D0－清除发送</p>
<p>​    该位逻辑1表示从处理机上一次读出以后，输入的CTS已改变状态；</p>
<p>D1－数传机就绪</p>
<p>​    该位逻辑1表示从处理机上一次读出以后，输入的DSR已改变状态；</p>
<p>D2－振铃标志</p>
<p>​    该位逻辑1表示RI已由接通（逻辑1）变成断开（逻辑0）状态；</p>
<p>D3－接收线路信号检测</p>
<p>​    该位逻辑1表示RLSD已改变状态；</p>
<p>D4~D7位反映MODEM 控制输入的相应状态</p>
</li>
</ul>
<p>中断标志寄存器IIR             [地址3FAH,  A2A1A0=010]</p>
<ul>
<li><p>四种类型中断优先级依次:  [默认D0=0]</p>
<p>接收线路状态中断         [D2D1=11]</p>
<p>接收数据就绪中断         [D2D1=10]</p>
<p>发送保持寄存器空中断 [D2D1=01]</p>
<p>MODEM状态改变中断 [D2D1=00]</p>
</li>
<li><p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/IIR.png" alt="IIR"></p>
<p>高5位恒为0=&gt; 判别系统是否存在异步通讯接口</p>
<p>D2和D1表示内部4类中断源。</p>
<p>D0为0，表示有中断源请求中断，1无中断请求</p>
<p>eg. 判别系统是否存在异步通讯接口=&gt;D7D6D5D4D3=11111, D2D1D0=000</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX, 3FAH</span><br><span class="line">IN　AL, DX</span><br><span class="line">TEST AL, 0F8H</span><br><span class="line">JZ INITIALIZATION</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>数据寄存器2个</p>
<p>发送缓冲器TBR                  [A2A1A0 = 000, DLAB = 0,write]</p>
<ul>
<li>写入数据保持寄存器，串行发送从字节的最低位开始发送</li>
</ul>
<p>接收缓冲器RBR                  [A2A1A0 = 000, DLAB = 0,read]</p>
<ul>
<li>寄存器存放接收字符</li>
</ul>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8250_2.png" alt="8250_2"></p>
</li>
</ul>
<p>10个寄存器寻址由A2，A1，A0决定：2^3 +2 = 10</p>
<p>ps. 地址共用同样A2A1A0==000 or 001：两个分频次数寄存器&amp;&amp;其他两个寄存器</p>
<p>DLAB=1时，寻址分频次数寄存器；[DLAB为LCR的最高位]</p>
<p>DLAB=0时，寻址其他寄存器。</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8250_state.png" alt="8250_state"></p>
<h3 id="串行通信8250初始化编程"><a href="#串行通信8250初始化编程" class="headerlink" title="串行通信8250初始化编程"></a>串行通信8250初始化编程</h3><h4 id="基本步骤"><a href="#基本步骤" class="headerlink" title="基本步骤"></a>基本步骤</h4><p>1.确认串行口地址</p>
<p>  COM1为2F8~2FFH，COM2为3F8~3FFH。</p>
<p>  各端口地址= 3F8H + A2A1A0</p>
<ul>
<li>DLL(000)地址3F8H,  DLH(001)地址3F9H         [先将LCR的D7置1（DLAB）]</li>
<li>LCR(011)地址为3FBH</li>
<li>MCR(100)地址3FCH</li>
<li>IER(000)地址3F9H                                               [先将LCR的D7置0（DLAB）]</li>
<li>MSR(110)地址3FDH</li>
</ul>
<p>2.设置分频次数（波特率）</p>
<p>  据波特率，计算和查表得到分频系数16位，分别放入DLL和DLH。先将LCR的D7置1（DLAB），然后再写入。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX, 3FBH</span><br><span class="line">MOV AL, 80H</span><br><span class="line">OUT DX, AL	;DLAB&#x3D;1</span><br><span class="line">MOV DX, 3F8H</span><br><span class="line">MOV AL, 0CH</span><br><span class="line">OUT DX, AL	;设置分频系数DLL&#x3D;&#x3D;0CH</span><br><span class="line">MOV DX, 3F9H</span><br><span class="line">MOV AL, 00H</span><br><span class="line">OUT DX, AL	;设置分频系数DLH&#x3D;&#x3D;0H</span><br></pre></td></tr></table></figure>
<p>3.设置通信数据格式</p>
<p>  字符代码位数、停止位、奇偶校验位等，初始化LCR</p>
<p>  eg. 数据位长7位=&gt;D1D0=10，1位停止位=&gt;D2=0，奇校验=&gt;D3=1-&gt;D4=1，0－寻址RBR、TBR、IER寄存器=&gt;D7=0，D6D5默认00</p>
<p>D4D3D2D1D0=11010，D7D6D5=000==&gt;D7~D0=1AH</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX, 3FBH</span><br><span class="line">MOV AL, 0001 1010B</span><br><span class="line">OUT DX, AL</span><br></pre></td></tr></table></figure>
<p>4.设置MODEM控制寄存器MCR</p>
<p>  一般情况MCR设置为03H&lt;=正常情况下，D4=0, </p>
<p>   RTS#=0，DSR#=0。</p>
<p>   <img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/MCR.png" alt="MCR"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX, 3FCH	;MCR</span><br><span class="line">MOV AL, 03H  	;set 03H</span><br><span class="line">OUT DX, AL</span><br></pre></td></tr></table></figure>
<p>5.设置中断允许寄存器IER（3F9H）</p>
<p>IER高4位固定为0。[中断次序如下：]</p>
<p>D0－允许接收数据就绪中断；</p>
<p>D1－允许发送保持寄存器空中断；</p>
<p>D2－允许接收字符错误或接收到间断状态中断（也称接收线路状态中断）；</p>
<p>D3－允许MODEM状态改变中断</p>
<p>发送：开放发送缓冲器空中断，使IER中D1=1。</p>
<p>接收：开放接收数据出错中断，使IER中D2=1。开放接收数据就绪中断，使IER中D0=1</p>
<p>eg. 禁止中断==&gt;D3D2D1D0=0000=&gt;D7~D0=00H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX, 3F9H	;  IER</span><br><span class="line">MOV AL, 00H  	;禁止中断</span><br><span class="line">OUT DX, AL</span><br></pre></td></tr></table></figure>
<p>eg. 允许接收      数据寄存器满产生中断==&gt;D3D2D1D0=0101=&gt;D7~D0=05H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV DX, 3F9H	;  IER</span><br><span class="line">MOV AL, 05H  	; 允许接收     数据寄存器产生中断</span><br><span class="line">OUT DX, AL</span><br></pre></td></tr></table></figure>
<p>PS附加. TEST检验D4~D1任一位为1出错</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">   MOV DX,3FDH	;LSR传输线状态寄存器</span><br><span class="line">IN AL,DX</span><br><span class="line">TEST AL,1EH		;D4~D1任一位为1出错</span><br><span class="line">JNZ ERROR</span><br></pre></td></tr></table></figure>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><p>eg. 以查询方式发送数据，</p>
<p>发送字符数据顺序放在SENTDATA开始的单元。</p>
<p>以中断方式接收数据，接收到的字符数据放在变量RECDATA开始的存储单元。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	MOV DX, 3FBH</span><br><span class="line">	MOV AL, 80H</span><br><span class="line">	OUT DX, AL	;DLAB&#x3D;1</span><br><span class="line">	MOV DX, 3F8H	;规定波特率9600Baud</span><br><span class="line">	MOV AL, 0CH</span><br><span class="line">	OUT DX, AL	;设置分频系数DLL</span><br><span class="line">	MOV DX, 3F9H</span><br><span class="line">	MOV AL, 00H</span><br><span class="line">	OUT DX, AL	;设置分频系数DLH</span><br><span class="line">	</span><br><span class="line">	MOV DX, 3FBH</span><br><span class="line">	MOV AL, 1AH  	;长度7位，1位停止，奇校验</span><br><span class="line">	OUT DX, AL</span><br><span class="line"></span><br><span class="line">	MOV DX, 3FCH	;MCR</span><br><span class="line">	MOV AL, 0BH 	;0000 1011B  	</span><br><span class="line">	OUT DX, AL</span><br><span class="line"></span><br><span class="line">	MOV DX, 3F9H	;  IER</span><br><span class="line">	MOV AL, 05H  	; 允许接收数据寄存器满产生中断</span><br><span class="line">	OUT DX, AL</span><br><span class="line">	</span><br><span class="line">	STI</span><br><span class="line">	MOV SI, OFFSET SENTDATA</span><br><span class="line">	MOV BX, OFFSET RECDATA</span><br><span class="line"></span><br><span class="line">	;接收中断服务程序：</span><br><span class="line">RECVE: PUSH AX</span><br><span class="line">	PUSH BX</span><br><span class="line">	PUSH DX</span><br><span class="line">	PUSH DS</span><br><span class="line">	MOV DX,3FDH	;LSR传输线状态寄存器</span><br><span class="line">	IN AL,DX</span><br><span class="line">	TEST AL,1EH	;D4~D1任一位为1出错</span><br><span class="line">	JNZ ERROR</span><br><span class="line">	MOV DX, 3F8</span><br><span class="line">	IN AL, DX</span><br><span class="line">	AND AL, 7FH</span><br><span class="line">	MOV [BX], AL</span><br><span class="line">	INC BX</span><br><span class="line">	MOV AL,20H</span><br><span class="line">	MOV DX,0020H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	POP DS</span><br><span class="line">	POP DX</span><br><span class="line">	POP BX</span><br><span class="line">	POP AX</span><br><span class="line">	STI</span><br><span class="line">	IRET</span><br></pre></td></tr></table></figure>
<h3 id="异步串行通信接口芯片8251"><a href="#异步串行通信接口芯片8251" class="headerlink" title="异步串行通信接口芯片8251"></a>异步串行通信接口芯片8251</h3><p>同步方式或异步方式:</p>
<ul>
<li><p>同步方式下，波特率为0～64Kbps，</p>
<p>每一个字符可为5、6、7或8位，</p>
<p>能自动检测同步字符，</p>
<p>可进行奇/偶校验；</p>
</li>
<li><p>异步方式下，波特率为0～19.2Kbps，</p>
<p>每一个字符可为5、6、7或8位，</p>
<p>启动位1位，校验位1位，能根据编程为每个数据增加1、1.5或2位停止位。</p>
</li>
</ul>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8251.png" alt="8251"></p>
<h4 id="8251管脚"><a href="#8251管脚" class="headerlink" title="8251管脚"></a>8251管脚</h4><ul>
<li><p>与CPU的连接信号</p>
<p>读/写控制信号：</p>
<p>包括读信号RD#、写信号WR#、控制/数据信号C/D#</p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8251_wr.png" alt="8251_wr"></p>
<p>片选信号CS#</p>
<p>数据信号D7~D0</p>
<p>收发联络信号:</p>
<ul>
<li>TXRDY   发送器准备好</li>
<li>TXE  发送器空</li>
<li>RXRDY  接收器准备好</li>
<li>SYNDET  同步检测信号</li>
</ul>
</li>
<li><p>与外设的连接信号</p>
<p>数据信号: TxD、RxD；</p>
<p>和外设的联络信号:</p>
<ul>
<li>DTR#(data terminal ready)：数据终端准备好信号；</li>
<li>DSR#(data set ready)：数据设备准备好信号；</li>
<li>RTS#(request to send)：请求发送信号；</li>
<li>CTS#(clear to send)：清除发送信号；</li>
</ul>
<p>使用时，一般将DTR#和DSR#连接接收器，将RTS#和CTS#连接发送器。</p>
<p>时钟信号: 系统时钟CLK；发送时钟TXC；接收时钟RXC；</p>
</li>
</ul>
<h4 id="8251内部寄存器"><a href="#8251内部寄存器" class="headerlink" title="8251内部寄存器"></a>8251内部寄存器</h4><p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8251_reg1.png" alt="8251_reg1"></p>
<p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8251_reg2.png" alt="8251_reg2"></p>
<p>异步模式：</p>
<ul>
<li><p>发送时钟TxC、接收时钟RxC由专门的时钟发生器供给；</p>
<p>发送和接收波特率分别由TxC、RxC与波特率因子决定：</p>
<p>  波特率＝时钟频率/波特率因子</p>
<p>异步发送数据时，在控制寄存器中允许发送位TxEN有效，且CTS#信号有效时，开始发送过程；</p>
<p>异步接收数据时，在控制寄存器中允许发送位RxEN有效时，RxRDY信号表示收到了一个有效数据</p>
</li>
</ul>
<p>同步模式：</p>
<ul>
<li><p>发送时钟TxC、接收时钟RxC由调制解调器和有关通信设备控制；</p>
<p>发送和接收波特率分别和TxC、RxC引脚上的时钟频率相等；</p>
<p>同步发送时，在控制寄存器中允许发送位TxEN有效，且CTS#信号有效时，开始发送过程:</p>
<ul>
<li><p>根据编程要求发送1个或2个同步字符，然后发送数据块；</p>
<p>当CPU来不及提供数据时，8251自动插入同步字符；</p>
</li>
</ul>
<p>同步接收时，8251首先搜索同步字符，将接收到的字符与同步字符寄存器内容比较</p>
<ul>
<li>根据编程，需较1或2个同步字符</li>
</ul>
</li>
</ul>
<h4 id="模式字-amp-控制字-amp-状态字"><a href="#模式字-amp-控制字-amp-状态字" class="headerlink" title="模式字&amp;控制字&amp;状态字"></a>模式字&amp;控制字&amp;状态字</h4><p>8251A有一奇一偶两个端口地址。</p>
<p>偶地址对应数据输入寄存器和数据输出寄存器。</p>
<p>奇地址对应状态寄存器、模式寄存器、控制寄存器和同步字符寄存器。</p>
<p>8251的初始化</p>
<ol>
<li><p>芯片复位后，第一次对  模式字——-&gt;奇地址—-&gt;模式寄存器；</p>
</li>
<li><p>if模式字=&gt;同步模式，往奇地址写入同步字符，</p>
<p>then if 规定同步字符为2个，则分别写入第一个和第二个同步字符寄存器；</p>
</li>
<li><p>此后，只要不是复位命令，不分同步、异步模式，往奇地址写的作为控制字送到控制寄存器，往偶地址写的作为数据送到数据发送缓冲器</p>
</li>
</ol>
<p>eg. 异步模式初始化程序</p>
<p>模式字和控制字都必须写入“奇地址”端口，这里假设为42H。异步模式下必须给出波特率因子。</p>
<p>假设：字符用7位数据位表示、偶校验、2位停止位，波特率因子16。</p>
<p>模式字：1111 10 10B      0FAH</p>
<p>控制字：0011 0111B       37H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV   AL, 0FAH  ;设模式字：异步模式、波特率因子16、</span><br><span class="line">OUT   42H, AL   ; 7位数据位、偶校验、2位停止位</span><br><span class="line">MOV   AL, 37H   ;设置控制字：使发送启动、接收启动</span><br><span class="line">OUT   42H, AL</span><br></pre></td></tr></table></figure>
<p>eg. 同步模式初始化程序</p>
<p>假设“奇地址”端口为42H。程序往此端口设置的数据依次为模式字、同步字符和控制字符</p>
<p>假设：字符用7位数据位表示、偶校验，用两个同步字符，采用内同步模式。同步字符16H</p>
<p>模式字：00111000B  38H </p>
<p>控制字：1001 0111B  97H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV   AL, 38H   ;设置模式字：同步模式、2个同步字符</span><br><span class="line">OUT    42H, AL   ; 7位数据位、偶校验</span><br><span class="line">MOV   AL, 16H   </span><br><span class="line">OUT    42H, AL   ;两个同步字符均为16H；</span><br><span class="line">OUT    42H, AL   </span><br><span class="line">MOV   AL, 97H   ;设置控制字：使发送启动、接收启动</span><br><span class="line">OUT    42H, AL</span><br></pre></td></tr></table></figure>
<p>eg. </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV   DX,209H</span><br><span class="line">IN    AL,DX;状态字</span><br><span class="line">AND   AL,02H;RXRDY？</span><br></pre></td></tr></table></figure>
<p>eg.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV   DX,209H</span><br><span class="line">IN     AL,DX	;状态字</span><br><span class="line">AND    AL,01H	;TXRDY？</span><br></pre></td></tr></table></figure>
<h4 id="综合实例"><a href="#综合实例" class="headerlink" title="综合实例"></a>综合实例</h4><p><img src="/2020/05/15/computer_organization/10_ch10%E4%B8%B2%E8%A1%8C%E9%80%9A%E4%BF%A1/8251_ini.png" alt="8251_ini"></p>
<p>eg. 输入80个字符。</p>
<p>假设8251控制和状态端口为42H，数据输入和输出地址为40H。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	MOV   AL, 0FAH ;设模式字：异步模式、波特率因子16、</span><br><span class="line">	OUT    42H, AL   ; 7位数据位、偶校验、2位停止位</span><br><span class="line">	MOV   AL, 37H   ;设置控制字：使发送启动、接收启动</span><br><span class="line">	OUT    42H, AL   </span><br><span class="line">	MOV DI, 0</span><br><span class="line">	MOV CX, 80</span><br><span class="line">BEGIN: IN AL, 42H</span><br><span class="line">	TEST AL,02H	;测试RxRDY</span><br><span class="line">	JZ BEGIN</span><br><span class="line">	IN AL, 40H</span><br><span class="line">	MOV DX,OFFSET BUFFER</span><br><span class="line">	MOV [DX+DI], AL</span><br><span class="line">	INC DI</span><br><span class="line">    IN AL, 42H</span><br><span class="line">    TEST AL,38H   ;测试是否有错</span><br><span class="line">    JNZ ERROR</span><br><span class="line">    LOOP BEGIN</span><br><span class="line">    JMP EXIT</span><br><span class="line">ERROR: CALL ERROR_OUT</span><br><span class="line">EXIT: </span><br><span class="line">	...</span><br></pre></td></tr></table></figure>
<p>eg. 8251异步模式下的接收和发送程序，完成256个字符的发送和接收，</p>
<p>设端口地址：208H，209H，波特率因子16，</p>
<p>1起始位，1停止位，无奇偶校验，每字符8位</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;接收程序</span><br><span class="line">Data segment</span><br><span class="line">buf DB 256 dup(?)</span><br><span class="line">Data ends</span><br><span class="line">...</span><br><span class="line">MOV    DX, 209H</span><br><span class="line">MOV    AL, 40H;复位</span><br><span class="line">OUT     DX, AL</span><br><span class="line">MOV    AL, 01001110B;模式字</span><br><span class="line">OUT     DX, AL</span><br><span class="line">MOV    AL, 00110111B;控制字</span><br><span class="line">OUT     DX, AL</span><br><span class="line">MOV   CX, 256	;接收256字节</span><br><span class="line">MOV   SI, 0</span><br><span class="line">NEXT:MOV DX,209H</span><br><span class="line">     IN   AL,DX    ;状态字</span><br><span class="line">	AND   AL,02H  ;RXRDY？</span><br><span class="line">	JZ   NEXT</span><br><span class="line">	MOV  DX,208H</span><br><span class="line">	IN   AL,DX   ;接收1字符</span><br><span class="line">	MOV buf[SI],AL</span><br><span class="line">	INC SI</span><br><span class="line">	LOOP NEXT</span><br><span class="line">;发送程序</span><br><span class="line">	MOV  DX,  209H</span><br><span class="line">	MOV  AL,  40H		;复位命令。</span><br><span class="line">	OUT  DX,  AL</span><br><span class="line">	MOV  AL,  01001110B	;模式字</span><br><span class="line">	MOV  DX,  AL</span><br><span class="line">	MOV  AL,  00110111B	;控制字</span><br><span class="line">	OUT  DX,  AL</span><br><span class="line">	MOV  CX,  256		;发送256字节</span><br><span class="line">NEXT:MOV  DX, 209H</span><br><span class="line">	IN   AL,  DX		;状态字</span><br><span class="line">	AND  AL,  01H		;TXRDY？</span><br><span class="line">	JZ NEXT</span><br><span class="line">	MOV  AL,  CL</span><br><span class="line"> 	MOV  DX, 208H</span><br><span class="line">	OUT  DX, AL		;发送</span><br><span class="line">	LOOP NEXT</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch11微型计算机总线</title>
    <url>/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/</url>
    <content><![CDATA[<h2 id="微型计算机总线"><a href="#微型计算机总线" class="headerlink" title="微型计算机总线"></a>微型计算机总线</h2><a id="more"></a>
<h3 id="总线概述"><a href="#总线概述" class="headerlink" title="总线概述"></a>总线概述</h3><ul>
<li><p>总线结构的优点：</p>
<p>便于采用模块化结构设计方法，简化系统设计；</p>
<p>便于开发相互兼容的硬件板卡和软件，标准总线得到各厂商的支持；</p>
<p>便于系统的扩充和升级，灵活性好；</p>
<p>便于故障诊断和维修</p>
</li>
<li><p>总线指标</p>
<p>总线宽度：指一次可以同时传输的数据位数</p>
<p>总线频率：指总线工作时每秒钟内能传输数据的次数</p>
<p>传输速率：指每秒钟能够传输的字节数 = 总线宽度 X 总线频率</p>
<p>eg. PCI总线的宽度为32位=4 B，总线频率为33MHz，所以，PCI的数据传输率为132MB/s(33*4)</p>
</li>
<li><p>总线功能分成</p>
<p>控制总线 [控制其他部件的部件称为总线主控 (master)，被控部件称为从控(slave)]</p>
<p>地址总线 [地址总线是单向的，即地址信号只能由总线主控至从控。地址总线也是三态的]</p>
<p>数据总线 [数据总线是双向的。数据总线是三态的]</p>
<p>(数据总线的根数==总线的宽度)</p>
</li>
<li><p>总线的层次结构（内—&gt;外）</p>
<p>片内总线：CPU或IO芯片内部，用于各功能部件之间</p>
<p>CPU总线：CPU、RAM、ROM、控制芯片组等芯片之间的信号连接[包括控制总线、地址总线和数据总线]</p>
<p>局部总线：主机板上的信息通道，连接主机板上各主要部件，通过扩展槽连接各种适配器</p>
<ul>
<li>ISA, EISA :(Extended) Industry Standard Architecture 16,32位标准总线，数据传输率16,33MB/s</li>
<li>MCA : Micro Channel Architecture  32位标准总线，数据传输率40MB/s</li>
<li>PCI : Peripheral Component Interconnect  32/64位标准总线，数据传输率132MB/s</li>
<li>VESA : Video Electronic Standard Association  32位标准总线，数据传输率133MB/s</li>
<li>AGP :  Accelerated Graphics Port 是一种接口标准</li>
</ul>
<p>系统总线：多处理器系统连接各CPU插件板的信息通道；系统机箱底板上；</p>
<p>外部总线：I/O设备（外设）与系统中其他部件（主机）间的公共通信通路</p>
<ul>
<li>SCSI－小型计算机系统互连；</li>
<li>USB－通用串行总线</li>
</ul>
</li>
</ul>
<h3 id="ISA总线"><a href="#ISA总线" class="headerlink" title="ISA总线"></a>ISA总线</h3><p>Industry Standard Architecture 16位标准总线，数据传输率16MB/s</p>
<p>数据线扩展为16位；</p>
<p>地址线扩展为24位，直接寻址2^24=16MB；</p>
<p>总线时钟为8MHZ，传输率8M*（16位/8bit）= 16MB/S</p>
<p>15个外部中断输入和7个DMA通道</p>
<p>62+36 =98 条信号线</p>
<p><img src="/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/ISA.png" alt="ISA"></p>
<p>SBHE：System Byte High Enable, when==1 数据总线SD8-SD15—-&gt;高位字节—-&gt;数据总线缓冲器</p>
<p>$\overline{MEM CS16}$：Memory 16 Bit Chip Select ==1  8位数据传输; ==0  16位数据传输</p>
<p>$\overline{I/O CS16}$：I/O 16-Bit Chip Select ==1  8位数据传输; ==0  16位数据传输</p>
<p>$\overline{MASTER}$[总线主模块信号] when扩展卡上有CPU或DMA控制器, ==0  获得总线控制权，并访问系统资源</p>
<p>OWS：Zero Wait State ==1 完成当前的总线周期，无插入Tw等待周期</p>
<p>$\overline{SMEMR}\   \overline{SMEMW}$   对系统16MB存储器read,write[$\overline{MEMR}\   \overline{MEMW}$ 1MB范围内的存储器]</p>
<p>IRQ0-IRQ15：中断请求，主片的IRQ2—&gt;从片(2片8259A)中断请求端INT</p>
<p>DRQ0、DRQ5-DRQ7：DMA请求，主片的DRQ0—&gt;从片(2片主从式8237A)DMA 请求端</p>
<p>DACK0、DACK5-DACK7 ：DMA应答信号</p>
<h3 id="EISA总线"><a href="#EISA总线" class="headerlink" title="EISA总线"></a>EISA总线</h3><p>Extended Industry Standard Architecture 32位标准总线，数据传输率33MB/s</p>
<p>提高寻址能力(addr)、增加总线宽度(data)、增加控制信号 than ISA：</p>
<p>地址线为32条，直接寻址范围可达2^32=4GB</p>
<p>数据宽度为32位，自动进行8位、16位、32位数据转换</p>
<p>共有198条信号线，其中，98条是ISA原有的</p>
<p>时钟频率为8.3MHz，传输率为8.3MHz×32b/8b=33.2MB/s</p>
<h3 id="PCI总线"><a href="#PCI总线" class="headerlink" title="PCI总线"></a>PCI总线</h3><p>Peripheral Component Interconnect  32/64位标准总线，数据传输率132MB/s</p>
<p>四个主要的标准规格：</p>
<p>分别支持32位与64位,其下又分成3.3V与5V两种信号</p>
<p>运行在33MHz或66MHz：数据传输率最大可达66M*(64位/8bit)=528MB/s</p>
<h4 id="PCI总线特点"><a href="#PCI总线特点" class="headerlink" title="PCI总线特点"></a>PCI总线特点</h4><p>高传输率: PCI频率限于66MHz，最高传输率528MB/s</p>
<p>高效率: 集成高速缓冲器=&gt;缓冲CPU数据, 支持突发数据传输模式</p>
<p>即插即用功能</p>
<ul>
<li><p>系统和适配器两方面: </p>
<p>适配器中设EEPROM存按PCI规范的配置信息 </p>
<p>PCI总线控制器测、调配置信息各参数，每PCI设备配256字节存放配置信息</p>
</li>
</ul>
<p>独立于CPU</p>
<ul>
<li>中间连接件机制：PCI控制器 &amp;&amp; CPU  结构无关</li>
<li>CPU不直接控制外设；</li>
<li>支持当前、未来CPU</li>
</ul>
<p>负载能力强、易于扩展</p>
<ul>
<li>负载能力比较强，而且PCI总线—&gt;PCI控制器—&gt;form多级PCI总线—&gt;多个设备</li>
</ul>
<h4 id="PCI-总线信号"><a href="#PCI-总线信号" class="headerlink" title="PCI 总线信号"></a>PCI 总线信号</h4><p><img src="/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/PCI.png" alt="PCI"></p>
<ul>
<li><p>1 系统信号</p>
<p>CLK：总线时钟输入信号0HZ～66MHz,除$\overline{RST}$，$\overline{INTA～D}$外，余信号在CLK 上升沿同步</p>
<p>$\overline{RST}$: PCI 专用寄存器、定时器相关的信号恢复到规定的初始状态</p>
</li>
<li><p>2 地址和数据信号</p>
<p>AD[31:00]地址/数据复用信号：双向（输入/输出）三态信号</p>
<p>$C/\overline{BE[3:0]}$总线命令&amp;&amp;字节使能信号:地址期，定义总线命令；数据期，作字节使能</p>
<ul>
<li><p>总线命令的作用</p>
<p>规定主从设备之间传输信息的类型</p>
<p>0000   中断确认 中断识别命令 </p>
<p>0001   特殊周期 提供在PCI上的简单广播机制 </p>
<p>0010   I/O读 从I/O口地址中读数据 </p>
<p>0011   I/O写 向I/O地址空间写数据</p>
<p>0110   存储器读 从内存空间中读出数据 </p>
<p>0111   存储器写 向内存空间写入数据 </p>
<p>1100   多重存储器读 只要$\overline{FRAME}$==0,保持存取管道连续,以大量传输数据 </p>
</li>
</ul>
<p>PAR奇偶校验信号: 进行偶校验AD[31:00]、$C/\overline{BE[3:0]}$双向</p>
</li>
<li><p>3 接口控制信号</p>
<p>$\overline{FRAME}$：帧同步信号，由启动方驱动，==0 数据帧访问开始&amp;&amp; 数据传输keep</p>
<p>$\overline{IRDY}$: （Initiator Ready）：启动方准备好信号</p>
<p>$\overline{TRDY}$:（Target Ready）目标方准备好信号</p>
<p>$\overline{STOP}$:停止数据传送信号，从设备要求主设备</p>
<p>$\overline{LOCK}$: 总线锁定信号， ==0时阻其他设备 中断当前的总线周期</p>
<p>IDSEL: 初始化设备选择信号</p>
<p>$\overline{DEVSEL}$:  设备选择信号，此信号==0时，通知主设备，从设备被选中</p>
</li>
<li><p>4 总线仲裁信号</p>
<p>$\overline{REQ}$: 总线请求信号，==0 表示驱动它的设备要求使用总线</p>
<p>$\overline{GNT}$: 总线允许信号，==0仲裁器同意(请求总线的设备)使用总线</p>
<p>PCI使用同步集中式隐含仲裁。</p>
<ul>
<li>对于每个主设备都有唯一的请求($\overline{REQ}$)和允许信号($\overline{GNT}$)连接到仲裁器，利用请求－允许方式完成总线的切换，仲裁过程在上一次访问期间隐性完成。</li>
</ul>
<p>仲裁器可以使用先来先服务法、循环轮流法和其他一些优先权排列法</p>
<p>eg. 设备B的优先级高于设备A。</p>
<p><img src="/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/PCI_judge.png" alt="PCI_judge"></p>
<p>PCI主设备必对它要执行每次传输 请求总线仲裁</p>
</li>
</ul>
<ul>
<li><p>5 错误报告信号</p>
<p>$\overline{PERR}$: 数据奇偶校验parity错误报告信号</p>
<p>$\overline{SERR}$: 系统错误报告信号, PCI的任一设备来驱动</p>
</li>
<li><p>6 中断信号</p>
<p>$\overline{INTA-D}$: 四条中断请求线, 单功能设备只能用$\overline{INTA}$，后三个信号用于多功能设备</p>
</li>
<li><p>7 Cache 支持信号</p>
<p>$\overline{SBO}$: PCI  Cache /bridge的输出信号, PCI总线上高速缓冲存储器子系统的输入信号</p>
<p>$\overline{SDONE}$:  侦听完成信号。是PCI Cache / bridge 输出信号，在PCI总线上高速缓冲存储器子系统的输入信</p>
</li>
<li><p>8 64位总线扩展信号</p>
<p>AD[63:32] : 扩展的32位地址和数据多路复用线</p>
<p>$C/\overline{BE[7:4]}$: 总线命令&amp;&amp;字节使能多路复用信号</p>
<p>$\overline{REQ64}$: 64位传输请求, 本设备要求采用64位传送数据</p>
<p>$\overline{ACK64}$: 64位传输确认信号，表示目标方同意执行64位传输</p>
<p>PAR64: 奇偶校验信号，是AD[64:32]和C/BE[7:4]的校验位</p>
</li>
<li><p>9 边界扫描信号JTAG</p>
<p>TCK：边界扫描的测试时钟，用于记录状态信息，测试设备的输入输出数据</p>
<p>TDI： 测试输入信号，通过串行移位将测试数据和指令送入设备中</p>
<p>TDO： 测试输出信号，串行移位设备中的输出数据和指令</p>
<p>TMS： 测试模式选择，用于初始化“测试访问口控制器”的状态</p>
<p>$\overline{TEST}$: 测试复位，用于初始化“测试访问口控制器”</p>
</li>
</ul>
<h4 id="PCI-数据传输"><a href="#PCI-数据传输" class="headerlink" title="PCI 数据传输"></a>PCI 数据传输</h4><p>由一个地址期和一个或多个数据期所组成</p>
<p>[地址期为一个时钟周期，数据期可插入Tw，等待由于主or从设备未准备好造成]</p>
<p>事件在时钟下降沿同步,  在每个时钟周期中间部位发生</p>
<p>总线设备在总线周期开始的上升沿,  采样总线上的各信号</p>
<p>信号变化在时钟下降沿  +  信号采样在时钟上升沿</p>
<p>传输过程: 主设备-&gt;$\overline{FRAME}$==0开始;  $\overline{FRAME}$==1后最后一个数据传输</p>
<h4 id="PCI编码"><a href="#PCI编码" class="headerlink" title="PCI编码"></a>PCI编码</h4><ul>
<li><p>I/O空间：位于主机系统</p>
<p>正向译码：</p>
<p>负向译码：其他设备未被选中时，由总线扩展桥发$\overline{DEVSEL}$来响应</p>
</li>
<li><p>内存空间：位于主机系统</p>
</li>
<li><p>配置空间：分布于各个设备中</p>
<ul>
<li><p>基本配置空间为256字节。</p>
<p>头标区(0~3FH)64字节，描述与系统相关的信息</p>
<p>设备相关区(40H~FFH)192字节，描述设备本身功能细节</p>
<p>配置寄存器如下</p>
<p><img src="/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/PCI_set1.png" alt="PCI_set1"></p>
<p><img src="/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/PCI_set2.png" alt="PCI_set2"></p>
<p>三种头标类型[头标区(0~3FH)] (前16字节（0～0FH）定义是统一的，后48字节的定义不同)</p>
<ul>
<li><p>2类：专用于PCI-CardBus桥</p>
</li>
<li><p>1类：专用于PCI-CPI桥</p>
</li>
<li><p>0类：适用于普通的PCI设备和CPI扩展桥</p>
<p><img src="/2020/05/15/computer_organization/11_ch11%E5%BE%AE%E5%9E%8B%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%BB%E7%BA%BF/PCI_head0.png" alt="PCI_head0"></p>
<p>10H～27H共16+8=24个字节，组成：</p>
<p>6个32位(4B)寄存器，可申请6个32位寻址存储区，or</p>
<p>3个64位(8B)寄存器，可申请3个64位寻址存储区，or</p>
<p>6个32位(4B)寄存器，可申请6个32位寻址IO端口；</p>
<p>基于映射机制:基址寄存器第0位决定</p>
<p>0－存储器空间；  1－IO空间</p>
<p>基址寄存器第1、2位==&gt;存储空间基址寄存器长度32 or 64位&amp;&amp;存储空间大小</p>
</li>
</ul>
</li>
<li><p>提供设备的各种寄存器地址(映射到统一的空间，用来支持即插即用功能)、设备及其类型、设备运行时需要存储空间和IO接口</p>
</li>
<li><p>设备所需存储器和IO端口统一编址，使互不冲突</p>
</li>
<li><p>为需要的设备分配中断类型号</p>
</li>
</ul>
</li>
</ul>
<h3 id="外部总线"><a href="#外部总线" class="headerlink" title="外部总线"></a>外部总线</h3><p>RS232；</p>
<p>IDE(IntegratedDrive Electronics)：原指把控制器和盘体集中在一起的硬盘驱动器，主要用于主机和硬盘、光驱、软驱之间的连接</p>
<p>[ATA（Advanced Technology Attachment）：IDE技术规范归纳成为全球硬盘标准]</p>
<p>SATA(SerialATA)：SATA规范将硬盘的外部传输速率理论值提高到了150MB/s，比标准ATA/100高出50%。</p>
<p>SCSI(SmallComputer System Interface)：用于小型机、工作站、服务器或其他多任务、高性能、智能外设。</p>
<p>USB：通用串行总线</p>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch12ADDA转换</title>
    <url>/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<h2 id="模-数和数-模转换"><a href="#模-数和数-模转换" class="headerlink" title="模/数和数/模转换"></a>模/数和数/模转换</h2><a id="more"></a>
<h3 id="数据采集基本概念"><a href="#数据采集基本概念" class="headerlink" title="数据采集基本概念"></a>数据采集基本概念</h3><p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/ADDA_control.png" alt="ADDA_contro"></p>
<p>传感器: 物理量转换成电信号</p>
<p>多路模拟开关: 模拟信号源—&gt;转换成数字形式</p>
<p>信号调理器（SIGNAL CONDITIONING ）:</p>
<ul>
<li>信号的电平、极性等转换，以便与A/D变换器所需的电平极性匹配</li>
<li>阻抗变换作用，隔离后面的负载对传感器的影响</li>
<li>抑制干扰，提高信噪比</li>
<li>防止混叠现象</li>
</ul>
<p>采样保持(Sample/Hold)电路:</p>
<ul>
<li><p>A/D进行转换时间内，保持输入信号不变</p>
</li>
<li><p>采样模式: 输出随输入变化，通常增益为1</p>
<p>在保持模式: 采样保持电路的输出保持命令发出时的输出值</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/sample_keeper.png" alt="sample_holder"></p>
</li>
</ul>
<p>eg : 高速多通道数据采集系统</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/multi_AD.png" alt="multi_AD"></p>
<p>eg: 多通道共用A/D变换器</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/multi_AD2.png" alt="multi_AD2"></p>
<h3 id="A-D转换器及其应用"><a href="#A-D转换器及其应用" class="headerlink" title="A/D转换器及其应用"></a>A/D转换器及其应用</h3><h4 id="AD转换器参数"><a href="#AD转换器参数" class="headerlink" title="AD转换器参数"></a>AD转换器参数</h4><ul>
<li>量程：输入模拟信号幅度</li>
<li>带宽：输入模拟信号频率</li>
<li>转换速率：每秒能进行的转换次数</li>
<li>分辨率（Resolution）: 位数8位，满量程5V，则其分辨率为8位，或<br>5V/(2^8-1)=19.6mV</li>
<li>转换精度（Accuracy）: 精度和分辨率的区别，例如某ADC具有24位的分辨率，但其精度相当于16位，低8位表征随机噪声的影响</li>
</ul>
<h4 id="ADC0809工作原理及接口"><a href="#ADC0809工作原理及接口" class="headerlink" title="ADC0809工作原理及接口"></a>ADC0809工作原理及接口</h4><p>转换时间是100us，分辨率为8位，单5V供电，输入模拟电压范围为0—5V</p>
<ul>
<li><p>8路模拟开关；</p>
</li>
<li><p>地址锁存与译码；</p>
</li>
<li><p>8位A/D转换；(DAC)</p>
</li>
<li><p>三态输出锁存器。</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/ADC0809.png" alt="ADC0809"></p>
</li>
</ul>
<p>IN0～IN7: 输入，8路模拟输入</p>
<p>DB0～DB7 : 三态输出，A/D转换数据输出线; </p>
<p>ADD_A，ADD_B，ADD_C: 输入，模拟通道选择线;</p>
<p>ALE: 输入，地址锁存使能，上升沿将ADD_A、ADD_B、ADD_C三位地址信号锁存，译码选通对应的模拟通道;</p>
<p>REF(+)/REF(-): 输入，基准电压输入端，要求1/2[VREF(+)+VREF(-)]=1/2Vc</p>
<p>模拟输入与数字输出的关系为：N＝(UIN - UREF-) / (UREF+ - UREF-)*28</p>
<p>START: 输入,脉冲上升使所有内部寄存器清零，下降沿使A/D转换开始</p>
<p>EOC: 输出，转换结束信号,EOC变为高电平</p>
<p>OE: 输入，输出允许</p>
<h4 id="AD574A工作原理"><a href="#AD574A工作原理" class="headerlink" title="AD574A工作原理"></a>AD574A工作原理</h4><p>12位的A/D转换芯片, 转换时间为35us, 输入模拟电压范围：单极性0~+10V或0~+20V；双极性±5V或±10V</p>
<p>[可直接与8位或16位微处理器接口, 集成时钟&amp;基准电压电路, 输出可读全部12位数据，亦可两个8位方式读取]</p>
<p>DB0～DB11，三态输出数据线，DB0为LSB,  DB11为MSB</p>
<p>CE,芯片使能输入, CE由0变1,启动一次转换</p>
<p>$\overline{CS}$,芯片选择输入,低电平有效</p>
<p>$R/\overline{C}$,  =1 read &amp;&amp; =0 convert</p>
<p>STS, 状态信号输出, 转换开始,STS=1; 转换周期完成, STS=0</p>
<p>A0和$12/\overline{8}$这两个信号控制转换的长度和数据的格式</p>
<p>$REF_{IN}$   基准电压输入,在使用中,可在REF IN和REF OUT之间接一个100欧的可调电阻,进行增益微调;</p>
<p>$REF_{OUT}$  基准电压输出,AD574A内有基准电压电路,以供DAC的基准电压,基准电压可以被调到10.00V±1%;</p>
<p>$BIP_{OFF}$   双极性偏置, 在使用中用于偏置的调整;</p>
<p>DC: 数字公共端,   AC: 模拟公共端;</p>
<p>Vlogic  逻辑电源,接+5V;</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/ADC574_logic.png" alt="ADC574_logic"></p>
<p>eg. $\overline{CS}$=0,$R/\overline{C}$=0,CE由0—&gt;1,启动一次转换；</p>
<p>若此时A0=1,表明进行8bit转换; A0=0,表明进行12bit转换</p>
<p>转换开始后,STS==1,直到转换周期完成STS==0;</p>
<p>[转换期间,忽略新转换启动信号,不允许输出数据缓冲器输出]</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/ADC574_eg1.png" alt="ADC574_eg1"></p>
<p>eg. 读取周期自CE==1和$R/\overline{C}$==1时开始；</p>
<p>$12/\overline{8}$=1,表明是16位接口方式,12位转换结果一次读出；</p>
<p>$12/\overline{8}$=0,表明是8位接口方式,A0=0使能高8位, A0=1使能低4位数据</p>
<h4 id="A-D转换器与系统的典型接口"><a href="#A-D转换器与系统的典型接口" class="headerlink" title="A/D转换器与系统的典型接口"></a>A/D转换器与系统的典型接口</h4><ul>
<li><p>ADC0809通过8255A与系统的接口（P521）</p>
<p>程序设定8255A的PA口和PC口为输入</p>
<p>[ADC0809的数据输出经8255A的PA输入给CPU]</p>
<p>[A/D转换状态信号EOC由PC4输入]</p>
<p>PB口为输出，均为方式0，</p>
<p>[ADDA、ADDB和ADDC以及地址锁存信号ALE由8255A的PB3~PB0输入]</p>
<p>以查询方式来读取A/D转换结果。</p>
<p>设8255A端口地址为0FFFCH~0FFFFH</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/ADC0809_8255A.png" alt="ADC0809_8255A"></p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/ADC0809_8255A2.png" alt="ADC0809_8255A2"></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	MOV AL, 98H     ;8255A控制字	</span><br><span class="line">	MOV DX, 0FFFFH	;控制字端口地址</span><br><span class="line">	OUT DX, AL</span><br><span class="line">	MOV AL, 0BH		;选IN3输入端和地址锁存信号</span><br><span class="line">	MOV DX, 0FFFDH</span><br><span class="line">	OUT DX, AL</span><br><span class="line">	MOV AL, 1BH		;start PB4&#x3D;1</span><br><span class="line">	OUT DX, AL		;启动A&#x2F;D转换</span><br><span class="line">	MOV AL, 0BH</span><br><span class="line">	OUT DX, AL</span><br><span class="line">	MOV DX, 0FFFEH</span><br><span class="line">TEST: IN AL, DX			;读C端口状态</span><br><span class="line">	AND AL, 10H		;测试EOC状态（PC4）</span><br><span class="line">	JZ TEST</span><br><span class="line">	MOV DX, 0FFFCH</span><br><span class="line">	IN AL, DX			;读转换结果</span><br><span class="line">	HLT</span><br></pre></td></tr></table></figure>
<ul>
<li><p>AD574与8086CPU [8283：带锁存器的缓冲器 8286：数据收发器]</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/AD574_8086.png" alt="AD574_8086"></p>
</li>
</ul>
<ul>
<li><p>AD574与8088CPU</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/AD574_8088.png" alt="AD574_8088"></p>
</li>
</ul>
<h3 id="D-A转换器及其应用"><a href="#D-A转换器及其应用" class="headerlink" title="D/A转换器及其应用"></a>D/A转换器及其应用</h3><h4 id="DAC指标"><a href="#DAC指标" class="headerlink" title="DAC指标"></a>DAC指标</h4><p>分辨率：满量程$V_{FS}$ ，N位的DAC，分辨率＝$V_{FS}$/(2^N-1)</p>
<p>转换精度：</p>
<ul>
<li>相对转换精度：用数字量最低有效位LSB的一半来表示，±0.5LSB＝±0.5*(1/2^N)＝ ±1/2^(N+1)；</li>
<li>绝对转换精度：相对转换精度对应的电压值表示，即±$V_{FS}$/2^(N+1)；</li>
</ul>
<p>转换速率和建立时间</p>
<p>线性误差：在整个量程上，转换输出偏离理想转换特性的最大值</p>
<h4 id="DAC0832"><a href="#DAC0832" class="headerlink" title="DAC0832"></a>DAC0832</h4><p>8位数模转换芯片，片中有R-2R梯形电阻</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/DAC0832.png" alt="DAC0832"></p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/DAC0832_2.png" alt="DAC0832_2"></p>
<p>DI0～DI7：8位数据输入线；</p>
<p>$\overline{CS}$：片选端，低电平有效，仅用于控制$\overline{WR1}$；</p>
<p>ILE：数据允许锁存信号，高电平有效；</p>
<p>$\overline{WR1}$：写信号1端，低电平有效。用于将输入数据锁存到输入寄存器中。必须与ILE、$\overline{CS}$同时有效；</p>
<p>$\overline{WR2}$：写信号2端，低电平有效。</p>
<p>$\overline{XFER}$：传送控制信号，低电平有效。用于控制$\overline{WR2}$ </p>
<p>[$\overline{WR2}$和$\overline{XFER}$同时有效时，输入寄存器中的数据才能通过DAC寄存器进行D/A转换]</p>
<p>$V_{REF}$：参考电压，+10V～-10V，电压愈稳定模拟输出精度越高;</p>
<p>$I_{OUT1}$、$I_{OUT2}$：模拟电流输出端，与运放输入端相接;</p>
<p>$R_{fb}$: 反馈电阻接出端</p>
<p>两级输入锁存器：输入寄存器、DAC寄存器</p>
<p>三种工作方式：</p>
<ul>
<li><p>双缓冲工作方式[转换输出模拟信号, 同时输入新的数据==&gt;提高速度,多个输出通道同步]</p>
<p>eg. CS由A9~A1经译码产生，DAC的地址范围是228-22FH，实际只使用228H和229H两个地址:</p>
<p>在CPU执行OUT指令时</p>
<p>若A0=0，DAC0832内部LE1有效，数据总线上的值（AL）—&gt;数据输入寄存器;</p>
<p> 若A0=1，DAC0832内部LE2有效，数据输入寄存器的值 —&gt;DAC寄存器</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/DAC0832_2buf.png" alt="DAC0832_2buf"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A0832   EQU 228H</span><br><span class="line">MOV    DX, A0832+0       ;A0&#x3D;0</span><br><span class="line">OUT     DX, AL                ;AL的值为待转换的数字</span><br><span class="line">MOV    DX, A0832+1      ;A0&#x3D;1</span><br><span class="line">OUT     DX, AL                ;AL的值无关</span><br></pre></td></tr></table></figure>
</li>
<li><p>单缓冲工作方式</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/DAC0832_1buf.png" alt="DAC0832_1buf"></p>
<p>eg. 设D/A转换端口号为PORTDA，设需转换的数据放在1000H单元，则D/A转换程序为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV BX, 1000H</span><br><span class="line">MOV AL, [BX]</span><br><span class="line">MOV DX, PORTDA</span><br><span class="line">OUT  DX, AL</span><br></pre></td></tr></table></figure>
<p>eg. 工作在单缓冲方式下。</p>
<p>设D/A转换端口地址为200H，设需转换的数据量为10H，则D/A转换程序为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV AL, 10H</span><br><span class="line">MOV DX, 0200H</span><br><span class="line">OUT  DX, AL</span><br><span class="line">HLT</span><br></pre></td></tr></table></figure>
<p>eg. 利用D/A转换器可以输出不同的电压波形，输出三角波的程序段如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TRG0:    MOV DX, 0200H</span><br><span class="line">		MOV AL, 0H</span><br><span class="line">T1: 	OUT  DX, AL</span><br><span class="line">		INC AL</span><br><span class="line">		JNZ T1</span><br><span class="line">T2: 	OUT  DX, AL</span><br><span class="line">		DEC AL</span><br><span class="line">		JNZ T2</span><br><span class="line">		JMP T1</span><br></pre></td></tr></table></figure>
</li>
<li><p>直通工作方式</p>
</li>
</ul>
<h4 id="12位D-A转换器DAC1210"><a href="#12位D-A转换器DAC1210" class="headerlink" title="12位D/A转换器DAC1210"></a>12位D/A转换器DAC1210</h4><p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/DAC1210_2.png" alt="DAC1210_2"></p>
<p>12位D/A转换器DAC1210与CPU的接口</p>
<p><img src="/2020/05/15/computer_organization/12_ch12ADDA%E8%BD%AC%E6%8D%A2/DAC1210.png" alt="DAC1210"></p>
<p>eg. DAC占用220H～222H三个端口地址。</p>
<p>A0地址线不参与I/O地址译码，反相—&gt;$B1/\overline{B2}$。</p>
<p>设BX寄存器的低12位为待转换的数字量，完成一次转换输出的程序段如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV	DX, 220H             </span><br><span class="line">MOV	CL, 4</span><br><span class="line">SHL	BX, CL</span><br><span class="line">MOV	AL, BH		;送高8位数据 </span><br><span class="line">	OUT	DX, AL</span><br><span class="line">	INC	DX           ;送低4位数据</span><br><span class="line">	MOV  AL, BL</span><br><span class="line">	OUT	DX, AL</span><br><span class="line">	INC	DX		          </span><br><span class="line">OUT	DX, AL 		;启动D&#x2F;A转换</span><br><span class="line">HLT</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch1基本组成</title>
    <url>/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/</url>
    <content><![CDATA[<h3 id="层次"><a href="#层次" class="headerlink" title="层次"></a>层次</h3><a id="more"></a>
<ul>
<li><p>微处理器 (CPU)：（8086, 80286）</p>
<p>控制器， 运算器（ALU）， 寄存器组， 系统总线</p>
<p>控制器分为：</p>
<ul>
<li>指令寄存器IR (Instruction Register)</li>
<li>指令译码器ID (Instruction Decoder)</li>
<li>定时与控制电路</li>
</ul>
<p>寄存器组分为：</p>
<ul>
<li>累加器                      AX</li>
<li>数据缓冲寄存器      DX</li>
<li>计数寄存器              CX</li>
<li>地址缓冲寄存器      BX</li>
<li>程序计数器              IP</li>
<li>状态标志寄存器      PSW</li>
<li>通用寄存器组          AX ~ DX</li>
<li>暂存器</li>
</ul>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/2.png" alt="2"></p>
</li>
</ul>
<p>  <img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/segment_address.png" alt="segment_address"></p>
<p>  系统总线(BUS)外部分为：</p>
<ul>
<li><p>控制总线</p>
<p>一般为单向</p>
</li>
<li><p>地址总线</p>
<p>地址为n位宽，那么将有2^n个地址（即0~(2^n)-1），对应存储单元2^n Bytes</p>
</li>
<li><p>数据总线</p>
<p>双向传送</p>
</li>
</ul>
<ul>
<li><p>微型计算机 (增加Cache，主存储器：内存)</p>
<p>Cache RAM，RAM，ROM， I/O接口（即输入输出接口电路）</p>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/3.png" alt="3"></p>
<p>输入输出接口电路用芯片如：</p>
<ul>
<li>缓冲器：74LS244、74LS245</li>
<li>锁存器：74LS373</li>
<li>可编程中断控制器8259A</li>
<li>可编程计数器/定时器8253</li>
<li>可编程并行/串行接口芯片8255A/8250A</li>
<li>DMA控制器8237A模/数和数/模转换器</li>
</ul>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/4.png" alt="4"></p>
</li>
<li><p>微型计算机系统 (MCS) (增加外存，外设)</p>
<p>I/O设备，软件系统</p>
</li>
</ul>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/1.png" alt="1"></p>
<h3 id="硬件结构"><a href="#硬件结构" class="headerlink" title="硬件结构"></a>硬件结构</h3><ul>
<li><p>冯·诺依曼结构</p>
<ul>
<li><p>地址码（2进制）-&gt; data &amp;&amp; program（2进制） 存放地址   [data &amp;&amp; program不分开存]</p>
</li>
<li><p>程序计数器（PC）-&gt; 指令序列（即程序）-&gt; 控制器工作</p>
<p>具体过程：</p>
<ul>
<li>码段寄存器CS及指令指针寄存器IP -&gt; 控制器             （取指）</li>
<li>控制器取 -&gt; 指令代码 in 内存                           </li>
<li>CPU中对代码 分析                                                         （译码）</li>
<li>控制器send该指令功能对应控制信号 - &gt; 各个部件</li>
<li>各个部件执行                                                                   （执行）</li>
</ul>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/7.png" alt="7"></p>
</li>
</ul>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/5.png" alt="5"></p>
</li>
<li><p>哈佛结构</p>
<ul>
<li>存储器：程序存储器，数据存储器</li>
<li>总线分为：程序总线，数据总线</li>
</ul>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/6.png" alt="6"></p>
</li>
</ul>
<p>​     </p>
<ul>
<li><p>现代计算机</p>
<ul>
<li><p>主存储器：冯·诺依曼结构</p>
<p>指令和数据合用</p>
</li>
<li><p>高速缓冲存储器（Cache）：哈佛结构</p>
<p>指令Cache，数据Cache</p>
</li>
</ul>
</li>
</ul>
<h3 id="分段编址"><a href="#分段编址" class="headerlink" title="分段编址"></a>分段编址</h3><ul>
<li><p>分为代码段、数据段、堆栈段和附加段，一段最大 2^ 16 = 64KB</p>
<p>段地址分别由CS/DS/SS/ES四个寄存器给出</p>
<p><img src="/2020/05/15/computer_organization/1_ch1%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90/memory_address.png" alt="memory_address"></p>
<ul>
<li>串操作：源串DS:SI ，目的串ES:DI</li>
</ul>
</li>
</ul>
<ul>
<li><p>分段编址好处</p>
<ul>
<li>大部分指令只涉及16位地址：在2 ^16 = 64kB的段内寻址 =&gt; 减小了指令长度、提高了执行速度</li>
<li>便于程序的浮动加载：程序本身是可浮动的，与物理地址（段地址无关），只与偏移地址有关</li>
</ul>
</li>
<li><p>8086的固定用途存储区 [物理地址 20 bits]</p>
<p>00000H－003FFH，1KB    中断向量表；</p>
<p>B0000H－B0F9FH， 4KB    单色显示器显示缓冲区；</p>
<p>B8000H－BBF3FH，16KB    彩色显示器显示缓冲区；</p>
<p>FFFF0H－FFFFFH，16B    复位程序入口；</p>
</li>
<li><p>8086的I/O编址</p>
<p>端口：I/O接口电路中可被访问存储单元   (8086可以访问64KB的I/O端口)</p>
<ul>
<li><p>I/O端口和存储器统一编址</p>
<p>可以用对存储器的指令来 =&gt; 对IO端口的访问</p>
</li>
<li><p>I/O端口单独编址</p>
<ul>
<li><p>使用MOV指令访问存储器，M/$\overline{IO}$ = 1    </p>
</li>
<li><p>使用IN/OUT指令访问端口，M/$\overline{IO}$ = 0</p>
<p>输入－IN，  $\overline{RD}$=0    </p>
<p>输出－OUT，$\overline{WR}$=0</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch2微处理器80286</title>
    <url>/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A880286/</url>
    <content><![CDATA[<h3 id="80286"><a href="#80286" class="headerlink" title="80286"></a>80286</h3><a id="more"></a>
<ul>
<li><p>特征：</p>
<p>16位CPU</p>
<p>两种工作方式：实地址方式、保护方式 (MMU支持虚拟存储)</p>
<p>(保护方式下，直接寻址16MB物理地址空间，虚拟存储空间为1GB)</p>
<p>有24条地址线、16条数据线</p>
<p>内部寄存器：</p>
<p>通用寄存器、IP和段寄存器等与8086相同，增加保护方式下 描述符寄存器GDTR/LDTR/IDTR。</p>
<p>支持多用户和多任务</p>
</li>
<li><p>结构</p>
<p>地址单元AU、指令单元IU、执行单元EU、总线单元BU</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A880286/80286.png" alt="80286"></p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A880286/80286_2.png" alt="80286_2"></p>
</li>
<li><p>工作方式</p>
<ul>
<li><p>实地址模式 (86模式)</p>
<p>把80286作为一个高速的8086来使用</p>
</li>
<li><p>保护方式（虚地址方式）</p>
<p>目的：实现任务和操作系统、任务和任务间的隔离及保护</p>
<p>4级层次的保护结构：操作系统，0级(最高)；系统服务程序，1级；应用服务程序，2级；应用程序，3级</p>
</li>
</ul>
</li>
</ul>
<pre><code>程序在磁盘存储器(虚拟存储器)（当执行程序时）加载  =&gt; 物理存储器 [映射: 虚拟地址 -&gt; 实地址]

![80286_reflect](./2_ch2_80286_figure/80286_reflect.png)

* MMU：支持对虚拟存储器的访问

采用32位虚地址指示器寻址：

一个数据结构，包含了16位段选择字(进入存储器中一个称为描述符表的参数)和16位偏移地址
</code></pre><h3 id="80386"><a href="#80386" class="headerlink" title="80386"></a>80386</h3><ul>
<li><p>特征：</p>
<p>32位CPU</p>
<p>三种工作方式：实地址方式、保护方式、虚拟8086方式  (分段部件SU、分页部件PU支持虚拟存储)</p>
<p>(保护方式下，直接寻址4GB物理地址空间，虚拟存储空间为64TB)</p>
<p>32条地址线、32条数据线</p>
<p>80386内部包含 7类 32个寄存器：</p>
<p>通用寄存器(8个，32位) ；</p>
<p>指令指针寄存器和标志寄存器(2个) ；</p>
<p>段寄存器和段描述符寄存器(6个) ；</p>
<p>系统地址寄存器(4个) ；</p>
<p>控制寄存器(4个) ；</p>
<p>调试寄存器(6个) ；</p>
<p>测试寄存器(2个) ；</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A880286/80386_register.png" alt="80386_register"></p>
</li>
<li><p>结构</p>
<p>CPU</p>
<pre><code>    －指令预取部件(IPU)
</code></pre><p>​        －指令译码部件(IDU)</p>
<p>​        －执行部件(EU)存储器管理部件</p>
<p>(MMU)</p>
<p>​        －分段部件(SU)</p>
<p>​        －分页部件(PU)</p>
<p>总线接口部件(BIU)</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A880286/80386.png" alt="80386"></p>
</li>
<li><p>实地址方式   &amp;&amp;  虚拟8086方式  区别</p>
<ol>
<li>实地址方式不支持多任务，实地址是对整个CPU的，虚拟8086方式是对CPU多任务状态下某任务的；</li>
</ol>
</li>
</ul>
<ol>
<li>实地址方式下整个系统的寻址空间为1MB，虚拟8086方式下每个任务的寻址空间1MB；</li>
<li>实地址方式下内存采用分段方式，虚拟8086方式下内存采用分段方式 + 分页方式</li>
</ol>
<h3 id="80486"><a href="#80486" class="headerlink" title="80486"></a>80486</h3><ul>
<li><p>与80386的不同</p>
<p>增加 内部集成高速缓存Cache和浮点单元FPU</p>
<p>高速缓冲存储器（Cache）</p>
<p>​    指令和数据公用的8KB高速缓存，采用最近最少使用法则进行自动更新，约92%的命中率</p>
<p>浮点单元（FPU）</p>
<p>​    单独的浮点处理单元，直接进行浮点处理</p>
</li>
</ul>
<h3 id="pentium奔腾CPU"><a href="#pentium奔腾CPU" class="headerlink" title="pentium奔腾CPU"></a>pentium奔腾CPU</h3><ul>
<li><p>与80486区别</p>
<p>内部集成16KB高速缓存和浮点协处理器；</p>
<p>有最多36条地址线、64条数据线；</p>
<p>常用运算指令采用硬件实现，不再使用微码解释执行，指令执行进一步加快；</p>
<p>加入了多媒体增强技术，提高在多媒体和通信中的性能；</p>
<p>主频提高，功耗降低；</p>
<p>指令缓存I-Cache与数据缓存D-Cache分开</p>
</li>
</ul>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch2微处理器8086</title>
    <url>/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/</url>
    <content><![CDATA[<h3 id="8086-微处理器CPU-组成"><a href="#8086-微处理器CPU-组成" class="headerlink" title="8086(微处理器CPU)组成"></a>8086(微处理器CPU)组成</h3><a id="more"></a>
<ul>
<li><p>功能分类：</p>
<p>控制器， 运算器（ALU）， 寄存器组， 系统总线</p>
<p>控制器分为：</p>
<ul>
<li>指令寄存器IR (Instruction Register)</li>
<li>指令译码器ID (Instruction Decoder)</li>
<li>定时与控制电路</li>
</ul>
</li>
<li><p>编程结构分类：（程序员和使用者的角度）</p>
<ul>
<li><p>总线接口部件（bus interface unit, BIU）</p>
<p>传送data —&gt; 存储器(Cache, RAM, ROM)、I/O端口（即输入输出接口电路）</p>
<ul>
<li><p>16位段地址寄存器</p>
<p>CS (Code Segment)  — 代码段寄存器</p>
<p>DS (Data Segment)  — 数据段寄存器</p>
<p>SS (Stack Segment)  — 堆栈段寄存器</p>
<p>ES (Extra Segment) — 扩展段寄存器</p>
</li>
<li><p>16位指令指针寄存器 IP (Instruction Pointer)</p>
<p>指向下一条指令的地址 in 当前代码段(CS)。取出一个字节指令后，IP += 1</p>
<p>转移指令、调用指令、中断和复位   ==&gt;  改变IP值</p>
</li>
<li><p>20位物理地址的加法器<script type="math/tex">\Sigma</script></p>
<p>段地址*16+段内偏移量－－20位实际物理地址</p>
<p>(CS, DS, SS, ES)*16 + (IP, SP, BP, DI, SI)</p>
</li>
<li><p>6个字节Bytes的指令队列（ISQ）</p>
<p>when 执行指令:</p>
<p>指令: 内存取 -&gt; 指令队列缓冲器</p>
</li>
<li><p>输入输出控制电路</p>
</li>
</ul>
</li>
<li><p>执行部件（execution unit, EU）</p>
<p>执行 指令</p>
<ul>
<li><p>16位算术逻辑单元ALU</p>
</li>
<li><p>16位数据寄存器</p>
<p>AX、BX、CX、DX，又可以分为8个8位寄存器使用：    </p>
<p>AH、AL、BH、BL、CH、CL、DH、DL</p>
<p>AX和AL可用作累加操作</p>
<p>BX可作基址指针寄存器，与DS配对</p>
</li>
<li><p>16位地址指针寄存器</p>
<p>SP (Stack Pointer)— 堆栈指针寄存器   </p>
<p>堆栈段中的栈顶位置，与SS配对</p>
<p>BP (Base Pointer) — 基址指针寄存器</p>
<p>数据区的基址位置，与SS配对</p>
<p>SI  (Source Index) — 源变址寄存器</p>
<p>某一存储单元的偏移地址，与DS配对</p>
<p>串操作：源string       DS:SI</p>
<p>DI  (Destination Index)— 目的变址寄存器</p>
<p>某一存储单元的偏移地址，与DS配对</p>
<p>串操作：目标string       ES:DI</p>
</li>
<li><p>16位状态标志寄存器 FLAG</p>
<ul>
<li><p>6个状态标志：</p>
<p>CF (Carry Flag)— 进（借）位标志，若运算结果最高位产生进位或借位则CF置“1”，否则置“0”；</p>
<p>AF (Auxiliary Flag)— 辅助进位标志，若低字节的第4位向上产生一个进位或借位，则AF置“1”，否则置“0”；</p>
<p>ZF(Zero Flag) — 零标志位, 若运算结果为零, 则ZF置1,否则置0；</p>
<p>SF(Sign Flag) — 符号标志位，若算数运算的结果为负，SF置1, 否则置0；</p>
<p>OF(Overflow Flag) — 溢出标志位，有符号数算术运算结果产生溢出, OF置“1”，否则置“0”；</p>
<p>PF(Pariy Flag) —奇偶标志位，逻辑运算中低8位所含1的个数为偶数则PF置“1” ，否则置“0”；</p>
</li>
<li><p>3个控制标志IF、DF、TF，余下7位保留：</p>
<p>DF(Direction Flag) —方向标志位</p>
<p>​    DF=1  串操作指令以递减顺序处理数据串；</p>
<p>​    DF=0  串操作指令以递增顺序处理数据串；</p>
<p>IF(Interrupt Flag) — 中断允许标志</p>
<p>​    IF=1 CPU允许接收外部可屏蔽中断请求，即开中断；</p>
<p>​    IF=0 关中断；<br>TF(Trace Flag) — 跟踪标志位</p>
<p>​    TF=1  处理器处于单步工作方式时，每执行完一条指令产生一个软件中断；</p>
<p>​    TF=0  正常工作；</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>  <img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/1.png" alt="1"></p>
<ul>
<li>编程结构(BIU &amp;&amp; EU)工作过程:</li>
</ul>
<ul>
<li><p>when 两个字节Bytes为 empty   in   指令队列   —-&gt;    </p>
<p>CS:IP   —-&gt;    取指令（2 Bytes）  in  存储器   —-&gt;</p>
<p>存放  指令队列</p>
</li>
<li><p>指令队列   —-&gt;    EU</p>
</li>
<li><p>译码分析    in    EU控制电路</p>
</li>
<li><p>EU控制电路  send   控制信号  ——&gt;  各个部件</p>
</li>
<li><p>各个部件执行</p>
<ul>
<li><p>（special执行时）访问存储器 data -&gt; 运算后结果存入存储器 :</p>
<p>EU  get  操作数16位地址偏移量  —-&gt; 20位物理地址  in  BIU的地址加法器  —-&gt;</p>
<p>data  in  存储器  —-&gt;   内部EU数据总线    —-&gt;   ALU 计算结果  —-&gt;</p>
<p>20位实际目标地址(同上地址加法器产生)  in  存储器</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>8086引脚信号</p>
<ul>
<li><p>预备知识：</p>
<p>信号特点：引脚功能复用，不工作时8086 device处于高阻状态，总线时分复用</p>
<p>模式：最小模式（系统中只有一个8086微处理器），最大模式（系统中包含两个或多个微处理器）</p>
<p>输入RESET == 1，处于复位状态时：</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/reset.png" alt="reset"></p>
</li>
<li><p>引脚功能：</p>
<p><strong>在min最小模式下</strong></p>
<p>AD15 ~ AD0                                                                     (地址/数据复用：双向工作)</p>
<ul>
<li>AD0: 可作为低8位数据的选通信号(when AD0 == 0)</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>A19/S6，A18/S5，A17/S4，A16/S3                            (地址/状态复用：输出)

$\overline{BHE}$/S7                                                                         (高8位数据总线允许/状态复用：输出)

MN/$\overline{MX}$                                                                         (min/max  模式选择：输入)

$\overline{RD}$                                                                                  (读信号：输出)

HOLD               &lt;=&gt;       $\overline{RQ}/\overline{GT0}$                                (hold request 总线保持请求信号：输出)

HLDA               &lt;=&gt;       $\overline{RQ}/\overline{GT1}$                                (hold acknowledge 总线保持应答信号：输出)

$\overline{WR}$                  &lt;=&gt;       $\overline{LOCK}$                                    (写信号：输出)

M/$\overline{IO}$               &lt;=&gt;       $\overline{S2}$                                             (存储器/输入输出端口控制信号：输出)

DT/$\overline{R}$                &lt;=&gt;       $\overline{S1}$                                             (data transmit/receive 数据收发信号：输出)

$\overline{DEN}$               &lt;=&gt;       $\overline{S0}$                                            (data enable 数据允许信号：输出)

ALE                    &lt;=&gt;       QS0                                         (address latch enable  地址锁存允许信号：输出)

$\overline{INTA}$              &lt;=&gt;       QS1                                         (interrupt acknowledge  中断响应信号：输出)

NMI                                                                                (non-maskable interrupt 非屏蔽中断输入：输入)

INTR                                                                               (interrupt request 可屏蔽中断输入：输入)

$\overline{TEST}$                                                                           (测试信号输入：输入)

READY                                                                            (准备好信号输入：输入)

RESET                                                                             (复位：输入)

CLK                                                                                 (时钟信号输入：输入)

![2](./2_ch2_8086_figure/2.png) 

**在max最大模式下**  :（协处理器：8087专用于数值运算，8089专用于输入输出控制）

$\overline{RQ}/\overline{GT0}$                                                                   (总线请求信号输入：输出)

$\overline{RQ}/\overline{GT1}$                                                                   (总线授权信号:  输出)

$\overline{LOCK}$                                                                       (总线封锁信号：输出)

$\overline{S2}\ \overline{S1}\ \overline{S0}$                                                                   (总线周期状态信号：输出)

QS0，QS1                                                                  (指令队列状态 IQS 信号：输出)
</code></pre><ul>
<li><p>8086 与其他芯片连接（8284A，8282，8286，8259A，8288）</p>
<ul>
<li><p>8284A 时钟发生器</p>
<p>输入：READY信号</p>
<p>​           RESET信号</p>
<p>输出：(发 =&gt; 8086的 CLK)</p>
<p>​           (发 =&gt; 8086的 READY)</p>
<p>​           (发 =&gt; 8086的 RESET)</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>8282 地址锁存器</p>
<p>输入：STB (min模式：8086发出的ALE)</p>
<p>​                   (max模式：8282发出的ALE)</p>
<p>​           $\overline{OE} == 0$</p>
<p>​           (8086发出的$\overline{BHE}$)</p>
<p>​           (8086发出的 A19 ~ A16，AD15 ~ AD0)</p>
<p>输出：$\overline{BHE}$</p>
<p>​           (发 =&gt; 地址总线)</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/8282.png" alt="8282"></p>
</li>
<li><p>8286 数据收发器</p>
<p>输入：$\overline{OE}$(min模式：8086发出的$\overline{DEN}$ )，</p>
<p>​                  (max模式：8288控制信号 DEN 和8259A发出的控制信号 与非)</p>
<p>​            T    (min模式：8086发出的 DT/$\overline{R}$)</p>
<p>​                  (max模式：8288发出的 DT/$\overline{R}$)  </p>
<p>​            A7 ~ A0 (8086发出的AD7 ~ AD0)       </p>
<p>输出：B7 ~ B0 (发 =&gt; 数据总线)           </p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/8286.png" alt="8286"></p>
</li>
<li><p>8259A 中断控制器 (max 模式下)</p>
<p>输入： (max模式：8288发出的$\overline{INTA}$)</p>
<p>​            (max模式：8288发出的$\overline{IORC}$)</p>
<p>​            (max模式：8288发出的$\overline{IOWC}$)</p>
<p>输出：(max模式：8259A发出控制信号)   [和 8288控制信号 DEN 与非 =&gt; 8286 的 $\overline{OE}$]</p>
<p>​            (max 模式：发 =&gt; 8086的 INTR)</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/interrupt.png" alt="interrupt"></p>
</li>
<li><p>8288 总线控制器 (max 模式下)</p>
<ul>
<li><p>功能：</p>
<ol>
<li><p>主处理器和协处理器协调工作</p>
</li>
<li><p>总线的共享控制</p>
</li>
<li><p>对CPU发出控制信号变换和组合：</p>
<p>对存储器和 I/O 端口的读写信号</p>
<p>对地址锁存器 (8282) 控制信号</p>
<p>对数据收发器 (8286) 控制信号</p>
<p>对中断控制器 (8259A) 控制信号</p>
</li>
</ol>
</li>
</ul>
<p>输入：CLK (max模式：8284A 时钟发生器的输出)</p>
<p>​           $\overline{S0}\ \overline{S1}\ \overline{S2}$ (max模式：8288发出的$\overline{S0}\ \overline{S1}\ \overline{S2}$)</p>
<p>​           $\overline{AEN}$，IOB  == 0</p>
<p>​           CEN  ==  5V</p>
<p>输出：ALE (max模式：发 =&gt; 8282 的STB)</p>
<p>​           DEN (max模式：和 8259A发出控制信号 与非，发 =&gt; 8286 的 $\overline{OE}$)</p>
<p>​           DT/$\overline{R}$ (max模式：发 =&gt; 8286 的 T)</p>
<p>​           $\overline{MRDC}$  (max模式：发 =&gt; 控制总线)                        (对存储器的读命令 memory read command)</p>
<p>​           $\overline{MWTC}$ (max 模式：发 =&gt; 控制总线)                       (对存储器的写命令 memory write command)</p>
<p>​           $\overline{IORC}$ (max模式：发 =&gt; 控制总线，8259A中断控制器)                      (对I/O的读命令)</p>
<p>​           $\overline{IOWC}$ (max模式：发 =&gt; 控制总线，8259A中断控制器)                     (对I/O的写命令)</p>
<p>​           $\overline{INTA}$ (max模式：发 =&gt; 8259A中断控制器)                                         (中断响应信号)</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/8288.png" alt="8288"></p>
</li>
<li><p>总连接图</p>
<p><strong>min 最小模式</strong></p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/min.png" alt="min"></p>
<p><strong>max 最大模式</strong></p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/max.png" alt="max"></p>
</li>
</ul>
<ul>
<li><p>8086总线操作</p>
<ul>
<li><p>周期</p>
<ul>
<li><p>时钟周期：计算机主频决定的基本时间计量单位</p>
</li>
<li><p>指令周期：从取指令到执行指令完毕所需的时间</p>
</li>
<li><p>总线周期：外部存储器 or I/O端口  存or取 数据 的时间</p>
<p>总线的4个状态：T1、T2、T3、T4；有时插入等待状态Tw，空闲状态Ti</p>
<p>T1：8086（AD15 ~ AD0，A19/S6 ~ A16/S3）发送 存储单元地址</p>
<p>T2：AD15 ～ AD0低16位成高阻状，A19/S6 ~ A16/S3 发送 总线周期状态</p>
<p>T3：AD15 ~ AD0 发送  data</p>
<p>Tw：插入n个附加的时钟周期Tw，直到外设或存储器完成数据传输 =&gt; READY == 1，进入T4</p>
<p>T4：总线周期结束</p>
<p>Ti：总线处于空闲</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>min &amp;&amp; max 模式的 read &amp;&amp; write</p>
<ul>
<li><p>min read</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/min_read.png" alt="min_read"></p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/min_read2.png" alt="min_read2"></p>
<p>T1：M/$\overline{IO}$ == 1 =&gt; memory输入输出，DT/$\overline{R}$ == 0 =&gt; data receive，  ALE ==1 =&gt; address latch enable 地址锁存器enable ,   $\overline{BHE}/S7$ == 0 =&gt; A19/S6 ~ A16/S3不能状态复用，而是传address</p>
<p>T2： $\overline{BHE}/S7$ == 1 =&gt; A19/S6 ~ A16/S3状态复用，ALE ==0 =&gt; 无效化 地址锁存器，$\overline{RD}$ == 0 =&gt; 可read 数据，$\overline{DEN}$ == 0 =&gt; data enable 可传数据</p>
<p>T3：READY == 0 =&gt; 开始传数据</p>
<p>Tw：继续传数据，直到 READY == 1(CLK上升沿)时停止 =&gt;进入T4</p>
<p>T4：结束，各信号归位</p>
</li>
<li><p>min write</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/min_write.png" alt="min_write"></p>
</li>
<li><p>max read</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/max_read.png" alt="max_read"></p>
</li>
<li><p>max write</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/max_write.png" alt="max_write"></p>
</li>
</ul>
</li>
<li><p>min &amp;&amp; max 模式的总线 BUS</p>
<ul>
<li><p>min 总线BUS保持</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/min_BUSkeep.png" alt="min_BUSkeep"></p>
</li>
<li><p>max 总线BUS请求，应答</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/max_BUSrequest.png" alt="max_BUSrequest"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>8086中断</p>
<ul>
<li><p>中断类型：</p>
<ul>
<li><p>硬件中断：由外部请求引起的中断</p>
<ul>
<li><p>可屏蔽中断INTR</p>
<p>INTR高电平有效 (受IF控制)，</p>
<p>CPU (每条指令的最后一个T状态) 检测INTR =&gt;</p>
<p>CPU响应中断 =&gt; INTA有效 =&gt; 读取中断类型码  from  外设</p>
</li>
<li><p>非屏蔽中断NMI  (INT   2)</p>
<p>NMI (上升沿有效) (不受CPU控制)，</p>
<p>中断类型码为2（INT 2)</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>* 软件中断：由指令执行引起的中断

  * DIV和IDIV指令（INT   0）

    除数为0或商超过寄存器所能表达

  * INT 指令          （INT   n）

    执行INT n指令引起的中断

  * INTO 指令       （INT   4）

    若OF=1，则指令INTO引起类型码为4的软件中断

  * 单步中断         （INT   1）

    若TF=1，则CPU每执行完一条指令后便产生类型码为1的软件中断
</code></pre><ul>
<li><p>中断向量 (4 Bytes)</p>
<p>中断处理子程序的入口地址:</p>
<p>中断服务程序偏移地址IP(前 2 Bytes)  +  中断服务程序段地址CS(后 2 Bytes)</p>
<p>eg:  INT 21H  =&gt;   21H * 4Bytes  =  84H =&gt; 87H ~ 84H 作为 CS:IP</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/interrupt_eg.png" alt="interrupt_eg"></p>
<ul>
<li><p>中断向量表</p>
<p>内存0段：0～3FFH  =  4 bytes * 256  (0 ~ 0FFH 共 256 个中断向量)</p>
<p>0 ～ 4：  专用中断类型</p>
<p>5 ～ 1FH：保留中断类型 （可修改中断服务程序）[ 其中   8～0FH是8个硬件中断]</p>
<p>20H～0FFH：用户可用中断类型 </p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/interrupt_chart.png" alt="interrupt_chart"></p>
</li>
</ul>
</li>
<li><p>中断响应</p>
<ul>
<li><p>过程</p>
<p>软件中断 or NMI中断信号 or  INTR中断信号( when CPU允许中断响应: IF=1)  </p>
<p>==&gt;进入中断响应周期:     (4 种情况)</p>
<ol>
<li><p>NMI中断信号  =&gt;  类型码是2</p>
</li>
<li><p>INTR中断信号(IF = 1) =&gt; 外设-&gt;低8位AD7 ~ AD0 传送中断类型码 -&gt;CPU   [占用两个总线周期]</p>
<ul>
<li>第一周期用来通知发中断请求的设备，准备好中断类型码；    </li>
<li>第二周期接收外设接口发来的中断类型码；    (外设在第二个INTA负脉冲时，将中断类型码通过数据总线的低8位传给CPU)</li>
<li>M/$\overline{IO}$ == 0，ALE 每个总线周期T1状态输出正脉冲，作为地址锁存信号。</li>
</ul>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/INTR_code.png" alt="INTR_code"></p>
</li>
<li><p>中断指令  =&gt; 指令中类型码</p>
</li>
<li><p>程序出错产生中断  =&gt; 默认的类型码</p>
</li>
</ol>
<p>==&gt;FLAG 压入堆栈，set  TF = 0，IF = 0，先压CS后压IP入堆栈</p>
<p>==&gt;中断类型码 * 4 = 中断服务程序的入口地址 </p>
<p>==&gt;转入执行 中断服务程序</p>
<p>==&gt;执行后，堆栈弹出 pop 恢复断点处 CS:IP 和 FLAG</p>
<p>==&gt;返回执行下一条指令</p>
<p><img src="/2020/05/15/computer_organization/2_ch2%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A88086/interrupt_process.png" alt="interrupt_process"></p>
<ul>
<li>注意：TF=1  处理器处于单步工作方式时，每执行完一条指令产生一个软件中断</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>8086和8088的区别</p>
<ul>
<li><p>8086是16位数据总线，8088是8位数据总线</p>
<p>在处理16位数据字时：8088需要两步操作，而8086只需要一步</p>
</li>
<li><p>8086内部6字节指令缓冲队列，8088内部4字节指令缓冲队列</p>
</li>
<li><p>8086有M/$\overline{IO}$信号，8088对应为IO/$\overline{M}$</p>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch5存储器</title>
    <url>/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/</url>
    <content><![CDATA[<h3 id="存储器分类"><a href="#存储器分类" class="headerlink" title="存储器分类"></a>存储器分类</h3><a id="more"></a>
<ul>
<li>寄存器</li>
<li>Cache(一般use SRAM)</li>
<li><p>内部存储器 (ROM, RAM)</p>
<ul>
<li><p>CPU总线访问</p>
</li>
<li><p>容量$\le 2^{N_{地址总线}}  \times 8bits$</p>
</li>
<li><p>内容：系统软件(ROM)，当前将运行application software(RAM)</p>
</li>
<li><p>内存分类：</p>
<p>基本内存：00000H～9FFFFH，640KB，DOS系统；</p>
<p>高端内存：A0000H～FFFFFH，384KB，系统ROM、缓冲区；</p>
<p>扩充内存：CPU直接寻址范围之外的物理存储器，扩充内存管理软件EMM管理，映射到高端内存中；</p>
<p>扩展内存：1MB以上但不是通过内存扩充卡映射来获得的内存空间；</p>
</li>
</ul>
</li>
<li>外部存储器<ul>
<li>专用设备（如硬盘驱动器、软驱、光驱等）管理</li>
<li>CPU不直接访问</li>
<li>容量不受限制</li>
<li>内容：任意 software, data</li>
</ul>
</li>
</ul>
<h3 id="程序运行"><a href="#程序运行" class="headerlink" title="程序运行"></a>程序运行</h3><ul>
<li>step1 内存ROM: 引导程序 -&gt; start system</li>
<li>step2 外存: 系统、应用程序 -&gt; 内存RAM</li>
<li>step3 内存RAM: run 系统、应用程序</li>
<li>step4 内存RAM: store 中间结果(while running program)</li>
<li>step5 内存RAM: 最后结果 -&gt; 外存(when program exit)</li>
</ul>
<h3 id="存储器指标"><a href="#存储器指标" class="headerlink" title="存储器指标"></a>存储器指标</h3><ul>
<li>memory size</li>
<li>access time(存取时间、速度)</li>
<li>功耗</li>
<li>性价比</li>
<li>工艺复杂</li>
<li>集成度</li>
<li>控制简单：是否need 刷新</li>
</ul>
<h3 id="RAM（Random-Access-Memory）"><a href="#RAM（Random-Access-Memory）" class="headerlink" title="RAM（Random Access Memory）"></a>RAM（Random Access Memory）</h3><ul>
<li><p>种类：</p>
<ul>
<li><p>Static RAM, SRAM</p>
<p>例子：</p>
<p>2114  （1K*4位）</p>
<p>6116  （2K*8位）  $\overline{CS}$</p>
<p>6264  （8K*8位）  $\overline{CE}$</p>
<p>62128 （16K*8位）</p>
<p>62256 （32K*8位） $\overline{CS}$</p>
<p>FIFO: First In First Out</p>
<ul>
<li><p>ASRAM (asynchronous SRAM)</p>
</li>
<li><p>SSRAM (synchronous SRAM)</p>
<p>例子：SBSRAM:  Synchronous Burst SRAM</p>
</li>
</ul>
</li>
<li><p>Dynamic RAM, DRAM</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/DRAM.png" alt="DRAM"></p>
<ul>
<li><p>SDRAM (Synchronous Dynamic RAM)</p>
<p>用时钟同步CPU和DRAM；</p>
<p>有突发模式;</p>
<p>有PC66/100/133/150不同规范速率，工作频率分别是66/100/133/150MHz;</p>
</li>
<li><p>DDR SDRAM (Double data rate SDRAM)</p>
<p>时钟上升沿、下降沿均传输数据，速率加倍；</p>
<p>数据线宽64位（8字节）；</p>
<p>主要标准：DDR200/266/333/400等，分别对应PC1600/2100/2700/3200规范</p>
<p>例：DDR200,工作频率100MHz，传输速率200MHz，传输带宽1600MB/s。</p>
</li>
<li><p>DDR2 SDRAM</p>
<p>在DDR的基础上，有两倍的预读取能力，数据传输速率4倍于工作频率;</p>
<p>主要标准：DDR2 400/533/667/800等;</p>
</li>
<li><p>DDR3 SDRAM </p>
<p>是DDR2的升级，数据传输速率8倍于工作频率；</p>
<p>主要标准：DDR3 800/1066/1333/1600等；</p>
</li>
<li><p>DDR4 SDRAM </p>
<p>是DDR3的升级，数据传输速率8倍于工作频率，频率提高；</p>
<p>最低标准DDR4 1600。random access/read any unit</p>
</li>
</ul>
</li>
</ul>
</li>
<li>不同于顺序存储器，for不同存储单元：visit time 一样</li>
<li>存储数据lost(when 断电)</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>property</th>
<th>SRAM</th>
<th>DRAM</th>
</tr>
</thead>
<tbody>
<tr>
<td>memory size</td>
<td>small</td>
<td>big</td>
</tr>
<tr>
<td>access time</td>
<td>short</td>
<td>long</td>
</tr>
<tr>
<td>功耗</td>
<td>大</td>
<td>小</td>
</tr>
<tr>
<td>性价比</td>
<td>price high</td>
<td>price low</td>
</tr>
<tr>
<td>工艺复杂</td>
<td>complex</td>
<td>simple</td>
</tr>
<tr>
<td>集成度</td>
<td>低</td>
<td>高</td>
</tr>
<tr>
<td>控制简单：是否需刷新</td>
<td>简单：不需要</td>
<td>复杂：需要 (刷新时限 2ms)</td>
</tr>
</tbody>
</table>
</div>
<h3 id="SRAM-62256-amp-amp-DRAM-MT48LC4M32"><a href="#SRAM-62256-amp-amp-DRAM-MT48LC4M32" class="headerlink" title="SRAM-62256 &amp;&amp; DRAM   MT48LC4M32"></a>SRAM-62256 &amp;&amp; DRAM   MT48LC4M32</h3><h4 id="62256"><a href="#62256" class="headerlink" title="62256"></a>62256</h4><p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/62256.png" alt="62256"></p>
<p>A0 ~ A14  15根地址线，可访问215=32768（32K）存储单元；</p>
<p>I/O1 ~ I/O8，8根数据线;</p>
<p>3个控制引脚  控制  存储器的读写：</p>
<p>  $\overline{CS}$：片选信号chip select，低有效，允许存储器读写 (6116 为$\overline{CS}$ ，6264中为 $\overline{CE}$ chip enable)</p>
<p>  $\overline{WE}$：写控制信号，低有效，低电平为写</p>
<p>  $\overline{OE}$：输出使能，低有效，在读存储器周期中，$\overline{OE}$为低电平允许输出数据</p>
<p>两根电源线：Vcc，Vss</p>
<ul>
<li><p>为了刷新，控制器有3 功能</p>
<p>时序功能 </p>
<p>地址处理功能 </p>
<p>仲裁功能</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/DRAM_renew.png" alt="DRAM_renew"></p>
</li>
</ul>
<h4 id="MT48LC4M32"><a href="#MT48LC4M32" class="headerlink" title="MT48LC4M32"></a>MT48LC4M32</h4><p>初始化：Initialization</p>
<p>在正常操作之前进行</p>
<p>通过LOAD MODE REGISTER command对模式寄存器（Mode Register）编程</p>
<h3 id="ROM"><a href="#ROM" class="headerlink" title="ROM"></a>ROM</h3><ul>
<li><p>种类</p>
<ul>
<li><p>掩膜ROM:  Mask Programmed ROM</p>
</li>
<li><p>PROM 可编程ROM:  Programmable ROM</p>
</li>
<li><p>EPROM 可擦除的PROM:  Erasable PROM</p>
<p>例子：2716，2732，2764，27128，27256，27512    $\overline{CE}$</p>
<p>它们的存储容量分别为2K、4K、6K、16K、32K、64K Byte；</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/27128.png" alt="27128"></p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/27128_chart.png" alt="27128_chart"></p>
<ul>
<li>$\overline{E}$ 即 $\overline{CE}$ ，$\overline{G}$ 即 $\overline{OE}$</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>E2PROM/EEPROM 电擦除的PROM: Electrically Erasable PROM</p>
<p>例子：2816的基本特点</p>
<p>容量为2K×8bit的电擦除PROM，它的管脚排列与EPROM2716一致。</p>
<p>2816的存储时间为250ns, 按字节为单位进行擦除和编程，擦除和编程只用$\overline{CE}$、$\overline{OE}$两个信号来控制</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/2816_chart.png" alt="2816_chart"></p>
</li>
<li><p>NOR flash/NAND flash 闪烁存储器FLASH</p>
</li>
<li><p>串行EEPROM</p>
</li>
</ul>
<h3 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h3><p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/Cache.png" alt="Cache"></p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/Cache2.png" alt="Cache2"></p>
<h3 id="微机系统的内存组织"><a href="#微机系统的内存组织" class="headerlink" title="微机系统的内存组织"></a>微机系统的内存组织</h3><h4 id="16位微机系统-8086"><a href="#16位微机系统-8086" class="headerlink" title="16位微机系统  (8086)"></a>16位微机系统  (8086)</h4><ul>
<li><p>20根地址线—&gt; 2^20=1MB存储空间 00000H～FFFFFH；</p>
<p>两个512KB的存储器组成：(两个存储器和地址线A19～A1连接)</p>
<p>奇地址存储器（高字节存储器），与数据总线D15 ~ D8高8位相连；</p>
<p>偶地址存储器（低字节存储器），与数据总线D7 ~ D0低8位相连；</p>
</li>
<li><p>字节访问 &amp;&amp; 按字访问两种方式</p>
<p>按字节访问时：可只访问奇地址存储体，也可只访问偶地址存储体</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/visit_byte.png" alt="visit_byte"></p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/visit_byte_chart.png" alt="visit_byte_chart"></p>
<p>按字访问时：</p>
<p>对准状态</p>
<p>1 个字的低 8 位在偶地址体中，高 8位在奇地址体中。</p>
<p>(A0 和$\overline{BHE}$ ==0) 用 1个总线周期即可通过D15～ D0 完成 16位的字传输</p>
<p>非对准状态</p>
<p>1个字的低 8位在奇地址体中，高 8位在偶地址体中。</p>
<p>CPU 会自动用两个总线周期完成 16位的字传输，</p>
<p>第一个总线周期访问奇地址体，在 D15～ D8 传输低 8位数据，</p>
<p>第二个总线周期访问偶地址体，在 D7～ D0传输高 8位数据。</p>
</li>
</ul>
<h4 id="32位微机系统"><a href="#32位微机系统" class="headerlink" title="32位微机系统"></a>32位微机系统</h4><ul>
<li><p>32位地址总线—&gt; 2^32 =  4GB 的物理地址空间，地址范围为 0 ～ FFFFFFFFH</p>
<p>4个存储体，每个为 1GB ： (4个存储体均与地址线 A31～ A2 相连 )</p>
<p>均与32位数据总线D31 ~ D0相连</p>
<p>字节允许信号$\overline{BE3}$～$\overline{BE0}$则作为体选信号分别连接 1个存储体</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/32byte_BE.png" alt="32byte_BE"></p>
</li>
<li><p>32 位存储器要满足对 8位、16 位、32 位各种不同规格的数据的访问 ($\overline{BE3}$～$\overline{BE0}$ 决定)</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/32byte_visit_BE.png" alt="32byte_visit_BE"></p>
<p>在 D23～ D16或 D31～ D24上进行 8位传输时，分别在 D7～ D0 或 D15～8 上传输同样数据；</p>
<p>在 D31～ D16上进行 16位传输时，在 D15~0 上也传输同样数据。</p>
<ul>
<li>地址 A31～ A2 选择双字的起始地址，(A1A0==00)地址A31~A0是 4的倍数即 0、4、8、……FFFFFFFCH</li>
</ul>
<p>对准状态、非对准状态：</p>
<p>如果用奇地址进行字访问或双字访问，或者用不是 4的倍数的地址进行双字访问，</p>
<p>==&gt; 出现非对准状态，这时需要用 2个总线周期完成字传输或双字传输</p>
</li>
</ul>
<h3 id="存储器应用设计"><a href="#存储器应用设计" class="headerlink" title="存储器应用设计"></a>存储器应用设计</h3><ul>
<li><p>预备知识：</p>
<p>74LS138 : </p>
<p>G1 == 1 &amp; $\overline{G2A}$ == 0 &amp; $\overline{G2B}$ == 0时选通 </p>
<p>(CBA) =  i   决定  $\overline{Y_{i}}$  == 0</p>
<ul>
<li><p>注意：</p>
<p>8086、8088的 $\overline{M}$/IO == 0 时 ，才能74LS138选通，对存储器操作</p>
<p>8086、8088的 $\overline{WR}$ —&gt; SRAM存储器$\overline{WE}$   (EPROM、EEPROM没有)</p>
<p>8086、8088的 $\overline{RD}$ —&gt; SRAM、EPROM、EEPROM存储器 $\overline{OE}$</p>
<p>8086通过 $\overline{Y_{i}}$ + A0 =&gt; $\overline{CE}$ 偶位、$\overline{Y_{i}}$ + $\overline{BHE}$ =&gt; $\overline{CE}$ 奇位 —-&gt; 8位(D7~D0, D15~D8)拓展为16位(D15~D0)；</p>
<p>8088 没有A0，$\overline{BHE}$ 决定输出奇偶位的作用</p>
<p>2716，2732，2764，27128，27256，27512 的 $\overline{PGM}$ == +5V</p>
<p>选通信号：</p>
<ul>
<li>SRAM (6116、62256 为$\overline{CS}$ ；6264中为 $\overline{CE1}$ chip enable，$\overline{CE2}$不接)</li>
<li>EPROM 2716，2732，2764，27128，27256，27512 为   $\overline{CE}$ or $\overline{CS}$</li>
</ul>
</li>
</ul>
</li>
<li><p>存储拓展</p>
<ul>
<li><p>存储宽度扩展:  位扩展 (多个存储器$\overline{CE}$ 同时选通，data同时输入输出I/O)</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/width.png" alt="width"></p>
<ul>
<li><p>8086的8位(D7~D0, D15~D8)拓展为16位(D15~D0) </p>
<p>[通过 $\overline{Y_{i}}$ + A0 =&gt; $\overline{CE}$ 偶位、$\overline{Y_{i}}$ + $\overline{BHE}$ =&gt; $\overline{CE}$ 奇位]</p>
</li>
</ul>
</li>
<li><p>存储深度扩充: 字扩展 (不同 Address —&gt; 不同存储器的$\overline{CE_{i}}$ 分别选通)</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/depth.png" alt="depth"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>地址译码方式</p>
<ul>
<li><p>线选法</p>
<p>直接用地址线作为片选信号，不需要片选译码器</p>
<p>优点：译码逻辑简单</p>
<p>缺点1：整个存储器的地址常常不连续；</p>
<p>缺点2：同一单元可对应不同的地址，形成地址重叠</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/addr_lineselect.png" alt="addr_lineselect"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>全地址译码法</p>
<p>除去用作片内译码的低位地址后，把全部高位地址进行译码来产生片选信号</p>
<p>优点：存储单元地址是唯一的、不存在地址重叠问题；</p>
<p>缺点：需要较多的译码逻辑</p>
<ul>
<li><p>全译码法8088与SRAM 6264(8K * 8bits)构成32KB存储空间</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/addr_alladdr.png" alt="addr_alladdr"></p>
</li>
</ul>
</li>
<li><p>部分地址译码法</p>
<p>除去用作片内译码的低位地址后，将高位地址的一部分进行译码来产生片选信号</p>
<p>优点：存储单元地址是唯一的、不存在地址重叠问题 =&gt; 充分利用存储空间；</p>
<p>缺点：需要较多的译码逻辑</p>
<p>部分译码法8088与SRAM 6116(2K * 8 bits)构成8KB存储空间</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/addr_partaddr.png" alt="addr_partaddr"></p>
</li>
</ul>
<ul>
<li><p>8086 和 8088的杂例</p>
<p>图5.35  8088需要16KB的ROM和16KB的RAM</p>
<p>16KB的ROM：两片EPROM2764   8K*8bits</p>
<p>16KB的RAM：两片SRAM6264  8K*8bits</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/8088_5_35.png" alt="8088_5_35"></p>
<p>图5.36  8088需要256KB的ROM和256KB的RAM</p>
<p>256KB的ROM：？片EPROM27256   32K*8bits</p>
<p>256KB的RAM：？片SRAM62256  32K*8bits</p>
<p>ROM地址范围的选取：高端，C0000H~FFFFFH</p>
<p>RAM地址范围的选取：00000H~3FFFFH</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/8088_5_36.png" alt="8088_5_36"></p>
<ul>
<li><p>8086芯片简化图</p>
<p>8086通过 $\overline{Y_{i}}$ + A0 =&gt; $\overline{CE}$ 偶位、$\overline{Y_{i}}$ + $\overline{BHE}$ =&gt; $\overline{CE}$ 奇位 —-&gt; 8位(D7~D0, D15~D8)拓展为16位(D15~D0)；</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/8086_simplify.png" alt="8086_simplify"></p>
</li>
</ul>
<p>图5.39  全译码法8086与6116构成8KB存储空间  (6116：2K*8bits)</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/8086_5_39.png" alt="8086_5_39"></p>
<p>图5.40   8086与ROM/RAM综合</p>
<p>6116（2K×8bit)构成8KB（4K字)的RAM</p>
<p>2716 （2K×8bits）构成8KB（4K字)的ROM</p>
<p><img src="/2020/05/15/computer_organization/3_ch5%E5%AD%98%E5%82%A8%E5%99%A8/8086_5_40.png" alt="8086_5_40"></p>
</li>
</ul>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch7可编程并行接口8255A_计数器8253</title>
    <url>/2020/05/15/computer_organization/5_ch7%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A38255A_%E8%AE%A1%E6%95%B0%E5%99%A88253/</url>
    <content><![CDATA[<h2 id="8255"><a href="#8255" class="headerlink" title="8255"></a>8255</h2><a id="more"></a>
<p><img src="/2020/05/15/computer_organization/5_ch7%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A38255A_%E8%AE%A1%E6%95%B0%E5%99%A88253/8255.png" alt="8255"></p>
<p>和CPU一边相连的信号a</p>
<p>RESET－复位信号；</p>
<p>D7～D0 －数据线；</p>
<p>CS#   －片选信号；</p>
<p>RD#   －读出信号；</p>
<p>WR#   －写入信号；</p>
<p>A1、A0－端口选择信号</p>
<p>和外设一边相连的信号</p>
<p>PA7～PA0—A组数据信号；</p>
<p>PB7～PB0—B组数据信号；</p>
<p>PC7～PC0—C组数据信号。</p>
<p>有三种基本工作方式：</p>
<p>p方式0——基本的输入输出方式；</p>
<p>p方式1——选通的输入输出方式；</p>
<p>p方式2——双向传输方式；</p>
<p>eg. 应用1：多片8255的连接</p>
<p>  某微机系统有两片8255芯片：J1和J2；</p>
<p>  J1、J2的A1/A0分别和系统地址总线的A2/A1连接；</p>
<p>  其它控制信号分别连在一起，然后与系统相关信号连接；</p>
<p>  系统靠片选信号CS#来区分对J1和J2的访问；</p>
<p>solu:</p>
<p>A8A7 A6 A5 A4 A3 A2 A1 A0    （Y4 Y5）</p>
<p>0    1   1    1   0  0    0    0    0      00E0H     </p>
<p>0    1   1    1   0  0    1    1    0   00E6H</p>
<p>0    1   1    1   0  1    0    0    0   00E8H</p>
<p>0    1   1   1   0  1    1     1    0   00EEH</p>
<p>J1：端口A，方式0，输出</p>
<p>​        端口B，方式0，输入</p>
<p>​        端口C高4位，输出</p>
<p>​        端口C低4位，输入</p>
<p>控制字：10000011  83H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV	AL,83H</span><br><span class="line">MOV	DX,00E6H</span><br><span class="line">OUT	DX,AL</span><br></pre></td></tr></table></figure>
<p>J2：端口A，方式0，输入</p>
<p>​        端口B，方式1，输出</p>
<p>​        端口C高4位，输出</p>
<p>端口C低4位，配合端口B工作，可任意为1或0，此处0</p>
<p>控制字：10010100  94H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV	AL,94H</span><br><span class="line">MOV	DX,00EEH</span><br><span class="line">OUT	DX,AL</span><br></pre></td></tr></table></figure>
<p>eg. 8255工作于方式0 </p>
<p>端口地址</p>
<p>A端口：00D0H;     B端口：  00D2H;</p>
<p>C端口：00D4H;  控制端口：00D6H;</p>
<p>A端口：方式0，输出  （传送字符的通道）</p>
<p>B端口：未用</p>
<p>C端口高4位：方式0，输出（PC6作为STB#信号输出端） </p>
<p>C端口低4位：方式0，输入  （PC2作为BUSY信号输入端） </p>
<p>控制字：</p>
<p>​    10000001  81H</p>
<p>A端口：00D0H;   B端口：00D2H;<br>C端口：00D4H; 控制端口：00D6H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	MOV     AL, 81H</span><br><span class="line">	OUT	00D6H,AL</span><br><span class="line">	MOV	AL,0DH</span><br><span class="line">	OUT	00D6H,AL</span><br><span class="line">WAIT:   IN	AL,00D4H</span><br><span class="line">	AND	AL,04H	</span><br><span class="line">	JNZ	WAIT</span><br><span class="line">	MOV	AL,CL</span><br><span class="line">	OUT	00D0H,AL</span><br><span class="line">	MOV	AL,0CH</span><br><span class="line">	OUT	00D6H,AL</span><br><span class="line">	INC	AL</span><br><span class="line">	OUT	00D6H,AL</span><br><span class="line">;控制字：10000001</span><br><span class="line"></span><br><span class="line">;用置1&#x2F;0 方式使PC6为1，使STB#高电平，00001101B</span><br><span class="line">;读端口C的值</span><br><span class="line"></span><br><span class="line">;如不为0，说明忙信号为1，打印机忙，等待</span><br><span class="line"></span><br><span class="line">;不忙，把CL中字符送端口A</span><br><span class="line"></span><br><span class="line">;用置1&#x2F;0 方式使PC6为0，使STB#低电平，00001100B</span><br><span class="line"></span><br><span class="line">;再使STB#高电平</span><br></pre></td></tr></table></figure>
<p>eg. 8255工作于方式1 </p>
<p>设8255端口地址：</p>
<p>A端口00C0H;   B端口 00C2H;</p>
<p>C端口00C4H;   控制端口 00C6H</p>
<p>A端口作为数据通道，工作在方式1，输出方式。PC7自动作为OBF#信号输出端，PC6自动作为ACK#信号输入端。CPU控制PC0产生选通脉冲。OBF#此处无用，悬空。</p>
<p>PC3自动作为INTR信号输出端。中断类型号0BH</p>
<p>中断入口地址在2CH~2FH</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MAIN:MOV   AL,0A0H     </span><br><span class="line">	OUT  0C6H,AL      ;设置控制字    10100000</span><br><span class="line">	MOV   AL,01H        ;PC0&#x3D;1，让选通无效</span><br><span class="line">	OUT    0C6H,AL      </span><br><span class="line">	XOR	AX,AX        ;设置中断处理子程序入口地址：</span><br><span class="line">	MOV   DS,AX        ;1000H:2000H 在2CH~2EH</span><br><span class="line">	MOV   AX,2000H  ;中断类型号为多少？</span><br><span class="line">	MOV   WORD PRT[002C], AX</span><br><span class="line">	MOV   AX,1000H</span><br><span class="line">	MOV   WORD PRT[002E],AX</span><br><span class="line">	MOV   AL,0DH      ;PC6&#x3D;1,允许8255中断</span><br><span class="line">	OUT    0C6,AL</span><br><span class="line">	STI    </span><br><span class="line">;中断处理</span><br><span class="line">TINTR: </span><br><span class="line">	MOV   AL,[DI]       ;[DI]为打印内容, 字符送A端口</span><br><span class="line">	 OUT    0C0H,AL    ;</span><br><span class="line">	 MOV   AL,00          ;PC0&#x3D;0，产生选通信号</span><br><span class="line">	  OUT    0C6H,AL    ;PC0&#x3D;1 ，撤销选通信号</span><br><span class="line">	  INC     AL</span><br><span class="line">	  OUT    0C6H,AL</span><br><span class="line">              …</span><br><span class="line">              IRET</span><br></pre></td></tr></table></figure>
<h2 id="8253"><a href="#8253" class="headerlink" title="8253"></a>8253</h2><p>8254&amp;8253不同点：</p>
<ul>
<li>只有8254内部有状态寄存器；</li>
<li>8253有2种方式读出计数值，8254增加了读出控制字命令，有3种方式可读出计数值和状态值</li>
</ul>
<p>8253内部有三个计数器，他们的结构完全相同。</p>
<p>每个计数器的输入和输出都决定于设置在控制寄存器中的控制字，互相之间工作完全独立。</p>
<p>每个计数器通过三个引脚和外部联系:</p>
<ul>
<li>一个为时钟输入端CLK，一个为门控信号输入端GATE，另一个为输出端OUT。</li>
</ul>
<p>每个计数器内部有</p>
<ul>
<li>一个8位的控制寄存器，</li>
<li>16位的计数初值寄存器CR</li>
<li>计数执行部件CE</li>
<li>输出锁存器OL</li>
</ul>
<p><img src="/2020/05/15/computer_organization/5_ch7%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A38255A_%E8%AE%A1%E6%95%B0%E5%99%A88253/8253.png" alt="8253"></p>
<h3 id="控制字"><a href="#控制字" class="headerlink" title="控制字"></a>控制字</h3><p><img src="/2020/05/15/computer_organization/5_ch7%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A38255A_%E8%AE%A1%E6%95%B0%E5%99%A88253/8253_controlword.png" alt="8253_controlword"></p>
<h3 id="8253初始化program"><a href="#8253初始化program" class="headerlink" title="8253初始化program"></a>8253初始化program</h3><p>8253CNT0~ CNT2端口地址：0200H~0202H</p>
<p>控制寄存器端口地址：0203H</p>
<p>eg. 端口地址：0200H~0203H</p>
<p>CNT0工作于方式3，二进制计数，计数初值65536</p>
<p>CNT0控制字：00 11 011 0   36H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;CNT0初始化编程</span><br><span class="line">MOV AL,36H</span><br><span class="line">MOV DX,0203H</span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV DX, 0200H</span><br><span class="line">MOV AL,00H</span><br><span class="line">OUT DX,AL</span><br><span class="line">OUT DX,AL</span><br></pre></td></tr></table></figure>
<p>eg. 端口地址：0200H~0203H</p>
<p>CNT1工作于方式2，BCD计数，计数初值1023H</p>
<p>CNT1控制字：01 11 010 1  75H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;CNT1初始化编程</span><br><span class="line">MOV AL,75H</span><br><span class="line">MOV DX,0203H</span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV DX, 0201H</span><br><span class="line">MOV AX,1023H</span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV AL,AH</span><br><span class="line">OUT DX,AL</span><br></pre></td></tr></table></figure>
<p>eg. 端口地址：0200H~0203H</p>
<p>CNT2工作于方式3，二进制计数，计数初值255</p>
<p>CNT2控制字：10 01 011 0   96H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;CNT2初始化编程</span><br><span class="line">MOV AL,96H</span><br><span class="line">MOV DX,0203H</span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV DX, 0202H</span><br><span class="line">MOV AL,0FFH</span><br><span class="line">OUT DX,AL</span><br></pre></td></tr></table></figure>
<h3 id="8253的锁存读出命令program"><a href="#8253的锁存读出命令program" class="headerlink" title="8253的锁存读出命令program"></a>8253的锁存读出命令program</h3><p>方法：</p>
<p>（1）写锁存命令，使计数值锁存到输出寄存器OL；</p>
<p>（2）读锁定的计数值</p>
<p>eg. 若8253端口地址200H~203H，已知CNT1已经工作，现需要读出CNT1的当前计数值</p>
<p>；锁存命令， CNT0、<br>CNT1和 CNT2分别为00H、40H和80H</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV AL,40H    	;锁存命令， CNT0、 CNT1和 CNT2分别为00H、40H和80H</span><br><span class="line">MOV DX,0203H</span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV DX,0201H</span><br><span class="line">IN AL,DX</span><br><span class="line">MOV CL,AL</span><br><span class="line">IN AL,DX</span><br><span class="line">MOV CH,AL</span><br></pre></td></tr></table></figure>
<h3 id="8253-工作mode"><a href="#8253-工作mode" class="headerlink" title="8253 工作mode"></a>8253 工作mode</h3><p>软件触发计数启动</p>
<ul>
<li>模式0－计数结束中断</li>
<li>模式4－软件触发延时选通</li>
</ul>
<p>硬件触发计数启动</p>
<ul>
<li>模式1－可编程单拍</li>
<li>模式5－硬件触发延时选通</li>
</ul>
<p>周期信号发生器</p>
<ul>
<li>模式2－频率发生器</li>
<li>模式3－方波发生器</li>
</ul>
<p><img src="/2020/05/15/computer_organization/5_ch7%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A38255A_%E8%AE%A1%E6%95%B0%E5%99%A88253/8253_workmode.png" alt="8253_workmode"></p>
<h3 id="8253实例"><a href="#8253实例" class="headerlink" title="8253实例"></a>8253实例</h3><p>eg. OUT0输出接8259A的IRQ0，用作PC实时时钟的定时中断请求信号。</p>
<p>工作于方式3，</p>
<p>CNT0的控制字</p>
<p>0011 011 0       36H</p>
<p>计数器初值为0000H，</p>
<p>对应最大方波周期：  T=65536*838ns» 55ms。</p>
<p>输出信号频率：   f=1/T=18.206Hz </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV	AL, 36H</span><br><span class="line">OUT	43H, AL</span><br><span class="line">MOV	AL, 0</span><br><span class="line">OUT	40H, AL</span><br><span class="line">OUT	40H, AL</span><br></pre></td></tr></table></figure>
<p>用来为动态存储器的刷新提供定时信号。</p>
<p>工作于方式2。</p>
<p>CNT1的控制字</p>
<p>0101 010 0       54H</p>
<p>计数器初值为18H。</p>
<p>对应最大方波周期：  T=18*838ns» 15us。</p>
<p>每次刷新512单元，128次刷新全部64KB。所需时间：</p>
<p>​      15us*128 »1.92ms&lt;2ms</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV	AL, 54H</span><br><span class="line">OUT	43H, AL</span><br><span class="line">MOV	AL, 18</span><br><span class="line">OUT	41H, AL</span><br></pre></td></tr></table></figure>
<p>GATE2接至并行接口8255A的PB0位，用它控制通道2的计数过程。</p>
<p>输出OUT2经过一个与门，这个与门受PB1位控制。扬声器可由PB0或PB1分别控制发声。8255A的端口地址为60H~63H。</p>
<p>若要求扬声器发出600Hz的声音，可将计数器2设定为方式3，作为方波发生器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MOV	AL, 10110110B     ;方式3，写入16位计数值</span><br><span class="line">OUT	43H, AL</span><br><span class="line">MOV	AX, 1989		；1.19318MHz&#x2F;600&#x3D;1989</span><br><span class="line">OUT	42H, AL		;写入低8位</span><br><span class="line">MOV AL，AH</span><br><span class="line">OUT	42H, AL		;写入高8位</span><br><span class="line">IN AL, 61H			;读8255A的B端口原输入值</span><br><span class="line">MOV AH, AL</span><br><span class="line">OR AL, 03H		;使PB1和PB0位均为1</span><br><span class="line">OUT 61H,AL		;输出以使扬声器能够发声</span><br></pre></td></tr></table></figure>
<p>eg. <img src="/2020/05/15/computer_organization/5_ch7%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%B9%B6%E8%A1%8C%E6%8E%A5%E5%8F%A38255A_%E8%AE%A1%E6%95%B0%E5%99%A88253/8253_eg2.png" alt="8253_eg2"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">		NAME EX_1</span><br><span class="line">DATA		SEGMENT</span><br><span class="line">MESS	DB	‘8253 CNT0 IN MODE 3’,0DH,0AH</span><br><span class="line">		DB	‘8253 CNT1 IN MODE 2’,0DH,0AH,‘$’</span><br><span class="line">DATA		ENDS</span><br><span class="line">CODE 	SEGMENT</span><br><span class="line">		ASSUME CS:CODE,DS:DATA</span><br><span class="line">START:	MOV AX,DATA</span><br><span class="line">MOV DS,AX</span><br><span class="line">CLI</span><br><span class="line">MOV DX,0203H	;CNT0初始化，产生方波，周期10ms</span><br><span class="line">MOV AL,36H	; CNT0方式控制字   00110110    </span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV DX,0200H</span><br><span class="line">MOV AL,0C4H</span><br><span class="line">OUT DX,AL		;写入低字节计数值          09C4H</span><br><span class="line">MOV AL,09H</span><br><span class="line">OUT DX,AL		;写入高字节计数值</span><br><span class="line">MOV DX,0203H	;CNT1初始化，产生周期性负脉冲信号，MOV AL,74H	;周期1s ，CNT1方式控制字   01110100    </span><br><span class="line">OUT DX,AL</span><br><span class="line">MOV DX,0201H</span><br><span class="line">MOV AL,064H</span><br><span class="line">OUT DX,AL		;写入低字节计数值          64H</span><br><span class="line">MOV AL,00H</span><br><span class="line">OUT DX,AL		;写入高字节计数值</span><br><span class="line">STI</span><br><span class="line">MOV DX,OFFSET MESS</span><br><span class="line">MOV AH,09H</span><br><span class="line">INT 21H</span><br><span class="line">MOV AH,4CH</span><br><span class="line">INT 21H</span><br><span class="line">CODE ENDS</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch8中断8259</title>
    <url>/2020/05/15/computer_organization/8_ch8%E4%B8%AD%E6%96%AD8259/</url>
    <content><![CDATA[<h2 id="中断8259"><a href="#中断8259" class="headerlink" title="中断8259"></a>中断8259</h2><a id="more"></a>
<p>1.解释概念：中断，可屏蔽中断，非屏蔽中断，中断类型号，中断向量，中断向量表，</p>
<ul>
<li><p>中断：处理器暂停执行当前程序，转处理随机发生事件，后返回到断点处继续执行原来程序</p>
<p>中断优先级依次降低:</p>
<p>内部中断和异常</p>
<p>软件中断</p>
<p>外部非屏蔽中断</p>
<p>外部可屏蔽中断</p>
<p>单步中断</p>
</li>
<li><p>外部中断: (CPU通过8259A芯片管理外部中断)</p>
<p>通过CPU的INTR管脚申请的中断请求，如：键盘中断、打印机中断、定时器中断等，是可屏蔽中断。</p>
<p>通过CPU的NMI管脚申请的中断请求，是不可屏蔽中断。</p>
<p>内部中断:</p>
<p>内部硬件中断：由某些特殊指令触发的中断，如单步中断、除法出错中断、溢出中断</p>
<p>软件中断：由指令INT n引起的非屏蔽中断，如DOS中断、BIOS中断和其他自由中断</p>
</li>
<li><p>中断响应信号输出：输出$\overline{INTA}$</p>
</li>
<li><p>中断类型码: 中断系统可处理256个中断类型(0H~0FFH号中断)，每种中断安排了1字节中断类型码，每种类型的中断都有相应的中断处理程序</p>
<p>中断类型号乘以4就得到对应中断向量的地址 eg.21H×4＝84H</p>
</li>
<li><p>中断向量表: 中断类型码对应4个字节的中断服务程序入口地址, 系统所有中断服务程序的入口地址</p>
<p>8086中断向量组成的中断向量表位于内存的0～3FFH区域 (4*256B)</p>
</li>
<li><p>中断向量：中断处理子程序的入口地址IP,CS</p>
</li>
</ul>
<p>2.CPU在何时检测有无中断请求，中断响应过程是什么？</p>
<p>(每条指令执行的最后一个时钟周期检测中断请求)</p>
<p>出现以下之一，进入中断响应周期：</p>
<p>有软件中断；有NMI中断信号；有INTR中断信号，而且CPU允许中断响应，即IF=1</p>
<p>进入中断响应周期以后:</p>
<p>若是INTR，则产生INTA信号，中断源通过数据总线的低8位将中断类型码传送给CPU；</p>
<p>若是NMI，则类型码是2；</p>
<p>若程序出错产生中断，则使用默认的类型码；</p>
<p>若是中断指令，则指令中有类型码</p>
<p>3.如何保护原有的中断向量？如向设置新的中断向量？</p>
<p>保护断点:</p>
<p>系统自动将标志寄存器FLAG压入堆栈</p>
<p>清除TF和IF</p>
<p>将断点处的CS和IP压入堆栈，先压CS后压IP</p>
<p>设置新的中断向量:</p>
<p>系统根据中断类型码形成中断服务程序的入口地址。</p>
<p>转入中断服务程序执行</p>
<p>4.什么叫中断嵌套？何谓普通全嵌套？何谓特殊全嵌套？</p>
<p>一系列压栈指令进一步保护中断现场，即保护CPU各寄存器的值；</p>
<p>[一般应设置中断允许标志IF开放中断，以允许高级别中断请求进入；]</p>
<p>中断处理具体内容；</p>
<p>恢复现场，通过弹出堆栈指令恢复各寄存器值；</p>
<p>中断返回</p>
<ul>
<li><p>普通EOI方式</p>
<p>用于全嵌套方式；8259A每得到一次EOI命令，将把当前中断服务寄存器ISR中最高的非零位清零</p>
</li>
</ul>
<p>中断嵌套:</p>
<p>有优先级更高的中断源发出请求，CPU将中止正在执行的中断服务程序而转入为新的中断源服务，等新的中断服务程序执行完后，再返回到被中止的中断服务程序</p>
<p>普通全嵌套:</p>
<p>中断优先级为0～7，0级中断优先级最高；</p>
<p>中断类型码放到数据总线上，ISR中相应位置位并保持，直到被自动清除或被指令清除；</p>
<p>新收到的中断和当前ISR中的位进行比较，判断是否进行中断嵌套；可响应更高级中断请求，屏蔽同级或低级中断</p>
<p>特殊全嵌套: (8259级连系统中，设置主片工作于特殊全嵌套方式，从片工作于其它方式)</p>
<p>区别是有同级中断请求，也给予响应</p>
<h3 id="8259A-功能"><a href="#8259A-功能" class="headerlink" title="8259A 功能"></a>8259A 功能</h3><p>CPU响应中断时，为CPU提供中断类型码；</p>
<p>一片Intel 8259可管理8个中断请求，并把当前优先级最高的中断请求送到CPU的INTR端；</p>
<p>8个外部中断的优先级排列方式，可以通过对8259编程进行指定。也可以通过编程屏蔽某些中断请求;</p>
<p>允许9片8259级联，构成64级中断系统</p>
<h3 id="中断处理程序"><a href="#中断处理程序" class="headerlink" title="中断处理程序"></a>中断处理程序</h3><p>eg. 修改中断处理程序，需按下面的操作过程来完成：</p>
<ol>
<li>读取指定中断’s 中断处理程序入口地址==&gt;保存存储单元；</li>
</ol>
<ol>
<li>用户编写的程序段设置==&gt;中断的新处理程序；</li>
</ol>
<ol>
<li><p>在用户程序结束之前(或不需要新的处理程序时)，</p>
<p>把步骤1保存的入口地址恢复==&gt;处理该中断的入口地址</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INTNO  EQU  40H   ;将占用的中断号 </span><br><span class="line">OLDADDR  DD  ?</span><br><span class="line">…</span><br><span class="line">NEWPROG PROC  ;新中断处理程序</span><br><span class="line">NEWPROG …</span><br><span class="line">IRET 				</span><br><span class="line">ENDP </span><br><span class="line">;步骤1，获取并保存原入口地址（ES：BX）</span><br><span class="line">MOV AL, INTNO</span><br><span class="line">MOV AH,35H </span><br><span class="line">INT 21H</span><br><span class="line">MOV word ptr OLDADDR,  BX </span><br><span class="line">MOV word ptr OLDADDR+2, ES </span><br><span class="line"></span><br><span class="line">;步骤2，设置新的入口地址（DS：DX）</span><br><span class="line">MOV AX, SEG NEWPROG </span><br><span class="line">MOV DS, AX </span><br><span class="line">MOV DX, OFFSET NEWPROG </span><br><span class="line">MOV AL, INTNO</span><br><span class="line">MOV AH, 25H </span><br><span class="line">INT 21H</span><br><span class="line"></span><br><span class="line">…;用户主程序。。。。 </span><br><span class="line"></span><br><span class="line">;步骤3，恢复原入口地址</span><br><span class="line">MOV DX, word ptr OLDADDR</span><br><span class="line">MOV DS, word ptr OLDADDR+2</span><br><span class="line">MOV AL, INTNO</span><br><span class="line">MOV AH,25H</span><br><span class="line">INT  21H</span><br></pre></td></tr></table></figure>
<p>eg. 同上，user 程序使show “the bell is ringing!”</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DATA  SEGMENT</span><br><span class="line">	MSG  DB  7,&#39;The bell is ring!&#39;,0ah,0dh,&#39;$&#39;</span><br><span class="line">	INTNO  EQU  40H   ;将占用的中断号 </span><br><span class="line">	OLDADDR  DD  ?</span><br><span class="line">DATA  ENDS</span><br><span class="line"></span><br><span class="line">CODE SEGMENT</span><br><span class="line">ASSUME  CS:CODE,DS:DATA,ES:DATA</span><br><span class="line">NEWPROG PROC  ;新中断处理程序</span><br><span class="line">	MOV  AX,DATA</span><br><span class="line">        	MOV  DS,AX</span><br><span class="line">          	LEA   DX,MSG</span><br><span class="line">	MOV   AH,9</span><br><span class="line">	INT 21H</span><br><span class="line">	IRET 				</span><br><span class="line">NEWPROG ENDP</span><br><span class="line"></span><br><span class="line">RING    PROC FAR</span><br><span class="line">          MOV  AX,DATA</span><br><span class="line">          MOV  DS,AX</span><br><span class="line">	 ;步骤1，获取并保存原入口地址</span><br><span class="line">	MOV AL, INTNO</span><br><span class="line">	MOV AH,35H </span><br><span class="line">	INT 21H</span><br><span class="line">	MOV word ptr OLDADDR,  BX </span><br><span class="line">	MOV word ptr OLDADDR+2, ES </span><br><span class="line">	;步骤2，设置新的入口地址</span><br><span class="line">	MOV AX, SEG NEWPROG </span><br><span class="line">	MOV DS, AX </span><br><span class="line">	MOV DX, OFFSET NEWPROG </span><br><span class="line">	MOV AL, INTNO</span><br><span class="line">	MOV AH, 25H </span><br><span class="line">	INT 21H</span><br><span class="line"></span><br><span class="line">	;用户主程序 </span><br><span class="line">	MOV CX,5</span><br><span class="line">AA:	INT INTNO</span><br><span class="line">	LOOP AA</span><br><span class="line">	;步骤3，恢复原入口地址</span><br><span class="line">	MOV DX, word ptr OLDADDR</span><br><span class="line">	MOV DS, word ptr OLDADDR+2</span><br><span class="line">	MOV AL, INTNO</span><br><span class="line">	MOV AH,25H</span><br><span class="line">	INT  21H</span><br><span class="line"></span><br><span class="line">	MOV  AX,4C00H</span><br><span class="line">	INT  21H</span><br><span class="line">RING	ENDP</span><br><span class="line">CODE	ENDS</span><br><span class="line">	END  RING</span><br></pre></td></tr></table></figure>
<h3 id="8259初始化、操作命令"><a href="#8259初始化、操作命令" class="headerlink" title="8259初始化、操作命令"></a>8259初始化、操作命令</h3><p>8259A内部寄存器的选择依靠CS#、地址线A0、命令字特征位D4来选择不同的寄存器。</p>
<p>初始化、操作命令in两个不同的阶段</p>
<h4 id="8259A初始化命令"><a href="#8259A初始化命令" class="headerlink" title="8259A初始化命令"></a>8259A初始化命令</h4><ul>
<li>对于8259A初始化一旦开始，就必须根据初始化要求，严格按流程逐一写入初始化命令</li>
</ul>
<p><img src="/2020/05/15/computer_organization/8_ch8%E4%B8%AD%E6%96%AD8259/init.png" alt="init"></p>
<ul>
<li><p>ICW1  [A0=0]</p>
<p>A0=0，D4=1 表示对ICW1编程；</p>
<p>D0（IC4）D0=1需要ICW4；D0=0 不需要ICW4；</p>
<p>D1（SNGL）D1=1为单片8259工作方式；D1=0 为级联工作方式，此时要用ICW3指明级联端；</p>
<p>D2（ADI）指明8080/8085系统中地址间距，8086系统不用(==0)；</p>
<p>D3（LTIM）D3=1 中断请求是电平触发方式；D3=0 上升沿触发方式</p>
<p>eg. (8086=&gt;D2=0)设ICW1=&gt;D4=1，边沿触发=&gt;D3=0，单片=&gt;D1=0; D4~D0==10011=13H</p>
</li>
<li><p>ICW2  [A0=1]</p>
<p>中断类型码高5位来自ICW2高5位，低3位D2D1D0=i对应IR0~IR7的IR_{i}</p>
</li>
<li><p>ICW3  [A0=1]</p>
<p>包含多片8259时，ICW3才有意义&lt;=&gt;当SNGL=0时，才设置ICW3</p>
<p>本片为主片时，对ICW3相应位置Di==1表示IR0~ IR7的IR_{i}连有从片；</p>
<p>本片为从片时，ICW3低3位D2D1D0=i对应连接==&gt;主片IR0~IR7的IR_{i}中断输入引脚</p>
</li>
<li><p>ICW4   [A0=1] D7~D5==000</p>
<p>D4（SFNM）D4=1  为特殊全嵌套方式，此时允许同级中断再次进入，一般用于多片级联方式；D4=0  为普通全嵌套方式，禁止同级中断再次进入。</p>
<p>D3（BUF）D3=1为缓冲工作方式，即8259通过总线驱动器和数据总线相连，此时SP#/EN#为输出，用于缓冲器选通信号；D3=0为非缓冲工作方式</p>
<p>D2（M/S）在缓冲方式下（BUF=1)，表示本片为主片或从片：M/S# = 1为主片， M/S#=0为从片。</p>
<p>在非缓冲方式下，由SP#/EN#引脚设定主片和从片，本位不起作用</p>
<p>D1（AEOI）D1=1自动结束中断方式，在第二个INTA#时，清中断服务寄存器ISR中的对应位；D1=0 非自动结束中断方式，中断结束时发EOI命令清ISR中的对应位；</p>
<p>D0（mPM）D0=1为16位处理器体系；D0=0 为8085处理器体系；</p>
<p>eg. (默认D3=0,从片=&gt;D2=0, EOI命令清ISR对应位D1=0)设ICW4，普通全嵌套=&gt;D4=0，8088系统=&gt;D0=1</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">…</span><br><span class="line">INTA00 EQU 20H</span><br><span class="line">INTA01 EQU 21H</span><br><span class="line">…</span><br><span class="line">MOV AL,13H	;设ICW1，边沿触发，单片</span><br><span class="line">OUT INTA00,AL	;要设置ICW4，00010011B</span><br><span class="line">;………………………………………..</span><br><span class="line">MOV AL,08H	;设ICW2起始中断类型号08H</span><br><span class="line">OUT INTA01,AL	</span><br><span class="line">;………………………………………..</span><br><span class="line">MOV AL,09H	;设ICW4，全嵌套，8088系统</span><br><span class="line">OUT INTA01,AL	; 00001001B   ??</span><br><span class="line">;………………………………………..</span><br></pre></td></tr></table></figure>
<p> eg. 8259A以两片级联的方式管理15级向量中断。</p>
<p>1.两片级联时，CAS2~CAS0互联，从片的INT端输出作为主片第二级中断请求的输入。</p>
<p>2.端口地址，主片：020H~021H ，从片：0A0H~0A1H</p>
<p>3.主从片的中断请求信号为边沿触发</p>
<p>4.选择全嵌套方式，优先级排队顺序为0级最高。</p>
<p>5.主从片数据线采用非缓冲方式连接到CPU，主片SP#/EN#接+5V，从片SP#/EN#接地。</p>
<p>6.设定0~7级对应的中断号08~0FH，8~15级对应的中断号为70~77H。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">INTA00 	EQU 	20H		;8259A主片端口0</span><br><span class="line">INTA01 	EQU 	21H		;8259A主片端口1</span><br><span class="line">EOI		EQU  20H</span><br><span class="line">INTB00 	EQU 	0A0H		;8259A从片端口0</span><br><span class="line">INTB01 	EQU 	0A1H		;8259A从片端口1</span><br><span class="line">INT_TYPE	EQU	070H		;从片起始中断号</span><br><span class="line"></span><br><span class="line">;初始化8259A主片</span><br><span class="line">MOV AL, 11H	;ICW1:边沿触发，多片，设置ICW4</span><br><span class="line">OUT INTA00,AL	;0001 0001B</span><br><span class="line">JMP SHORT $+2	;CPU对I&#x2F;O端口的等待状态</span><br><span class="line">MOV AL, 8H	;ICW2:中断号从08H开始</span><br><span class="line">OUT INTA01,AL</span><br><span class="line">JMP SHORT $+2</span><br><span class="line">MOV AL, 04H	;ICW3：主片第二级接从片</span><br><span class="line">OUT INTA01,AL	;0000 0100B</span><br><span class="line">JMP SHORT $+2</span><br><span class="line">MOV AL, 01H	;ICW4非缓冲普通全嵌套，8086系统</span><br><span class="line">OUT INTA01,AL	;0000 0001B</span><br><span class="line">JMP SHORT $+2</span><br><span class="line">MOV AL, 0FFH	;屏蔽所有中断</span><br><span class="line">OUT INTA01,AL</span><br><span class="line"></span><br><span class="line">;初始化8259A从片</span><br><span class="line">MOV AL, 11H	;ICW1:边沿触发，多片，设置ICW4</span><br><span class="line">OUT INTB00,AL	;0001 0001B</span><br><span class="line">JMP SHORT $+2	;CPU对I&#x2F;O端口的等待状态</span><br><span class="line">MOV AL, INT_TYPE	;ICW2:中断号从70H开始</span><br><span class="line">OUT INTB01,AL</span><br><span class="line">JMP SHORT $+2</span><br><span class="line">MOV AL, 02H	;ICW3：从片接主片第二级</span><br><span class="line">OUT INTB01,AL</span><br><span class="line">JMP SHORT $+2</span><br><span class="line">MOV AL, 01H	;ICW4非缓冲普通全嵌套，8086系统</span><br><span class="line">OUT INTB01,AL</span><br><span class="line">JMP SHORT $+2</span><br><span class="line">MOV AL, 0FFH	;屏蔽所有中断</span><br><span class="line">OUT INTB01,AL</span><br><span class="line"></span><br><span class="line">MOV  AL, 13H	;边沿触发， 单片        00010011</span><br><span class="line">OUT  80H, AL    	;设置ICW1;</span><br><span class="line">MOV AL,  18H</span><br><span class="line">OUT  81H, AL	;设置ICW2,中断类型码00011＋IR;</span><br><span class="line">MOV AL,0DH	;00001101</span><br><span class="line">OUT 81H, AL	;设置ICW4</span><br></pre></td></tr></table></figure>
<h4 id="地址："><a href="#地址：" class="headerlink" title="地址："></a>地址：</h4><p>主片的端口地址在020H～03FH范围内，实际使用20H～21H两个端口。</p>
<p>从片的端口地址为0A0H～0BFH，实际使用0A0H～0A1H两个端口。</p>
<p>从片的INT信号与主片的IR2端相连，这样共构成15个向量中断。</p>
<p>主8259A的中断类型号08H～0FH；从8259A的中断类型号70H～7FH</p>
<h4 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h4><ul>
<li><p>对8259的操作命令字设置靠A0和命令字特征位D4区分</p>
</li>
<li><p>8259A共有三个操作控制字：OCW1，OCW2和OCW3。</p>
<p>操作命令字可在任何时候写入8259A，且无顺序。</p>
</li>
<li><p>OCW1  [A0=1]</p>
<p>OCW1为中断屏蔽操作命令字；</p>
<p>A0=1 表示设置OCW1；</p>
<p>Mi=1 表示屏蔽IRi输入中断请求；</p>
<p>先读IMR，用逻辑或指令使对应屏蔽位置1（屏蔽该中断），用逻辑与指令使对应屏蔽位为0（开放该中断）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;若开放IR2的中断：</span><br><span class="line">	IN AL, 21H</span><br><span class="line">	AND AL, 11111011B</span><br><span class="line">	OUT 21H,AL</span><br><span class="line">;若屏蔽IR2的中断：</span><br><span class="line">	IN AL, 21H</span><br><span class="line">	OR AL, 00000100B</span><br><span class="line">	OUT 21H,AL</span><br></pre></td></tr></table></figure>
</li>
<li><p>OCW2    [A0=0]</p>
<p>设置优先级循环方式和中断结束方式</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">;非特殊的EOI命令为</span><br><span class="line">    	MOV       AL，      20H</span><br><span class="line">     	OUT       PORT，     AL    ；PORT为8259A的端口地址。</span><br></pre></td></tr></table></figure>
</li>
<li><p>OCW3  [A0=0]</p>
<p>A0=0，且D4D3=01，表示对OCW3编程</p>
</li>
</ul>
<p><img src="/2020/05/15/computer_organization/8_ch8%E4%B8%AD%E6%96%AD8259/mult_chip.png" alt="mult_chip"></p>
<p> eg. 每片8259A只能管理8级中断，为了扩展系统的中断能力，</p>
<p>可把若干个8259A按级联方式连接起来。一般一个系统中最多级联8片8259A中断控制器，即中断级数可达64级。</p>
<ol>
<li>级联方式</li>
<li>特殊完全嵌套方式</li>
<li>缓冲方式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">   INTA1CS   EQU   020H</span><br><span class="line">         </span><br><span class="line">   MOV AL，11H    ;ICW1边沿触发，多片ICW4</span><br><span class="line">   OUT    INTA1CS,AL</span><br><span class="line"></span><br><span class="line">    MOV   AL,8</span><br><span class="line">    OUT    INTA1CS+1,AL     ;ICW2中断向量</span><br><span class="line"></span><br><span class="line">  	MOV   AL,4               ;ICW3主片IR2上接从片</span><br><span class="line">   	OUT    INTA1CS+1,AL      ;S2&#x3D;1</span><br><span class="line">  	</span><br><span class="line">   	MOV   AL,01H  ;ICW4无缓冲，非自动结束中断</span><br><span class="line">   	OUT    INTA1CS</span><br><span class="line">;.................................................</span><br><span class="line">	INTA2CS     EQU   0A0H</span><br><span class="line"></span><br><span class="line">  	MOV   AL,11H ;ICW1边沿触发多片，需要ICW4</span><br><span class="line">  	OUT    INTA2CS,AL    </span><br><span class="line">  	</span><br><span class="line">  	MOV   AL,70H        ;ICW2中断号高5位</span><br><span class="line">  	OUT    INTA2CS+1,AL     </span><br><span class="line">	</span><br><span class="line">       MOV   AL,2       ;ICW3从片接主片的IR2</span><br><span class="line">       OUT    INTA2CS+1,AL</span><br><span class="line"></span><br><span class="line">       MOV   AL,01H     ;ICW4非缓冲，非自动结束中断</span><br><span class="line">       OUT     INTA2CS</span><br></pre></td></tr></table></figure>
<p>eg. 日时钟中断设置55ms定时，通过修改日时钟中断向量来对用户打字实现计时，</p>
<p>中断服务程序对中断次数进行统计，每18次后秒计数加1，然后逐一对分、时进行调整。</p>
<p>主程序功能对计时进行初始化为0，并清除错误计数缓存区，</p>
<p>等待键盘输入，判断键盘输入字符是否为命令，</p>
<p>若“ESC”则结束打字测试，若“回车”则显示输入一行字符所花时间以及键入字符错误个数，</p>
<p>此外均将键入字符与提示行字符进行逐一比较，以统计正确率</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TITLE      TYPE_ER ---TEST TIME FOR TYPING EXERXISE</span><br><span class="line">STACK     SEGMENT  STACK &#39;STACK&#39;</span><br><span class="line">                  DB      256 DUP (0)</span><br><span class="line">TOP          LABEL   WORD</span><br><span class="line">STACK    ENDS</span><br><span class="line">DATA       SEGMENT</span><br><span class="line">DEBUG    EQU     0</span><br><span class="line">BUFFER   DB      32 DUP(?)</span><br><span class="line">BUFPT1    DW      0</span><br><span class="line">BUFPT2    DW      0</span><br><span class="line">KBFLAG   DB      0</span><br><span class="line">PROMPT   DB      &#39; *PLEASE PRACTICE TYPEING*&#39;,0DH,0AH,&#39;$&#39;</span><br><span class="line">OLDCS9    DW      ?</span><br><span class="line">OLDIP9     DW      ?</span><br><span class="line">STR1   	DB  &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ. &#39; , 0DH,0AH,&#39;$&#39;</span><br><span class="line">STR2   	DB  &#39;CHRISTMAS IS A TIME OF JOY AND LOVE.&#39; , 0DH,0AH,&#39;$&#39;</span><br><span class="line">STR3   	DB  &#39;STORE WINDOWS HOLD TOGS AND GIFTS.&#39;, 0DH,0AH,&#39;$&#39;</span><br><span class="line">STR4	DB &#39;PEOPLE SEND CHRISTMAS CARDS AND GIFTS.&#39;,                 0DH,0AH,&#39;$&#39;</span><br><span class="line">STR5	      DB      &#39;SANTA WISH ALL PEOPLE PEACE ON EARTH.&#39;</span><br><span class="line">CRLF          DB      0DH,0AH,&#39;$&#39;</span><br><span class="line">COLON      DB      &#39;:&#39;,&#39;$&#39;</span><br><span class="line">SADDR       DW      STR1,STR2,STR3,STR4,STR5</span><br><span class="line">COUNT      DW      0</span><br><span class="line">HOURS1     DB      0DH,0AH</span><br><span class="line">HOURS       DB      30H</span><br><span class="line">            DB      30H</span><br><span class="line">            DB      &#39;: &#39;</span><br><span class="line">                     </span><br><span class="line">MIN    	DB      30H</span><br><span class="line">        DB      30H</span><br><span class="line">        DB      &#39;:&#39;</span><br><span class="line">SEC     DB      30H</span><br><span class="line">        DB      30H</span><br><span class="line">        DB      0DH,0AH</span><br><span class="line">ERR    	DB      &#39;ERROR&#39;</span><br><span class="line">ERR1  	DB      30H</span><br><span class="line">        DB      30H</span><br><span class="line">        DB      0DH,0AH,&#39;$&#39;</span><br><span class="line">SAVE_08    DW      2 DUP(?)</span><br><span class="line">MEM         DB      10</span><br><span class="line">MEM1        DB      ?</span><br><span class="line">DATA        ENDS</span><br><span class="line">CODE          SEGMENT</span><br><span class="line">ASSUME     CS:CODE,DS:DATA,SS:STACK,ES:DATA</span><br><span class="line">TYPE_ER    PROC     FAR</span><br><span class="line">START:</span><br><span class="line">          	MOV      AX,DATA</span><br><span class="line">           	MOV      ES,AX</span><br><span class="line">           	MOV      DS,AX</span><br><span class="line">           	CLI			        ;关闭中断</span><br><span class="line">           	MOV     AL,00110100B            ;置8253的0通道为模式2</span><br><span class="line">          	OUT      43H,AL</span><br><span class="line">          	MOV     AX,0</span><br><span class="line">              OUT       40H,AL                        ;装定时间常数</span><br><span class="line">          	MOV     AL,AH</span><br><span class="line">          	OUT      40H,AL</span><br><span class="line">          	PUSH    ES</span><br><span class="line">               MOV      AH,35H值                ;保护原类型号8的中断向量</span><br><span class="line">               MOV      AL,08H</span><br><span class="line">               INT         21H</span><br><span class="line">               MOV      SAVE_08,BX</span><br><span class="line">               MOV      SAVE_08+2,ES</span><br><span class="line">               POP        ES</span><br><span class="line">FIRST:  MOV      AH,0                    ;设置显示为文本模式</span><br><span class="line">               MOV      AL,3</span><br><span class="line">               INT         10H</span><br><span class="line">               MOV      DX,OFFSET PROMPT        ;屏幕提示输出</span><br><span class="line">               MOV      AH,9</span><br><span class="line">               INT         21H</span><br><span class="line">               MOV      SI,0</span><br><span class="line">NEXT:   MOV      DX, ES:SADDR[SI]         ;提示打印的字符</span><br><span class="line">               PUSH     DX</span><br><span class="line">           MOV      AH,9</span><br><span class="line">           INT         21H</span><br><span class="line">           MOV      COUNT,0                 ;初始化HH:MM:SS</span><br><span class="line">           MOV      AL,30H                     ;30H－’0’</span><br><span class="line">           MOV      ERR1+1,AL</span><br><span class="line">           MOV      ERR1,AL</span><br><span class="line">           MOV      SEC,AL</span><br><span class="line">           MOV      SEC+1,AL</span><br><span class="line">           MOV      MIN,AL</span><br><span class="line">           MOV      MIN+1,AL</span><br><span class="line">           MOV      HOURS,AL</span><br><span class="line">           MOV      HOURS+1,AL</span><br><span class="line">           IN           AL,21H                  ;</span><br><span class="line">           MOV      MEM1,AL</span><br><span class="line">           AND      AL,0FCH              ;允许时钟中断、键盘中断</span><br><span class="line">           		OUT      21H,AL</span><br><span class="line">			PUSH     DS</span><br><span class="line">           		MOV    DX,OFFSET CLINT ;设置类型号08新的中断向量</span><br><span class="line">			MOV      BX,SEG CLINT</span><br><span class="line">		              MOV      DS,BX</span><br><span class="line">          		MOV      AL,08H</span><br><span class="line">		              MOV      AH,25H</span><br><span class="line">           		INT         21H</span><br><span class="line">		              POP        DS</span><br><span class="line">			STI</span><br><span class="line">                             MOV    BX,0     ;增加红色2句</span><br><span class="line"> 			PUSH   BX</span><br><span class="line">	FOREVER:   POP      BX</span><br><span class="line">		FOR2:   MOV     AH,0;等待键盘输入字符</span><br><span class="line">              		INT      16H</span><br><span class="line">		      F7:  CLI</span><br><span class="line">             		CMP      AL,1BH</span><br><span class="line">	JNZ       F1</span><br><span class="line">            	JMP      ENDINT                  ;若ESC退回</span><br><span class="line">     F1:   	CMP     AL,0DH                  ;若回车则显示时间</span><br><span class="line">           	JZ          F5</span><br><span class="line">           	CMP     AL,ES:[BX]              ;比较输入字符是否正确</span><br><span class="line">           	JZ          FO1</span><br><span class="line">           	INC       ES:ERR1+1		;统计错误次数</span><br><span class="line">           	CMP     ES:ERR1+1,39H</span><br><span class="line">           	JLE       FOR2</span><br><span class="line">           	MOV     ES:ERR1+1,30H</span><br><span class="line">           	INC       ES:ERR1</span><br><span class="line">           	JMP     FOR2         ;错误则不显示，返回，继续等待输入；</span><br><span class="line">   FO1:   STI                       ;输入正确则显示</span><br><span class="line">           	INC      BX</span><br><span class="line">           	PUSH     BX</span><br><span class="line">           PUSH     AX</span><br><span class="line">           CALL     DISCHAR</span><br><span class="line">           POP        AX</span><br><span class="line">           JMP        FOREVER</span><br><span class="line">F5:      CALL    DISTIME               ;显示时间</span><br><span class="line">           MOV      AL,0AH                  ;换行</span><br><span class="line">           CALL     DISCHAR</span><br><span class="line">           CLI</span><br><span class="line">           MOV      AL,ES:MEM1        ;恢复中断设置；</span><br><span class="line">           OR         AL,1                         ;屏蔽定时中断</span><br><span class="line">           OUT      21H,AL</span><br><span class="line">           ADD      SI,2		;移动显示下一行字符指针</span><br><span class="line">           CMP      SI,5*2</span><br><span class="line">           JZ          F4</span><br><span class="line">           JMP      NEXT                     ;继续测试</span><br><span class="line">	      F4: 	MOV	AH,1</span><br><span class="line">		INT      	16H                     ;检查是否有键按下</span><br><span class="line">           		JZ         	F4                         ;无,等待</span><br><span class="line">	              JMP      	FIRST                 ;有</span><br><span class="line">         ENDINT:   CLI</span><br><span class="line">		PUSH   	DS</span><br><span class="line">           		MOV    	DX,SAVE_08</span><br><span class="line">           		MOV    	AX,SAVE_08+2</span><br><span class="line">           		MOV    	DS,AX</span><br><span class="line">           		MOV    	AL,08H</span><br><span class="line">           		MOV    	AH,25H</span><br><span class="line">           		INT       	21H</span><br><span class="line">          		POP      	DS</span><br><span class="line">		STI</span><br><span class="line">		MOV    	AL,MEM1</span><br><span class="line">		OUT   21H,AL</span><br><span class="line">               M1:	MOV  AH,4CH</span><br><span class="line">             		INT     21H</span><br><span class="line">	TYPE_ER    ENDP</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CLINT      PROC     FAR                     ;中断服务程序</span><br><span class="line">            IN         AL,21H</span><br><span class="line">            OR        AL,1</span><br><span class="line">            OUT     21H,AL</span><br><span class="line">C2:      INC      COUNT</span><br><span class="line">            CMP     COUNT  18</span><br><span class="line">            JNE       ADJ</span><br><span class="line">            MOV     COUNT,0</span><br><span class="line">C1:      CALL    INCT</span><br><span class="line">ADJ:   MOV      AL,20H                  ;结束中断</span><br><span class="line">            OUT      20H,AL		;OCW2</span><br><span class="line">            IRET                             ;中断返回</span><br><span class="line"> CLINT      ENDP</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">INCT     PROC   NEAR</span><br><span class="line">           CMP      SEC+1,39H</span><br><span class="line">           JZ           INT1</span><br><span class="line">           INC    SEC+1                   ;加一秒</span><br><span class="line">           JMP      EXIT</span><br><span class="line">INT1: MOV      SEC+1,30H</span><br><span class="line">           INC      SEC                     ;加十秒</span><br><span class="line">           CMP      SEC,36H</span><br><span class="line">           JNZ      EXIT</span><br><span class="line">           MOV      SEC,30H</span><br><span class="line">           INC      MIN+1                   ;加一分</span><br><span class="line">           CMP      MIN+1,3AH</span><br><span class="line">           JNZ      EXIT</span><br><span class="line">           MOV      MIN+1,30H</span><br><span class="line">           INC      MIN                     ;加十分</span><br><span class="line">           CMP      MIN,36H</span><br><span class="line">           JNZ      EXIT</span><br><span class="line">           MOV      MIN,30H</span><br><span class="line">  	INC      HOURS+1                 ;加一小时</span><br><span class="line">           	CMP    HOURS+1,3AH</span><br><span class="line">           	JNZ      EXIT</span><br><span class="line">           	MOV    HOURS+1,0</span><br><span class="line">           	INC      HOURS                   ;加十小时</span><br><span class="line">EXIT:   RET</span><br><span class="line">	INCT       ENDP</span><br><span class="line"></span><br><span class="line">DISCHAR    PROC     NEAR                    ;送换行字符</span><br><span class="line">          	PUSH     DS</span><br><span class="line">           	PUSH     BX</span><br><span class="line">           	MOV      BX,0</span><br><span class="line">           	MOV      AH,0EH</span><br><span class="line">           	INT      	 10H</span><br><span class="line">           	POP	 BX</span><br><span class="line">           	POP      	 DS</span><br><span class="line">	       RET</span><br><span class="line">DISCHAR   ENDP</span><br><span class="line">DISTIME    PROC     NEAR    ;显示时、分、秒以及错误次数</span><br><span class="line">	       PUSH     DS</span><br><span class="line">           	       MOV      AX,DATA</span><br><span class="line">	       MOV      DS,AX</span><br><span class="line">           	       MOV      DX,OFFSET HOURS1</span><br><span class="line">           	       MOV      AH,9</span><br><span class="line">           	       INT        21H</span><br><span class="line">           	       POP      DS</span><br><span class="line">           	       RET</span><br><span class="line">CODE       ENDS</span><br><span class="line">           END      START</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>ch9DMA8237</title>
    <url>/2020/05/15/computer_organization/9_ch9_DMA8237/</url>
    <content><![CDATA[<h2 id="DMA8237"><a href="#DMA8237" class="headerlink" title="DMA8237"></a>DMA8237</h2><a id="more"></a>
<h3 id="内存与外设之间的数据传输控制方式"><a href="#内存与外设之间的数据传输控制方式" class="headerlink" title="内存与外设之间的数据传输控制方式"></a>内存与外设之间的数据传输控制方式</h3><p>程序控制方式</p>
<p>中断方式</p>
<p>[以上方式都需要CPU执行程序来控制数据传输；]</p>
<ul>
<li>中断过程需要额外的保护断点、标志操作；</li>
<li>中断响应和中断返回时，都要清除指令队列，重新装入程序；</li>
</ul>
<p>DMA方式</p>
<p>[外设和存储器之间直接进行数据传输，不经过CPU。]</p>
<ul>
<li><p>DMA过程中，DMAC能独立控制三大总线来访问存储器和I/O端口，</p>
<p>像CPU一样提供数据传送所需的地址信息和读写控制信息==&gt;存储器</p>
<p>－DMAC内部有地址寄存器和字节计数器</p>
</li>
</ul>
<p><img src="/2020/05/15/computer_organization/9_ch9_DMA8237/DMA.png" alt="DMA"></p>
<h3 id="DMA操作过程三个阶段"><a href="#DMA操作过程三个阶段" class="headerlink" title="DMA操作过程三个阶段"></a>DMA操作过程三个阶段</h3><ol>
<li>DMA请求；<ul>
<li>外设要求以DMA方式为它服务时，==DMA请求信号DREQ==&gt;DMAC</li>
<li>DMAC检查该信号是否被屏蔽及其优先权，if 该信号有效则</li>
<li>DMAC===发送总线请求信号HRQ==&gt;CPU的HOLD</li>
</ul>
</li>
<li>DMA响应和数据传送；<ul>
<li>DMAC接管总线===DACK信号==&gt;外设，使之成为DMA传送时被选中的设备</li>
<li>DMAC==内存地址以及I/O读写和存储器读写控制信号==&gt;存储器</li>
<li>在外设和存储器之间数据传送</li>
</ul>
</li>
<li>传送结束；<ul>
<li>DMAC放弃总线，撤消总线请求(HRQ==0)，</li>
<li>CPU检测到HRQ(HOLD)==0后，HLDA==0，</li>
<li>CPU重新获得总线控制权</li>
</ul>
</li>
</ol>
<h3 id="8237地址"><a href="#8237地址" class="headerlink" title="8237地址"></a>8237地址</h3><p>一片8237占用连续16个端口地址，用DMA+00H~DMA+0FH表示。其中，DMA表示该片8237的基地址。</p>
<p>在AT以上的微机中，使用2片8237，其地址为：</p>
<p>第一片8237，基地址DMA=0000H，使用0000H~000F  I/O地址。</p>
<p>第二片8237，基地址DMA=00C0H，使用00C0H~00CF  I/O地址</p>
<p><img src="/2020/05/15/computer_organization/9_ch9_DMA8237/8237-addr.png" alt="8237-addr"></p>
<p>传输模式：</p>
<p>单字节传输模式</p>
<ul>
<li>每次DMA操作只传送一字节，接着8237释放总线；</li>
</ul>
<p>块传输模式</p>
<ul>
<li>8237获得总线控制权后，连续传送多个字节，每传输一个字节，当前字节计数器减1当前地址寄存器加1或1，直到所要求的字节数传输完（当前字节计数器减至0），8237在EOP引脚上发出结束信号，然后释放总线</li>
</ul>
<p>请求传输模式</p>
<ul>
<li>在传输过程中，8237要检测DREQ信号（询问外设），当DREQ==0时，8237暂停传输（不释放总线），当DREQ再次==1后，继续进行传输。</li>
</ul>
<p>级联传输模式    </p>
<ul>
<li>多片8237级联时，可以构成主从式DMA系统。级联的方式是把从片的请求线HRQ==&gt;主片的DREQ引脚，主DACK==&gt;从片的HLDA引脚</li>
</ul>
<h3 id="8237寄存器"><a href="#8237寄存器" class="headerlink" title="8237寄存器"></a>8237寄存器</h3><p><img src="/2020/05/15/computer_organization/9_ch9_DMA8237/8237-reg.png" alt="8237-reg"></p>
<h3 id="8237的初始化编程"><a href="#8237的初始化编程" class="headerlink" title="8237的初始化编程"></a>8237的初始化编程</h3><p>1.输出主清除命令</p>
<p>2.写入基地址与现行地址寄存器</p>
<p>3.写入基字节数与现行字节数寄存器</p>
<p>4.写入方式寄存器</p>
<p>5.写入屏蔽寄存器</p>
<p>6.写入控制寄存器</p>
<p>7.写入请求寄存器</p>
<p>若有软件请求，就写入指定通道，便可以开始DMA传送的过程。</p>
<p>若无软件请求，由通道的DREQ启动DMA传送过程 </p>
<p>eg. 若要利用通道0，由外设（磁盘）输入32KB的一个数据块，传送至内存8000H开始的区域（增量传送），</p>
<p>采用数据块连续传送的方式，传送完不自动初始化，</p>
<p>外设的DREQ和DACK都为高电平有效。要编程首先要确定端口地址。</p>
<p>地址的低4位以区分8237A的内部寄存器，高4位地址A7~A4，经译码后，连至选片端CS#，假定选中时高4位为7</p>
<p>solution:依据要求，</p>
<ol>
<li><p>方式控制字为84H；</p>
<p><img src="/2020/05/15/computer_organization/9_ch9_DMA8237/mode.PNG" alt="mode"></p>
</li>
<li><p>屏蔽寄存器的单屏蔽字为00H；</p>
<p><img src="/2020/05/15/computer_organization/9_ch9_DMA8237/pinbi.png" alt="pinbi"></p>
</li>
<li><p>命令字0A0H</p>
<p><img src="/2020/05/15/computer_organization/9_ch9_DMA8237/control.PNG" alt="control"></p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">OUT		7DH,AL		 ;输出主清除命令:对端口0DH写入0，使8237复位,70+DH&#x3D;&gt;复位寄存器</span><br><span class="line">MOV 	AL, 00H</span><br><span class="line">OUT 	70H, AL;输出基地址和现行地址低8位，70+0H&#x3D;&gt;基地址 reg 0</span><br><span class="line">MOV 	AL, 80H</span><br><span class="line">OUT 	70H, AL;输出基地址和现行地址高8位</span><br><span class="line"></span><br><span class="line">MOV 	AL, 00H</span><br><span class="line">OUT 	71H, AL       ;70+1H&#x3D;&gt;基字节 counter</span><br><span class="line">MOV 	AL, 80H</span><br><span class="line">OUT 	71H, AL;给基字节数和现行字节数</span><br><span class="line">			      ;寄存器赋值为32768</span><br><span class="line">MOV 	AL, 84H		</span><br><span class="line">OUT 	7BH, AL		 ;输出方式字,70+BH&#x3D;&gt;mode reg </span><br><span class="line">MOV 	AL, 00H</span><br><span class="line">OUT 	7AH, AL 	;输出屏蔽字,70+AH&#x3D;&gt;屏蔽 reg</span><br><span class="line">MOV 	AL, 0A0H</span><br><span class="line">OUT 	78H, AL		 ;输出命令字 , 70+8H&#x3D;&gt; control reg</span><br></pre></td></tr></table></figure>
<p>1.简述DMA数据传送方式过程、特点和优点。</p>
<p>2.在DMA方式数据传输过程中，是由DMAC控制总线。</p>
<p>3.CPU与外设之间的数据传送控制方式有哪三种？</p>
]]></content>
      <categories>
        <category>计算机组成原理</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>computer organization</tag>
        <tag>assembly language</tag>
      </tags>
  </entry>
  <entry>
    <title>Appendix-Jury&#39;s Criterion</title>
    <url>/2020/05/15/control_system/Appendix-Jury&#39;s%20Criterion/</url>
    <content><![CDATA[<h1 id="Jury’s-Criterion"><a href="#Jury’s-Criterion" class="headerlink" title="Jury’s Criterion"></a>Jury’s Criterion</h1><a id="more"></a>
<p><img src="/2020/05/15/control_system/Appendix-Jury's%20Criterion/Jury_criterion.png" alt="criteraion"></p>
<p><img src="/2020/05/15/control_system/Appendix-Jury's%20Criterion/Jury_calculate.png" alt="calculate"></p>
<p><img src="/2020/05/15/control_system/Appendix-Jury's%20Criterion/Jury_criterion02.png" alt="criterion02"></p>
<p><img src="/2020/05/15/control_system/Appendix-Jury's%20Criterion/Jury_example.png" alt="example"></p>
]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>Appendix-settling and peak time</title>
    <url>/2020/05/15/control_system/Appendix-T_s%20and%20T_p/</url>
    <content><![CDATA[<h1 id="T-s-and-T-p"><a href="#T-s-and-T-p" class="headerlink" title="T_s and T_p"></a>T_s and T_p</h1><a id="more"></a>
<script type="math/tex; mode=display">
G(s) = \frac{\omega_n^2}{s^2 + 2 \zeta \omega_n s + \omega_n^2} \\ 
= \frac{\omega_n^2}{(s+\zeta\omega_n + j \sqrt{1-\zeta^2}\omega_n)(s+\zeta\omega_n - j \sqrt{1-\zeta^2}\omega_n)}\\
= \frac{A}{s+\zeta\omega_n + j \sqrt{1-\zeta^2}\omega_n}
- \frac{A}{s+\zeta\omega_n - j \sqrt{1-\zeta^2}\omega_n}</script><p>here</p>
<script type="math/tex; mode=display">
-2A j \sqrt{1-\zeta^2}\omega_n = \omega_n^2 \\
A = \frac{j\omega_n}{2\sqrt{1-\zeta^2}}</script><p>So</p>
<script type="math/tex; mode=display">
G(s) = \frac{j\omega_n}{2\sqrt{1-\zeta^2}} 
[\frac{1}{s+\zeta\omega_n + j \sqrt{1-\zeta^2}\omega_n}
- \frac{1}{s+\zeta\omega_n - j \sqrt{1-\zeta^2}\omega_n}]\\
g(t) = \frac{j\omega_n}{2\sqrt{1-\zeta^2}}
[e^{-(\zeta\omega_n + j \sqrt{1-\zeta^2}\omega_n)t}
-e^{-(\zeta\omega_n - j \sqrt{1-\zeta^2}\omega_n)t}]\\
= \frac{j\omega_n}{2\sqrt{1-\zeta^2}}e^{-\zeta\omega_n t} 
[-2j\sin(\sqrt{1-\zeta^2}\omega_n t)]\\
= \frac{\omega_n}{\sqrt{1-\zeta^2}}e^{-\zeta\omega_n t}
\sin(\sqrt{1-\zeta^2}\omega_n t)</script><p>So the output:</p>
<script type="math/tex; mode=display">
Y(s) = \frac{1}{s} G(s)\\
y(t) = u(t) * g(t) = \int^t_{0_-} g(\tau) d\tau\\
\mathbb{L}[y'(t)] = sY(s) - y(0_-) = sY(s) = G(s)</script><p>So we have</p>
<script type="math/tex; mode=display">
y'(t) = g(t) = \frac{\omega_n}{\sqrt{1-\zeta^2}}e^{-\zeta\omega_n t}
\sin(\sqrt{1-\zeta^2}\omega_n t)</script><p>Now we want to calculate y(t), consider</p>
<script type="math/tex; mode=display">
\int^t_0 e^{-a\tau}\sin(b\tau) d\tau\\
= \int^t_0 \text{Im}[e^{(-a+jb)\tau}] d\tau\\
= \text{Im}[ \int^t_0 e^{(-a+jb)\tau} d\tau ]\\
= \text{Im}[ \frac{1}{a-jb} [1 - e^{(-a+jb)t}] ]\\
= \text{Im}[ \frac{a+jb}{a^2 + b^2} [1-e^{-at}\cos(bt)
-je^{-at}\sin(bt)]  ]\\
= \frac{1}{a^2+b^2} [-ae^{-at}\sin(bt) + b - be^{-at}\cos(bt)]\\
= \frac{b}{a^2+b^2} - \frac{e^{-at}}{a^2+b^2} \sqrt{a^2+b^2}\sin(bt+\phi)</script><p>Here</p>
<script type="math/tex; mode=display">
\tan(\phi) = \frac{b}{a}</script><p>in all</p>
<script type="math/tex; mode=display">
y(t) = \int^t_{0_-} g(\tau) d\tau\\
= \frac{\omega_n}{\sqrt{1-\zeta^2}} 
\int^t_{0_-} e^{-\zeta\omega_n \tau}
\sin(\sqrt{1-\zeta^2}\omega_n \tau) d\tau\\
= \frac{\omega_n}{\sqrt{1-\zeta^2}} 
[ \frac{\sqrt{1-\zeta^2}\omega_n}{\omega_n^2} - 
\frac{e^{-\zeta\omega_n t}}{\omega_n}
\sin(\sqrt{1-\zeta^2}\omega_n t + \phi)]\\
= 1 - \frac{e^{-\zeta\omega_n t}}{\sqrt{1-\zeta^2}}
\sin(\sqrt{1-\zeta^2}\omega_n t + \phi)</script><p>Here</p>
<script type="math/tex; mode=display">
\tan(\phi) = \frac{\sqrt{1-\zeta^2}}{\zeta}\\
\sin(\phi) = \sqrt{1-\zeta^2}\\
\cos(\phi) = \zeta</script><h2 id="Calculate-T-s"><a href="#Calculate-T-s" class="headerlink" title="Calculate T_s"></a>Calculate T_s</h2><p>For T_s</p>
<script type="math/tex; mode=display">
T_s = \frac{4}{\zeta \omega_n}\\
e^{-\zeta\omega_n T_s} = e^{-4} \approx 0.02</script><h2 id="Calculate-overshoot-and-T-p"><a href="#Calculate-overshoot-and-T-p" class="headerlink" title="Calculate overshoot and T_p"></a>Calculate overshoot and T_p</h2><p>set y’(T_p) = 0</p>
<script type="math/tex; mode=display">
y'(t=T_p) = \frac{\omega_n}{\sqrt{1-\zeta^2}}e^{-\zeta\omega_n T_p}
\sin(\sqrt{1-\zeta^2}\omega_n T_p) = 0\\
\sqrt{1-\zeta^2}\omega_n T_p = \pi\\
T_p = \frac{\pi}{\sqrt{1-\zeta^2}\omega_n}</script><p>here we have</p>
<script type="math/tex; mode=display">
1 + \% = y(t=T_p) \\
= 1 - \frac{e^{-\zeta\omega_n T_p}}
{\sqrt{1-\zeta^2}}
\sin(\sqrt{1-\zeta^2}\omega_n T_p + \phi)\\
= 1 - \frac{e^{-\zeta\omega_n T_p}}
{\sqrt{1-\zeta^2}}
\sin(\pi + \phi)\\
= 1 + \frac{e^{-\zeta\omega_n T_p}}
{\sqrt{1-\zeta^2}} \sqrt{1-\zeta^2}\\
= 1 + e^{-\zeta\omega_n T_p}
= 1 + e^{-\pi \frac{\zeta}{\sqrt{1-\zeta^2}}}</script><p>So, we have</p>
<script type="math/tex; mode=display">
\% = e^{-\pi \frac{\zeta}{\sqrt{1-\zeta^2}}}\\
-\frac{\ln(\%)}{\pi} = \frac{\zeta}{\sqrt{1-\zeta^2}}\\
\frac{-\ln(\%)}{\sqrt{\pi^2 + \ln^2(\%)}} = \zeta</script>]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>Lecture 13-Linearization</title>
    <url>/2020/05/15/control_system/Lecture%2013-Linearization/</url>
    <content><![CDATA[<h1 id="Chap-2-Linearizatin"><a href="#Chap-2-Linearizatin" class="headerlink" title="Chap 2: Linearizatin"></a>Chap 2: Linearizatin</h1><a id="more"></a>
<script type="math/tex; mode=display">
y-y_0 = y_0'(x-x_0)</script><h2 id="example-1"><a href="#example-1" class="headerlink" title="example 1"></a>example 1</h2><p>nonlinear r: $i_r = e^{V_r}$<br>so</p>
<script type="math/tex; mode=display">
C \frac{dV}{dt} + i_r -i(t) - 2 = 0</script><p>replace</p>
<script type="math/tex; mode=display">
V = V_0 + \delta V\\
i_r = e^{V_r} = e^{V_0 + \delta V}</script><p>So we obtain, here C = 1</p>
<script type="math/tex; mode=display">
\frac{d\delta V}{dt} + e^{V_0 + \delta V} - 2 = i(t)</script><p>replace $e^{V_0 + \delta V} \approx e^{V_0} + e^{V_0} \delta V$\<br>So we havee</p>
<script type="math/tex; mode=display">
\frac{d\delta V}{dt} + e^{V_0} + e^{V_0} \delta V - 2 = i(t)</script><p>Thus means</p>
<script type="math/tex; mode=display">
\frac{d\delta V}{dt} + e^{V_0} \delta V = i(t) + 2 - e^{V_0}</script><p>Because $i_r|_{V_r = V_0} = e^{V_0} = 2, V_0 = ln(2) = 0.693$<br>so, simplyfied equation:</p>
<script type="math/tex; mode=display">
\frac{d\delta V}{dt} + 2 \delta V = i(t)</script><p>Then do laplace transform $\mathbb{L}$</p>
<script type="math/tex; mode=display">
(s+2)\delta V(s) - \delta V(0_-) = I(s)</script><p>because</p>
<script type="math/tex; mode=display">
\int_{0_-}^{\infty} \frac{df(t)}{dt}e^{-st}dt
= e^{-st} f(t)|_{0_-}^{\infty} + s \int_{0_-}^{\infty} f(t)e^{-st}dt\\
\mathbb{L}[\frac{df(t)}{dt}] = s\mathbb{L}[f(t)] - f(0_-)</script><h2 id="example-2"><a href="#example-2" class="headerlink" title="example 2"></a>example 2</h2><script type="math/tex; mode=display">
M \frac{d^2 y(t)}{dt^2} = Mg - \frac{i^2(t)}{y(t)}\\

V(t) = R i(t) + L \frac{d i(t)}{dt}</script><p>V(t) is input, now select varaible</p>
<script type="math/tex; mode=display">
X_1 = y(t)\\
X_2 = \frac{dy(t)}{dt}\\
X_3 = i(t)</script><p>So we obtain</p>
<script type="math/tex; mode=display">
\dot{X_1} = X_2\\
\dot{X_2} = -\frac{X_3^2}{MX_1} + g\\
\dot{X_3} = - \frac{R}{L} X_3 + V(t)</script><p>Find balanced point, suppose input $V(t) = V_0 + \Delta V(t), i(t) = i_0 + \Delta i(t), y(t) = y_0 + \Delta y(t)$\<br>Then we have, by set $\dot{X} = 0$</p>
<script type="math/tex; mode=display">
0 = \frac{dy(t)}{dt} |_{y(t) = y_0}\\
0 = Mg- \frac{i_0^2}{y_0}\\
V_0 = R i_0</script><p>now express Phase variable balanced poit with input balanced point $V_0$</p>
<script type="math/tex; mode=display">
i_0 = \frac{V_0}{R}\\
y_0 = \frac{i_0^2}{Mg} = \frac{V_0^2}{R^2 Mg}</script><p>Thus means</p>
<script type="math/tex; mode=display">
X_{10} = y_0 = \frac{V_0^2}{R^2 Mg}\\
X_{20} = \frac{dy(t)}{dt} |_{y(t) = y_0} = 0\\
X_{30} = i_0 = \frac{V_0}{R}</script><p>Now define $\delta X \equiv X - X_0, \delta V = V - V_0$</p>
<script type="math/tex; mode=display">
\dot{\delta} X_1= \delta X_2\\
\dot{\delta} X_2= \frac{\partial[-\frac{X_3^2}{MX_1}]}{\partial X_1}|_{X=X_0} \delta X_1 + \frac{\partial[-\frac{X_3^2}{MX_1}]}{\partial X_3}|_{X=X_0} \delta X_3\\
= [\frac{X_3^2}{MX_1^2}]|_{X=X_0} \delta X_1 + [-\frac{2X_3}{MX_1}]|_{X=X_0} \delta X_3\\
= \frac{R^2Mg^2}{V_0^2}\delta X_1 + [\frac{-2Rg}{V_0}] \delta X_3\\
\dot{\delta} X_3 = - \frac{R}{L} \delta X_3 + \delta V(t)</script><p>Thus means</p>
<script type="math/tex; mode=display">
\dot{\delta} X = 
\begin{bmatrix}
0 & 1 & 0\\
\frac{R^2Mg^2}{V_0^2} & 0 & \frac{-2Rg}{V_0}\\
0 & 0 & - \frac{R}{L}
\end{bmatrix}
\delta X +
\begin{bmatrix}
0\\ 0\\ 1
\end{bmatrix}
\delta V</script><p>Then calculate the poles of linearized model:\<br>if poles are all in left plane &lt;=&gt; the model is stable!!!</p>
<p>Then verify it is Controllable or Not?</p>
<script type="math/tex; mode=display">
|C_M| =[B \quad AB \quad A^2B]\

=\begin{bmatrix}

0 & 0 & \frac{-2Rg}{V_0}\\

0 & \frac{-2Rg}{V0} & \frac{2R^2g}{LV0}\\

1 & - \frac{R}{L} & \frac{R^2}{L^2}

\end{bmatrix}

\neq 0</script><p>If so, we could control it, to make the model stable</p>
]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>Lecture 2- State Space Representation</title>
    <url>/2020/05/15/control_system/Lecture%202-%20State%20Space%20Representation/</url>
    <content><![CDATA[<h1 id="Lecture-2"><a href="#Lecture-2" class="headerlink" title="Lecture 2"></a>Lecture 2</h1><p>Lecture 2- State Space Representation<br><a id="more"></a></p>
<h2 id="symbols"><a href="#symbols" class="headerlink" title="symbols"></a>symbols</h2><script type="math/tex; mode=display">\dot{X}(t) = AX(t) + BU(t)</script><script type="math/tex; mode=display">Y(t) = CX(t) + DU(t)</script><p>$\dot{X}(t)$ derivative of state vector</p>
<p>$X(t)$ state vector | nx1</p>
<p>$Y(t)$ output vector | px1</p>
<p>$U(t)$ input/control vector | mx1</p>
<p>$A$ symstem matrix | nxn</p>
<p>$B$ input matrix | nxm</p>
<p>$C$ output matrix | pxn</p>
<p>$D$ feedforward matrix | pxm</p>
<p>set $X(t)|_{t=0} = 0​$, do Laplace Transfrom</p>
<script type="math/tex; mode=display">sX(s) = AX(s) + BU(s)​</script><script type="math/tex; mode=display">Y(s) = CX(s) + DU(s)​</script><p>so,</p>
<script type="math/tex; mode=display">X(s) = (sI-A)^{-1} BU(s) = \frac{adj(sI-A)B}{det(sI-A)} U(s)</script><script type="math/tex; mode=display">Y(s) = [\frac{Cadj(sI-A)B}{det(sI-A)} + D] U(s)</script><p>thus, transfer function $G(s)$</p>
<script type="math/tex; mode=display">G(s) \equiv \frac{Y(s)}{U(s)} = \frac{Cadj(sI-A)B}{det(sI-A)} + D​</script><p>if $X(t)|_{t=0} = X(0)$</p>
<script type="math/tex; mode=display">
sX(s)-X(0) = AX(s) + BU(s)\\
Y(s) = CX(s) + DU(s)</script><p>then</p>
<script type="math/tex; mode=display">
Y(s) = C(sI-A)^{-1}X(0) + C(sI-A)^{-1}BU(s) + DU(s)</script><p>Here set $\Phi(t) \equiv L[(sI-A)^{-1}] = e^{At} = \sum_{k=0}^{\infty} \frac{t^k A^k}{k!}​$</p>
<p>in other way </p>
<script type="math/tex; mode=display">
(sI-A)^{-1} = \Bigg\{
\begin{aligned}
-A^{-1}(I-sA^{-1})^{-1} = -A^{-1}[\sum^{\infty}_{k=0}s^kA^{-k}]  && |s|< \lambda_{min}\\
s^{-1}(I-\frac{A}{s})^{-1} = \frac{1}{s}[\sum^{\infty}_{k=0}s^{-k}A^{k}]  && |s|> \lambda_{max}\\

\end{aligned}</script><p>Here $\frac{1}{s^{k+1}} = L^{-1}[\frac{t^k}{k!}]$</p>
<p>So we can get $(sI-A)^{-1}|_{s=0} = -A^{-1}, \lim_{s\to \infty} s(sI-A)^{-1}=I​$</p>
]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>Lecture 12-Design Via State Space</title>
    <url>/2020/05/15/control_system/Lecture%2012-Design%20Via%20State%20Space/</url>
    <content><![CDATA[<h1 id="Design-Via-State-Space"><a href="#Design-Via-State-Space" class="headerlink" title="Design Via State Space"></a>Design Via State Space</h1><a id="more"></a>
<p>formula often used</p>
<script type="math/tex; mode=display">
\zeta = \frac{-ln(\%)}{\sqrt{ln(\%)^2+\pi^2}}\\
T_s = \frac{4}{\zeta \omega_n}\\
T_p = \frac{\pi}{\sqrt{1-\zeta^2} \omega_n}</script><p>where T_s represent settling time; T_p represent peak time\<br>so for the polynomial:</p>
<script type="math/tex; mode=display">
s^2 + 2\zeta \omega_n s + \omega_n^2\\
2\zeta \omega_n = \frac{8}{T_s} = \frac{-2 ln(\%)}{T_p}\\
\omega_n^2 = \frac{16 (ln(\%)^2+\pi^2)}{ln(\%)^2 T_s^2}
= \frac{ln(\%)^2+\pi^2}{T_p^2}</script><p><img src="/2020/05/15/control_system/Lecture%2012-Design%20Via%20State%20Space/controller_observer.png" alt="controller observer"></p>
<h2 id="Controllability"><a href="#Controllability" class="headerlink" title="Controllability"></a>Controllability</h2><p>The basic equation set: (D alaways = 0)</p>
<script type="math/tex; mode=display">
\dot{X} = A X + B U\\
Y = C X + D</script><p>Introduce the Controller K always 1xN, \<br>where U always 1x1</p>
<script type="math/tex; mode=display">
U = r - KX</script><p>So, we obtain</p>
<script type="math/tex; mode=display">
\dot{X} = AX + B(r - K U) = (A-BK)X + Br</script><p>if we could manipulate th poles of $|sI- (A-BK)|$<br>Thus means</p>
<script type="math/tex; mode=display">
Y = C \mathbb{L^{-1}}[(sI - (A-BK))^{-1}] * \mathbb{L^{-1}}[BR(s)]</script><h3 id="Transformation"><a href="#Transformation" class="headerlink" title="Transformation"></a>Transformation</h3><p>Here</p>
<script type="math/tex; mode=display">Z = PX</script><p>We have</p>
<script type="math/tex; mode=display">
\dot{Z} = AZ + BU \\
Y = C Z\\
U = r - KZ</script><p>That means we have</p>
<script type="math/tex; mode=display">
\dot{X} = P^{-1}APX + P^{-1}BU\\
Y = CPX\\
U = r - KPX</script><p>Compare with</p>
<script type="math/tex; mode=display">
\dot{X} = A_x X + B_x U\\
Y = C_x X\\
U = r - K_x X</script><p>So we have:</p>
<script type="math/tex; mode=display">
A_x = P^{-1}AP\\
B_x = P^{-1}B\\
C_x = CP\\
K_x = KP</script><p>Then we have</p>
<script type="math/tex; mode=display">
C_{Mx} = [B_x \space A_xB_x \cdots A_x^{N-1}B_x] = P^{-1}C_{Mz}</script><p>where X is observer canonical form\<br>Z is other form (like phase variable form, cascade form)</p>
<script type="math/tex; mode=display">
P = C_{Mz}C_{Mx}^{-1}\

K_z = K_xP^{-1}</script><h2 id="Observability"><a href="#Observability" class="headerlink" title="Observability"></a>Observability</h2><p><img src="/2020/05/15/control_system/Lecture%2012-Design%20Via%20State%20Space/observer.png" alt="observer"></p>
<script type="math/tex; mode=display">
\dot{\hat{X}} = A \hat{X} + BU + L(Y - \hat{Y})\\
\hat{Y} = C \hat{X}</script><p>so with</p>
<script type="math/tex; mode=display">
\dot{X} = A X + B U\\
Y = C X</script><p>then obtain</p>
<script type="math/tex; mode=display">
\dot{X} - \dot{\hat{X}} = A(X - \hat{X}) - LC(X- \hat{X})\\
=(A-LC) (X - \hat{X})</script><p>define $e_X \equiv (X - \hat{X})$, we have</p>
<script type="math/tex; mode=display">
\dot{e}_X = (A-LC) e_X</script><p>If all poles of (A-LC) in the left plane</p>
<script type="math/tex; mode=display">
\lim_{t\to \infty} e_X = (X - \hat{X}) = 0</script><p>Then we could use $\hat{X}$ to estimate $X$\<br>regardless the influence of initial value $\hat{X}(0)$ and $X(0)$</p>
<h3 id="Transformation-1"><a href="#Transformation-1" class="headerlink" title="Transformation"></a>Transformation</h3><script type="math/tex; mode=display">Z = PX</script><p>where X is observer canonical form\<br>Z is other form (like phase variable form, cascade form)</p>
<script type="math/tex; mode=display">
(\dot{Z} - \dot{\hat{Z}}) = (A-LC)(Z - \hat{Z})</script><p>Then we have</p>
<script type="math/tex; mode=display">
(\dot{X} - \dot{\hat{X}}) = P^{-1}(A-LC)P(X - \hat{X})</script><p>So we have:</p>
<script type="math/tex; mode=display">
A_x = P^{-1}AP\\
B_x = P^{-1}B\\
C_x = CP\\
L_x = P^{-1}L</script><p>Now calculate $O_{Mx}$</p>
<script type="math/tex; mode=display">
O_{Mx} = \begin{bmatrix}
C_x\\ C_xA_x\\ \vdots\\ C_xA_x^{N-1}
\end{bmatrix} = O_{Mz} P</script><p>So, in conclusion:</p>
<script type="math/tex; mode=display">
P = O_{Mz}^{-1}O_{Mx}\

L_z = PL_x</script><h2 id="Integral-Control-with-0-Steady-State-Error"><a href="#Integral-Control-with-0-Steady-State-Error" class="headerlink" title="Integral Control with 0 Steady-State Error"></a>Integral Control with 0 Steady-State Error</h2><p><img src="/2020/05/15/control_system/Lecture%2012-Design%20Via%20State%20Space/integral_controller.png" alt="integral_controller"></p>
<script type="math/tex; mode=display">
U = V - KX\\
\frac{(R-Y)}{s} K_e =X_N K_e =  V \equiv \frac{Y}{T(s)}</script><p>So</p>
<script type="math/tex; mode=display">
\frac{Y}{R} = \frac{K_e \frac{T(s)}{s}}{1+K_e \frac{T(s)}{s}}</script><p>Then</p>
<script type="math/tex; mode=display">
e_{ss} = \lim_{s\to 0+} sR(s) (1 - \frac{Y(s)}{R(s)})\\
= \lim_{s\to 0+} \frac{1}{1+K_e \frac{T(s)}{s}}\\
= \lim_{s\to 0+} \frac{s}{s+K_e T(s)} = 0</script><p>Because</p>
<script type="math/tex; mode=display">
\dot{x}_{N}=R- Y = R- CX = [-C \space 0]
\begin{bmatrix}
X \\ x_N
\end{bmatrix} + R</script><p>so</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
\dot{X} \\ \dot{x}_N
\end{bmatrix}=
\begin{bmatrix}
A & 0\\
-C & 0
\end{bmatrix}
\begin{bmatrix}
X \\ x_N
\end{bmatrix}+
\begin{bmatrix}
B \\ 0
\end{bmatrix}U+
\begin{bmatrix}
0 \\ 1
\end{bmatrix}R</script><p>because</p>
<script type="math/tex; mode=display">
U = K_e x_N - K X=[-K\space K_e]

\begin{bmatrix}

X \\ x_N

\end{bmatrix}</script><p>we have</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
\dot{X} \\ \dot{x}_N
\end{bmatrix}=(
\begin{bmatrix}
A & 0\\
-C & 0
\end{bmatrix}+
\begin{bmatrix}
B \\ 0
\end{bmatrix}
[-K\space K_e]
)
\begin{bmatrix}
X \\ x_N
\end{bmatrix}+
\begin{bmatrix}
0 \\ 1
\end{bmatrix}R\\

=\begin{bmatrix}
A-BK & BK_e\\
-C & 0
\end{bmatrix}
\begin{bmatrix}
X \\ x_N
\end{bmatrix}+
\begin{bmatrix}
0 \\ 1
\end{bmatrix}R</script><h2 id="Why-zero-of-T-s-Not-change-with-Controller"><a href="#Why-zero-of-T-s-Not-change-with-Controller" class="headerlink" title="Why zero of T(s) Not change with Controller"></a>Why zero of T(s) Not change with Controller</h2><p>we know</p>
<script type="math/tex; mode=display">
G(s) = \frac{C \text{adj}(sI - A)B}{|sI - A|}\\
T(s) = \frac{C \text{adj}(sI - A + BK)B}{|sI - A + BK|}</script><p>why the numurator of G(S), T(s) is the same, because $\forall C$, so must prove</p>
<script type="math/tex; mode=display">
\text{adj}(sI - A)B = \text{adj}(sI - A + BK)B</script><p>that is mean $\forall A$ (replace sI-A with A)</p>
<script type="math/tex; mode=display">
\text{adj}(A)B = \text{adj}(A + BK)B</script><h3 id="lemma-Cramer’s-Rule"><a href="#lemma-Cramer’s-Rule" class="headerlink" title="lemma: Cramer’s Rule"></a>lemma: Cramer’s Rule</h3><p>for $AX = B$, where</p>
<script type="math/tex; mode=display">
X = \begin{bmatrix}
x_1\\
\vdots\\
x_i\\
\vdots\\
x_N
\end{bmatrix}</script><p>We have</p>
<script type="math/tex; mode=display">
X = A^{-1}B = \frac{\text{adj}(A)B}{|A|} = \frac{|A \stackrel{i}{\leftarrow} B|\text{for x_i}}{|A|}\\
x_i |A| = \text{adj}(A)B \quad \text{ith element}= |A \stackrel{i}{\leftarrow} B|</script><p>Here</p>
<script type="math/tex; mode=display">
A =\left(\mathbf{a}_{1} \cdots \mathbf{a}_{n}\right)\\
\left(A^{i} \leftarrow B\right) \stackrel{\text { def }}{=}\left(\begin{array}{llllll}{\mathbf{a}_{1}} & {\cdots} & {\mathbf{a}_{i-1}} & B & {\mathbf{a}_{i+1}} & {\cdots} & {\left.\mathbf{a}_{n}\right)}\end{array}\right.</script><h3 id="proof"><a href="#proof" class="headerlink" title="proof"></a>proof</h3><script type="math/tex; mode=display">
\text{adj}(A+BK)B \quad \text{ith element}
= |(A+BK) \stackrel{i}{\leftarrow} B|\\
= \left|\begin{array}{llllll}{\mathbf{a}_{1}}+k_1B & {\cdots} & {\mathbf{a}_{i-1}}+k_{i-1}B & B & {\cdots} & {\mathbf{a}_{N}+k_NB}|\end{array}\right.\\
= \left|\begin{array}{llllll}{\mathbf{a}_{1}} & {\cdots} & {\mathbf{a}_{i-1}} & B & {\cdots} & {\mathbf{a}_{N}}|\end{array}\right.\\
= |A \stackrel{i}{\leftarrow} B| 
= \text{adj}(A)B \quad \text{ith element}\\</script><h3 id="Another-rule-A-BK-A-Kadj-A-B"><a href="#Another-rule-A-BK-A-Kadj-A-B" class="headerlink" title="Another rule $|A+BK| = |A| + Kadj(A)B$"></a>Another rule $|A+BK| = |A| + Kadj(A)B$</h3><script type="math/tex; mode=display">
|A+BK| = \left|\begin{array}{llllll}{\mathbf{a}_{1}}+k_1B & {\cdots} & {\mathbf{a}_{i}}+k_{i}B & {\cdots} & {\mathbf{a}_{N}+k_NB}|\end{array}\right.\\
= \left|\begin{array}{llllll}{\mathbf{a}_{1}} & {\cdots} & {\mathbf{a}_{i-1}} & {\cdots} & {\mathbf{a}_{N}}|\end{array}\right. \\
+ \sum_i k_i \left|\begin{array}{llllll}{\mathbf{a}_{1}} & {\cdots} & {\mathbf{a}_{i-1}} & B & {\cdots} & {\mathbf{a}_{N}}|\end{array}\right.\\
= |A| + \sum_i k_i \space [\text{adj}(A)B \quad \text{ith element}]\\
= |A| + K \text{adj}(A)B</script><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><script type="math/tex; mode=display">
G(s) = \frac{C \text{adj}(sI - A)B}{|sI - A|}
= \frac{N(s)}{D_1(s)}\\
T(s) = \frac{C \text{adj}(sI - A + BK)B}{|sI - A + BK|}\\
= \frac{C \text{adj}(sI - A)B}{|sI - A| + K \text{adj}(sI-A)B} = \frac{N(s)}{D_2(s)}</script><p>if we introduce K_e</p>
<script type="math/tex; mode=display">
\frac{Y(s)}{R(s)} \equiv T'(s) = \frac{K_e \frac{T(s)}{s}}{1+K_e \frac{T(s)}{s}}\\
= \frac{K_e N(s)}{sD_2(s) + K_e N(s)}</script><p>So no matter introduce K and K_e, zeros of T(s) Not change</p>
]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>Lecture 3-Signal Flow Graph</title>
    <url>/2020/05/15/control_system/Lecture%203-Signal%20Flow%20Graph/</url>
    <content><![CDATA[<h1 id="5-6-Signal-Flow-Graphs-of-State-Equations"><a href="#5-6-Signal-Flow-Graphs-of-State-Equations" class="headerlink" title="5.6 Signal-Flow Graphs of State Equations"></a>5.6 Signal-Flow Graphs of State Equations</h1><a id="more"></a>
<p>P254 of edition 7 book<br>Forms:</p>
<ol>
<li>Phase variable</li>
<li>Cascade</li>
<li>Parallel</li>
<li>Controller canonical</li>
<li>Observer canonical</li>
</ol>
<script type="math/tex; mode=display">
G(s) = \frac{b_m s^m + ... + b_0}{s^n + a_{n-1} s^{n-1} + ... + a_0 }</script><h2 id="Phase-variable"><a href="#Phase-variable" class="headerlink" title="Phase variable"></a>Phase variable</h2><p><img src="/2020/05/15/control_system/Lecture%203-Signal%20Flow%20Graph/phase_variable.png" alt="phase variable"></p>
<p>define $X_1(s) \equiv R(s)/(s^n + a_{n-1} s^{n-1} + … + a_0)$ \<br>Then define $X_2(s) = sX_1(s),\cdots, X_{n}(s)=sX_{n-1}(s)$\<br>So $X_{k}(s) = s^{k-1} X_1(s)$</p>
<p>then</p>
<script type="math/tex; mode=display">
R(s) = (s^n + a_{n-1} s^{n-1} + ... + a_0)X_1(s)\\
=sX_n(s) + (a_{n-1}X_n(s) + ... + a_0 X_1(s))</script><p>rearrange it</p>
<script type="math/tex; mode=display">
sX_{k}(s) = X_{k+1}(s)\\
sX_n(s) = -(a_0X_1(s) + ... + a_{n-1} X_n(s)) + R(s)</script><p>Moreover</p>
<script type="math/tex; mode=display">
C(s) = (b_m s^m + ... + b_0)X_1(s)\\
= b_m X_{m+1}(s) + ... + b_0 X_1(s)</script><p>So </p>
<script type="math/tex; mode=display">
A=
\begin{bmatrix}
0 & 1 &  0 & \cdots & 0\\
0 & 0 &  1 & \cdots & 0\\
\vdots & \vdots & \vdots & \vdots & \vdots\\
0 & 0 &  0 & \cdots & 1\\
-a_0 & -a_1 & -a_2 & \cdots & -a_{n-1}
\end{bmatrix}
B = 
\begin{bmatrix}
0\\ 0\\ \vdots\\ 0\\ 1
\end{bmatrix}
\\
C = 
\begin{bmatrix}
b_0 & \cdots & b_{m+1} & \cdots & 0
\end{bmatrix}</script><p>and</p>
<script type="math/tex; mode=display">\dot{X} = AX + Br\\
Y = CX</script><h2 id="Cascade"><a href="#Cascade" class="headerlink" title="Cascade"></a>Cascade</h2><p><img src="/2020/05/15/control_system/Lecture%203-Signal%20Flow%20Graph/cascade.png" alt="cascade"></p>
<script type="math/tex; mode=display">
G(s) = \prod \frac{1}{s-s_k} \prod \frac{s-p_k}{s-s_k} * K</script><p>define $X_n(s) = R(s) \frac{1}{s-s_n}$, here $sX_n(s) = s_n X_n(s) + R(s)$</p>
<p>define $A_k(s) = A_{k+1}(s) \frac{s-p_k}{s-s_k}$</p>
<p>moreover</p>
<script type="math/tex; mode=display">
A_{k+1}(s) + s_k X_k(s) = sX_k(s)\\
sX_k(s) - p_kX_k(s) = A_k(s)</script><p>so</p>
<script type="math/tex; mode=display">
sX_k(s) = p_kX_k(s) + A_k(s)\\
= p_kX_k(s) + (s-s_{k-1})X_{k-1}(s)\\
s[X_k(s)-X_{k-1}(s)] = p_kX_k(s) -s_{k-1}X_{k-1}(s)</script><h2 id="Parallel"><a href="#Parallel" class="headerlink" title="Parallel"></a>Parallel</h2><p><img src="/2020/05/15/control_system/Lecture%203-Signal%20Flow%20Graph/parallel.png" alt="parallel"></p>
<script type="math/tex; mode=display">
G(s) = \sum \frac{t_k}{s- s_k}</script><p>then define $X_k(s) \equiv R(s)\frac{t_k}{s- s_k}$</p>
<p>so</p>
<script type="math/tex; mode=display">
sX_k(s) = s_kX_k(s) + t_kR(s)\\
Y(s) = \sum X_k(s)</script><h2 id="Controller-canonical"><a href="#Controller-canonical" class="headerlink" title="Controller canonical"></a>Controller canonical</h2><p><img src="/2020/05/15/control_system/Lecture%203-Signal%20Flow%20Graph/controller_canonical.png" alt="controller canonical"></p>
<p>reverse $X_1, …, X_n$ to $X_n,…, X_1$\<br>So 中心对称反射</p>
<script type="math/tex; mode=display">
A=
\begin{bmatrix}
-a_{n-1} & \cdots & -a_2 & -a_1  & -a_0\\
1 & 0 & \cdots & 0 & 0\\
0 & 1 & \cdots & 0 & 0\\
\vdots & \vdots & \vdots & \vdots & \vdots\\
0 & 0 &  \cdots & 1 & 0\\
\end{bmatrix}
B = 
\begin{bmatrix}
1\\ 0\\ \vdots\\ 0\\ 0
\end{bmatrix}
\\
C = 
\begin{bmatrix}
0 & 0 & \cdots & b_{m+1} & \cdots& b_0
\end{bmatrix}</script><p>and</p>
<script type="math/tex; mode=display">\dot{X} = AX + Br\\
Y = CX</script><h2 id="Observer-canonical"><a href="#Observer-canonical" class="headerlink" title="Observer canonical"></a>Observer canonical</h2><p><img src="/2020/05/15/control_system/Lecture%203-Signal%20Flow%20Graph/observer_canonical.png" alt="observer canonical"><br>reverse $C(s)&lt;=&gt;R(s)$\<br>reverse $X&lt;=&gt;\dot{X}$\<br>change direction of arrows</p>
<script type="math/tex; mode=display">
G(s) = C(sI-A)^{-1}B\\
=G(s)^T = B^T(sI-A^T)^{-1}C^T</script><p>So here $A \Leftarrow A^T$\<br>$B \Leftarrow C^T$\<br>$C \Leftarrow B^T$\<br>So</p>
<script type="math/tex; mode=display">
A=
\begin{bmatrix}
-a_{n-1} & 1 & 0 & 0  & 0\\
-a_{n-2} & 0 & 1 & 0 & 0\\
\vdots & \vdots & \vdots & \vdots & \vdots\\
-a_1 & 0 &  \cdots & 0 & 1\\
-a_0 & 0 &  \cdots & 0 & 0\\
\end{bmatrix}
B = 
\begin{bmatrix}
0\\ 0\\ \vdots\\ b_{m+1}\\ \vdots\\b_0
\end{bmatrix}
\\
C = 
\begin{bmatrix}
1& 0& \cdots& 0& 0
\end{bmatrix}</script><p>and</p>
<script type="math/tex; mode=display">
\dot{X} = AX + Br\\

Y = CX</script>]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>DTFT</title>
    <url>/2020/05/15/dsp/DTFT/</url>
    <content><![CDATA[<h2 id="DTFT"><a href="#DTFT" class="headerlink" title="DTFT"></a>DTFT</h2><script type="math/tex; mode=display">
\begin{aligned}
X(f) &= \int_{-\infty}^{\infty} x(t) e^{-j2\pi ft} dt\\
x^*(t) &= \int_{-\infty}^{\infty} X(f) e^{j2\pi ft} df\\
\end{aligned}</script><a id="more"></a>
<p>When $\hat{x}(t) = x(t) p(t) = x(t) \cdot \sum \delta(t-nT)= \sum x(nT)  \delta(t-nT)$, then we have $\lambda &lt; 1$ that</p>
<script type="math/tex; mode=display">
\begin{aligned}
\hat{X}(f) &= \int_{-\infty}^{\infty} \hat{x}(t) e^{-j2\pi ft} dt = \sum_n x(nT) \int_{-\infty}^{\infty} \delta(t-nT)e^{-j2\pi ft} dt\\
&=\sum_n x(nT) e^{-j2 \pi n (f/f_s)}\\
\hat{x}^*(t) &= \int_{-\infty}^{\infty} \hat{X}(f) e^{j2\pi ft} df\\
x(nT) &=\int_{-\infty}^{\infty} \hat{x}^*(t) [\text{u}(t-(n-\lambda)T)-\text{u}(t-(n+\lambda)T)] dt\\
&= \int_{-\infty}^{\infty}  \int_{-\infty}^{\infty} \hat{X}(f) e^{j2\pi ft} df [\text{u}(t-(n-\lambda)T)-\text{u}(t-(n+\lambda)T)] dt\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df  \int_{-\infty}^{\infty} e^{j2\pi ft} [\text{u}(t-(n-\lambda)T)-\text{u}(t-(n+\lambda)T)] dt\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df  \int_{(n-\lambda)T}^{(n+\lambda)T} e^{j2\pi ft} dt\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df  \int_{(n-\lambda)}^{(n+\lambda)} e^{j2\pi (f/f_s)t'} dt'/f_s  \quad[t' = f_s t]\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) \frac{e^{j2\pi (f/f_s)(n+\lambda)}-e^{j2\pi (f/f_s)(n-\lambda)}}{j2\pi  (f/f_s)}\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) e^{j2\pi (f/f_s)n} \frac{e^{j2\pi (f/f_s)\lambda}-e^{-j2\pi (f/f_s)\lambda}}{j2\pi  (f/f_s)}\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) e^{j2\pi (f/f_s)n} \frac{2\lambda j\sin(2\pi(f/f_s)\lambda)}{j2\pi  (f/f_s)\lambda}\\
&= 2\lambda \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) e^{j2\pi (f/f_s)n} \frac{\sin(2\pi(f/f_s)\lambda)}{2\pi  (f/f_s)\lambda}\\
\end{aligned}</script><p>If we replace kernel function: $[\text{u}(t-(n-\lambda)T)-\text{u}(t-(n+\lambda)T)]$ with function</p>
<script type="math/tex; mode=display">
\frac{\sin(\pi f_s(t-nT))}{\pi f_s(t-nT)} = \frac{e^{j2\pi (f_s/2)(t-nT)}-e^{-j2\pi (f_s/2)(t-nT)}}{j2\pi f_s(t-nT)}</script><p>We still have:</p>
<script type="math/tex; mode=display">
\int_{-\infty}^{\infty} \hat{x}^*(t) \frac{\sin(\pi f_s(t-nT))}{\pi f_s(t-nT)} dt\\
= \int_{-\infty}^{\infty} \sum_{n'} x(n'T)  \delta(t-n'T) \frac{\sin(\pi f_s(t-nT))}{\pi f_s(t-nT)} dt\\
= \sum_{n'} x(n'T)  \int_{-\infty}^{\infty} \delta(t-n'T) \frac{\sin(\pi f_s(t-nT))}{\pi f_s(t-nT)} dt\\
= \sum_{n'} x(n'T) \frac{\sin(\pi (f_s/f_s)(n'-n))}{\pi (f_s/f_s)(n'-n)}  \int_{-\infty}^{\infty} \delta(t-n'T) dt\\
= \sum_{n'} x(n'T) \delta(n'-n) = x(nT)</script><p>So, we have:</p>
<script type="math/tex; mode=display">
\begin{aligned}
x(nT)&=\int_{-\infty}^{\infty} \hat{x}^*(t) \frac{\sin(\pi(t-nT))}{\pi(t-nT)} dt\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df  \int_{-\infty}^{\infty} e^{j2\pi ft}\frac{\sin(2\pi (f_s/2)(t-nT))}{2\pi (f_s/2)(t-nT)}dt\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df  \int_{-\infty}^{\infty} e^{j2\pi ft} \frac{e^{j2\pi (f_s/2)(t-nT)}-e^{-j2\pi (f_s/2)(t-nT)}}{2j2\pi (f_s/2)(t-nT)}dt\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df \cdot [e^{-j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi ft} \frac{e^{j2\pi (f_s/2) t}}{j2\pi f_s(t-nT)}dt - e^{ j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi ft} \frac{e^{-j2\pi (f_s/2) t}}{j2\pi f_s(t-nT)}dt]\\
&= \int_{-\infty}^{\infty} \hat{X}(f) df \cdot [e^{-j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s)t'} \frac{e^{j\pi t'}}{j2\pi (t'-n)}dt'/f_s - e^{ j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s)t'} \frac{e^{-j\pi  t'}}{j2\pi (t'-n)}dt'/f_s]\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) \cdot [e^{-j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s+0.5)t'} \frac{1}{j2\pi (t'-n)}dt' - e^{ j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s-0.5)t'} \frac{1}{j2\pi (t'-n)}dt']\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) \cdot [e^{-j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s+0.5)(t'+n)} \frac{1}{j2\pi t'}dt' - e^{ j2\pi n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s-0.5)(t'+n)} \frac{1}{j2\pi t'}dt']\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) \cdot [e^{-j2\pi n}e^{j2\pi (f/f_s+0.5)n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s+0.5)t'} \frac{1}{j2\pi t'}dt' - e^{ j2\pi n} e^{j2\pi (f/f_s-0.5)n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s-0.5)t'} \frac{1}{j2\pi t'}dt']\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) [e^{j2\pi (f/f_s)n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s+0.5)t'} \frac{1}{j2\pi t'}dt' - e^{j2\pi (f/f_s)n} \int_{-\infty}^{\infty} e^{j2\pi (f/f_s-0.5)t'} \frac{1}{j2\pi t'}dt' ]\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) e^{j2\pi (f/f_s)n} [\int_{-\infty}^{\infty} e^{j2\pi (f/f_s+0.5)t'} \frac{1}{j2\pi t'}dt' - \int_{-\infty}^{\infty} e^{j2\pi (f/f_s-0.5)t'} \frac{1}{j2\pi t'}dt' ]\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) e^{j2\pi (f/f_s)n} \frac{1}{2}[\text{sgn}(f/f_s+0.5) - \text{sgn}(f/f_s-0.5) ]\\
&= \int_{-\infty}^{\infty} \hat{X}(f) d(f/f_s) e^{j2\pi (f/f_s)n} [\text{u}(f/f_s+0.5) - \text{u}(f/f_s-0.5) ]\\
&= \int_{-0.5}^{0.5} \hat{X}(f) e^{j2\pi (f/f_s)n} d(f/f_s)\\
\end{aligned}</script><p>because $\text{sgn}(t) &lt;=&gt; \frac{1}{j\pi f}$, then we have $\frac{1}{j\pi t} &lt;=&gt; \text{sgn}(-f)=-\text{sgn}(f)$,</p>
<p>Thus means</p>
<script type="math/tex; mode=display">
-\text{sgn}(f) = \int^{\infty}_{-\infty} \frac{1}{j\pi t} e^{-j2\pi ft} dt\\
\text{sgn}(f) =-\text{sgn}(-f) = \int^{\infty}_{-\infty} \frac{1}{j\pi t} e^{j2\pi ft} dt\\
\text{sgn}(f/f_s+0.5)= \int^{\infty}_{-\infty} \frac{1}{j\pi t} e^{j2\pi (f/f_s+0.5)t} dt = 2\text{u}(f/f_s+0.5)-1\\
\text{sgn}(f/f_s-0.5)= \int^{\infty}_{-\infty} \frac{1}{j\pi t} e^{j2\pi (f/f_s-0.5)t} dt = 2\text{u}(f/f_s-0.5)-1\\</script><p>To sum up:</p>
<p>for $\hat{x}(t) = x(t) p(t) = x(t) \cdot \sum \delta(t-nT)= \sum x(nT)  \delta(t-nT)$, we have</p>
<script type="math/tex; mode=display">
\begin{aligned}
\hat{X}(f) &= \int_{-\infty}^{\infty} \hat{x}(t) e^{-j2\pi ft} dt\\
&=\sum_n x(nT) e^{-j2 \pi n (f/f_s)}\\
\hat{x}^*(t) &= \int_{-\infty}^{\infty} \hat{X}(f) e^{j2\pi ft} df\\
x(nT) &= \int_{-\infty}^{\infty} \hat{x}^*(t) \frac{\sin(\pi(t-nT))}{\pi(t-nT)} dt\\
&= \int_{-0.5}^{0.5} \hat{X}(f) e^{j2\pi (f/f_s)n} d(f/f_s)\\
\end{aligned}</script><p>Now define $\omega = 2\pi f/f_s$, then</p>
<script type="math/tex; mode=display">
X(e^{jw}) \equiv \hat{X}(f) = \sum_n x(nT) [e^{j\omega}]^{-n}\\
x(nT)=  \int_{-0.5}^{0.5} \hat{X}(f) e^{j2\pi (f/f_s)n} d(f/f_s) = \frac{1}{2\pi} \int_{2\pi} X(e^{jw}) [e^{j\omega}]^{n} d\omega</script><h2 id="Formula"><a href="#Formula" class="headerlink" title="Formula"></a>Formula</h2><script type="math/tex; mode=display">
\text{FT}[\delta(t)] = \int\delta(t) e^{-j2\pi ft} dt = \int\delta(t) e^{-j2\pi f0} dt = 1\cdot \int\delta(t) dt=1(f)\\
\text{so, } \delta(t) = \text{FT}^{-1}[1(f)] = \int 1 \cdot e^{j2\pi ft} df</script><p>then replace $f\to t, t\to -f$, having</p>
<script type="math/tex; mode=display">
\begin{aligned}
\delta(-f) &= \int1(t) \cdot e^{j2\pi t(-f)} dt = \text{FT}[1(t)]\\
&= \delta(f)
\end{aligned}</script><p>Thus Fourier pair $1(t) &lt;-&gt; \delta(f)$, now we want to verify:</p>
<script type="math/tex; mode=display">
\begin{aligned}
\sum_n \delta(t-nT) &= \frac{1}{T} \sum_k e^{j2\pi k(\frac{t}{T})}  \quad [\alpha\delta(\alpha t') = \delta(t'), t'=\frac{t}{T}=tf_s]\\  
\sum_n \delta(t'-n) &= \sum_k e^{j2\pi k t'}
\end{aligned}</script><p>Here we have:</p>
<p>一个矩形脉冲的傅里叶变换是sinc函数</p>
<p>一个矩形脉冲离散采样之后的离散傅里叶变换就是Dirichlet函数</p>
<script type="math/tex; mode=display">
\begin{aligned}
\sum_{k=-A}^{A}e^{j2\pi kt'} &= 1+ 2 \sum_{k=1}^A \cos(2\pi t' k)\\
\sin(\pi t' ) \sum_{k=-A}^{A}e^{j2\pi kt'} &= \sin(\pi t' ) + \sum_{k=1}^A[ \sin(2\pi t'(k+0.5)) - \sin(2\pi t'(k-0.5)) ]\\
&= \sin(2\pi t'(A+0.5)) = \sin(\pi t'(2A+1))\\
\sum_{k=-A}^{A}e^{j2\pi kt'} &= \frac{\sin(\pi t'(2A+1))}{\sin(\pi t' )}
\end{aligned}</script><p>Moreover, $ \frac{\sin(\pi (t’+\Delta) (2A+1))}{\sin(\pi (t’+\Delta) )}=  \frac{\sin(\pi t’(2A+1))}{\sin(\pi t’ )}, \Delta\in Z$, the period is 1:</p>
<script type="math/tex; mode=display">
\int_{-0.5}^{0.5} \frac{\sin(\pi t'(2A+1))}{\sin(\pi t' )} dt' = \sum_{k=-A}^{A}  \int_{-0.5}^{0.5}e^{j2\pi kt'} dt'= \sum_{k=-A}^{A} \delta(k) = 1</script><p>So, $\lim_{A\to \infty} \frac{\sin(\pi t’(2A+1))}{\sin(\pi t’ )}[\text{u}(t’+0.5)-\text{u}(t’-0.5)] = \delta(t’)$, then we have</p>
<script type="math/tex; mode=display">
\begin{aligned}
\lim_{A\to \infty} \sum_{k=-A}^{A}e^{j2\pi kt'} &= \lim_{A\to \infty} \frac{\sin(\pi t'(2A+1))}{\sin(\pi t' )}\\
&= \lim_{A\to \infty} \sum_n \frac{\sin(\pi t'(2A+1))}{\sin(\pi t' )} [\text{u}(t'+0.5-n)-\text{u}(t'-0.5-n)] \\
&= \lim_{A\to \infty} \sum_n \frac{\sin(\pi (t'-n)(2A+1))}{\sin(\pi (t'-n) )} [\text{u}(t'+0.5-n)-\text{u}(t'-0.5-n)] \\
&= \sum_n \lim_{A\to \infty} \frac{\sin(\pi (t'-n)(2A+1))}{\sin(\pi (t'-n) )} [\text{u}(t'+0.5-n)-\text{u}(t'-0.5-n)] \\
&= \sum_n \delta(t'-n) \\
\end{aligned}</script><p>Thus,</p>
<script type="math/tex; mode=display">
\sum_n \delta(t'-n) = \sum_k e^{j2\pi k t'} \quad[t=t' T]\\
T\sum_n \delta(t-nT) =  \sum_n \delta(t/T-n) = \sum_k e^{j2\pi k(\frac{t}{T})}</script><h2 id="DFT"><a href="#DFT" class="headerlink" title="DFT"></a>DFT</h2><p>consider to sample $\hat{x}(t) = x(t) p(t) = x(t) \cdot \sum \delta(t-nT)= \sum x(nT)  \delta(t-nT)$ 0~NT, as a period</p>
<script type="math/tex; mode=display">
\begin{aligned}
\tilde{x}(t) &= \left\{ \hat{x}(t) \left[ \text{u}(t)-\text{u}(t-NT) \right]  \right\} * \sum_{n'} \delta(t-n'NT)\\
&= \left\{  \sum_{n=0}^{N-1} x(nT)  \delta(t-nT) \right\} * \sum_{n'} \delta(t-n'NT)\\
&=  \sum_{n'} \left\{  \sum_{n=0}^{N-1} x(nT)  \delta(t-(n+n'N)T) \right\}  \\
\end{aligned}</script><p>For freq domain:</p>
<script type="math/tex; mode=display">
\begin{aligned}
\tilde{X}(f) &= \int_{-\infty}^{\infty} \tilde{x}(t) e^{-j2\pi ft} dt \\
&=  \sum_{n'} \left\{  \sum_{n=0}^{N-1} x(nT)  [ \int_{-\infty}^{\infty} \delta(t-(n+n'N)T) e^{-j2\pi ft} dt] \right\} \\
&=  \sum_{n'} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (f/f_s)(n+n'N)}  \right\} \\
&=  \sum_{n'} e^{-j2\pi (\frac{f}{f_s/N})n'} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (f/f_s)n}  \right\}  \quad[\sum_n \delta(t'-n) = \sum_k e^{j2\pi k t'}] \\
&=  \sum_{k} \delta(\frac{f}{f_s/N}-k) \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (f/f_s)n}  \right\}\\
&=  \frac{f_s}{N} \sum_{k} \delta(f-k\frac{f_s}{N}) \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (f/f_s)n}  \right\}\\
&=  \frac{f_s}{N} \sum_{k} \delta(f-k\frac{f_s}{N}) \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\}\\
&= \sum_{k} \delta(f-k\frac{f_s}{N}) \Bigg[\frac{f_s}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]
\end{aligned}</script><p>Reconstruction:</p>
<script type="math/tex; mode=display">
\begin{aligned}
\tilde{x}^*(t) &= \int_{-\infty}^{\infty} \tilde{X}(f) e^{j2\pi ft} df\\
&=\int_{-\infty}^{\infty} e^{j2\pi ft} df \sum_{k} \delta(f-k\frac{f_s}{N}) \Bigg[\frac{f_s}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg] \\
&= \sum_{k} \Bigg[\frac{f_s}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]  \int_{-\infty}^{\infty} e^{j2\pi ft} \delta(f-k\frac{f_s}{N}) df \\
&= \sum_{k} \Bigg[\frac{f_s}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]  e^{j2\pi (k/N)f_st} \\
x(nT) &= \int_{-\infty}^{\infty} \tilde{x}^*(t) \frac{\sin(\pi(t-nT))}{\pi(t-nT)} dt\\
&= \int_{-0.5}^{0.5} \tilde{X}(f) e^{j2\pi (f/f_s)n} d(f/f_s) = \int_{0}^{1} \tilde{X}(f) e^{j2\pi (f/f_s)n} d(f/f_s)\\
&=  \int_{0}^{1} e^{j2\pi (f/f_s)n} d(f/f_s)  \sum_{k} \delta(f-k\frac{f_s}{N}) \Bigg[\frac{f_s}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]\\  
&= \sum_{k} \int_{0}^{1} e^{j2\pi (\frac{f}{f_s})n} \delta(\frac{f}{f_s}-\frac{k}{N})  d(\frac{f}{f_s})
\Bigg[\frac{1}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]\\  
&= \sum_{k} \int_{0}^{1} e^{j2\pi (\frac{k}{N})n} \delta(\frac{f}{f_s}-\frac{k}{N})  d(\frac{f}{f_s})
\Bigg[\frac{1}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]\\
&= \sum_{k=0}^{N-1} e^{j2\pi (\frac{k}{N})n} \Bigg[\frac{1}{N} \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (k/N)n}  \right\} \Bigg]\\
&= \frac{1}{N} \sum_{k=0}^{N-1}  \left\{  \sum_{n=0}^{N-1} x(nT)  e^{-j2\pi (\frac{k}{N}) n}  \right\} e^{j2\pi (\frac{k}{N})n}
\end{aligned}</script>]]></content>
      <categories>
        <category>信号处理</category>
        <category>公式</category>
      </categories>
      <tags>
        <tag>math</tag>
        <tag>DSP</tag>
      </tags>
  </entry>
  <entry>
    <title>Lecture 4-Stability and Steady Error</title>
    <url>/2020/05/15/control_system/Lecture%204-Stability%20and%20Steady%20Error/</url>
    <content><![CDATA[<h3 id="Routh-Hurwitz-Criterion"><a href="#Routh-Hurwitz-Criterion" class="headerlink" title="Routh-Hurwitz Criterion"></a>Routh-Hurwitz Criterion</h3><a id="more"></a>
<p>系统稳定的充分必要条件是：劳斯表中第一列所有元素的计算值均大于零。</p>
<ul>
<li>如果第一列中出现一个小于零的值，系统就不稳定；</li>
<li>如果第一列中有等于零的值，说明系统处于临界稳定状态；</li>
<li>第一列中数据符号改变的次数等于系统特征方程正实部根的数目，即系统中不稳定根的个数。</li>
</ul>
<p>tell how many closed-loop system poles are </p>
<p>in the left half-plane, in the right half-plane, and on the jω-axis.</p>
<p>example 1:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">graph LR</span><br><span class="line">	R(&quot;R(s)&quot;)--&gt;|input| G(&quot;G(s)&quot;)</span><br><span class="line">	G--&gt;|output| C(&quot;C(s)&quot;)</span><br></pre></td></tr></table></figure>
<script type="math/tex; mode=display">
G(s) = \frac{N(s)}{a_{4} s^{4}+a_{3} s^{3}+a_{2} s^{2}+a_{1} s+a_{0}}</script><p>here is Routh table:</p>
<script type="math/tex; mode=display">
\begin{array}{l}
{s^{4} \quad a_{4} \quad a_{2} \quad a_{0}} \\ 
{s^{3} \quad a_{3}} \quad {a_{1} \quad 0} \\ 
{s^{2}} \quad \frac{-\left|\begin{array}{ll}{a_{4}} & {a_{2}} \\ {a_{3}} & {a_{1}}\end{array}\right|}{a_{3}}=b_{1} \quad \frac{-\left|\begin{array}{ll}{a_{4}} & {a_{0}} \\ {a_{3}} & {0}\end{array}\right|}{a_3}=b_{2} \quad \frac{-\left|\begin{array}{ll}{a_{4}} & {0} \\ {a_{3}} & {0}\end{array}\right|}{a_{3}}=0\\ 
s^{1} \quad \frac{-\left|\begin{array}{ll}{a_{3}} & {a_{1}} \\ {b_{1}} & {b_{2}}\end{array}\right|}{b_{1}}=c_{1} \quad \quad \frac{-\left|\begin{array}{ll}{a_{3}} & {0} \\ {b_{1}} & {0}\end{array}\right|}{b_{1}}=0 \quad \frac{-\left|\begin{array}{ll}{a_{3}} & {0} \\ {b_{1}} & {0}\end{array}\right|}{b_{1}}=0 \\ 
s^{0} \quad \frac{-\left|\begin{array}{cc}{b_{1}} & {b_{2}} \\ {c_{1}} & {0}\end{array}\right|}{c_1}=d_{1} \quad \frac{-\left|\begin{array}{cc}{b_{1}} & {0} \\ {c_{1}} & {0}\end{array}\right|}{c_{1}}=0 \quad \quad \frac{-\left|\begin{array}{cc}{b_{1}} & {0} \\ {c_{1}} & {0}\end{array}\right|}{c_{1}}=0
\end{array}</script><h4 id="a-if-Zero-Only-in-the-First-Column"><a href="#a-if-Zero-Only-in-the-First-Column" class="headerlink" title="(a) if Zero Only in the First Column"></a>(a) if Zero Only in the First Column</h4><p>If the first element of a row is zero, division by zero would be required to form the next row. To avoid this phenomenon, an epsilon, ε, is assigned to replace the zero in the first column. </p>
<p>The value ε is then allowed to approach zero from either the positive or the negative side, after which the signs of the entries in the first column can be determined.</p>
<script type="math/tex; mode=display">
T(s)=\frac{10}{s^{5}+2 s^{4}+3 s^{3}+6 s^{2}+5 s+3}</script><p>用一个小正数代替零元素继续列表</p>
<p>Routh Table:</p>
<script type="math/tex; mode=display">
\begin{array}{llll}
\hline
{s^{5}} & {1} & {3} & {5} \\ 
{s^{4}} & {2} & {6} & {3} \\ 
{s^{3}} & {\epsilon} & {\frac{7}{2}} & {0} \\ 
{s^{2}} & {\frac{6 \epsilon-7}{\epsilon}} & {3} & {0} \\ 
{s^{1}} & {\frac{42 \epsilon-49-6 \epsilon^{2}}{12 \epsilon-14}} & {0} & {0} \\
\hline
\end{array}</script><p>So</p>
<script type="math/tex; mode=display">
\begin{array}{|c|c|c|}
\hline \text { Label } & {\text { First column }} & {\epsilon=+} & {\epsilon=-} \\ 
\hline s^{5} & {1} & {+} & {+} \\ 
{s^{4}} & {2} & {+} & {+} \\ 
{s^{3}} & {\epsilon} & {+} & {-} \\ 
{s^{2}} & {\frac{6 \epsilon-7}{\epsilon}} & {-} & {+} \\
{s^{1}} & {\frac{42 \epsilon-49-6 \epsilon^{2}}{12 \epsilon-14}}& {+} & {+} \\ 
{s^{0}} & {3} & {+} & {+} \\ 
\hline
\end{array}</script><h4 id="b-Entire-Row-is-Zero"><a href="#b-Entire-Row-is-Zero" class="headerlink" title="(b) Entire Row is Zero"></a>(b) Entire Row is Zero</h4><p>We now look at the second special case. Sometimes while making a Routh table, we find<br>that an entire row consists of zeros</p>
<p>出现全0行=&gt;方程中有</p>
<p>一对大小相等、符号相反的实根，</p>
<p>或一对纯虚根，</p>
<p>或对称于s平面原点的共轭复根。</p>
<p>This symmetry can occur under three conditions of root position:<br>(1) The roots are symmetrical and real, </p>
<p>(2) the roots are symmetrical and imaginary, or </p>
<p>(3) the roots are quadrantal. (四个共轭，对称的根)</p>
<p>列表时先用全零行的上一行构成辅助方程，它的根就是原方程的特殊根。</p>
<p>再将辅助方程求导，用求导后的方程代替全零行</p>
<p>继续下去直到得到全部劳思表</p>
<h3 id="MATLAB-code"><a href="#MATLAB-code" class="headerlink" title="MATLAB code"></a>MATLAB code</h3><p>to find the closed-loop transfer function, T(s), and the closed-loop poles.</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">numg = <span class="number">128</span>;</span><br><span class="line">deng = [<span class="number">1</span> <span class="number">3</span> <span class="number">10</span> <span class="number">24</span> ...</span><br><span class="line">		<span class="number">48</span> <span class="number">96</span> <span class="number">128</span> <span class="number">192</span> <span class="number">0</span>];</span><br><span class="line">G = tf(numg, deng);</span><br><span class="line">T = feedback(G, <span class="number">1</span>); <span class="comment">% T(s) = G(s) / [1 + G(s)]</span></span><br><span class="line">poles = pole(T)</span><br></pre></td></tr></table></figure>
<h3 id="Steady-Error"><a href="#Steady-Error" class="headerlink" title="Steady Error"></a>Steady Error</h3><p>大前提：已经Routh-Hurwitz Criterion验证是稳定的</p>
<p>if D = 0</p>
<script type="math/tex; mode=display">
e_{ss}

= \mathop{\text{lim}} \limits_{t\to+\infty} [r(t) - c(t)]\\

=  \mathop{\text{lim}} \limits_{s\to 0+} s[R(s) - C(s)]\\

=  \mathop{\text{lim}} \limits_{s\to 0+} sR(s) [1 - T(s)]\\

=  \mathop{\text{lim}} \limits_{s\to 0+} sR(s) [1 - C(sI-A)^{-1}B ]\\</script><p>if $r(t)=u(t)$, step function, $R(s) = \frac{1}{s}$</p>
<script type="math/tex; mode=display">
e_{ss} =  \mathop{\text{lim}} \limits_{s\to 0+}  [1 - C(sI-A)^{-1}B ]\\

=   [1 - C(0*I-A)^{-1}B ]\\

= [1+ C A^{-1}B]</script><p>if $r(t) = tu(t)$, here $R(s) = \frac{1}{s^2}$ only when $[1+ C A^{-1}B]=0$, Steady Error exist</p>
<script type="math/tex; mode=display">
e_{ss} =  \mathop{\text{lim}} \limits_{s\to 0+}  \frac{[1 - C(sI-A)^{-1}B ]}{s}\\

= \mathop{\text{lim}} \limits_{s\to 0+}  \frac{[1 - C(-A)^{-1}B ]}{s} - \frac{[C(sI-A)^{-1}B - C(-A)^{-1}B ]}{s}\\

= \mathop{\text{lim}} \limits_{s\to 0+}  \frac{[1 + CA^{-1}B ]}{s} - C\mathop{\text{lim}} \limits_{s\to 0+} \frac{[(sI-A)^{-1} - (-A)^{-1}]}{s} B\\

= \mathop{\text{lim}} \limits_{s\to 0+}  \frac{[1 + CA^{-1}B ]}{s} - C\mathop{\text{lim}} \limits_{s\to 0+} \frac{d(sI-A)^{-1}}{ds} B\\

= \mathop{\text{lim}} \limits_{s\to 0+}  \frac{[1 + CA^{-1}B ]}{s} + C\mathop{\text{lim}} \limits_{s\to 0+} (sI-A)^{-2} B\\

= \mathop{\text{lim}} \limits_{s\to 0+}  \frac{[1 + CA^{-1}B ]}{s} + CA^{-2} B\\</script>]]></content>
      <categories>
        <category>控制原理</category>
        <category>PNW课件</category>
      </categories>
      <tags>
        <tag>control system</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>Fourier变换</title>
    <url>/2020/05/15/dsp/Fourier%20transform/</url>
    <content><![CDATA[<h1 id="Fourier-Transform"><a href="#Fourier-Transform" class="headerlink" title="Fourier Transform"></a>Fourier Transform</h1><a id="more"></a>
<h2 id="Proof-of-Fourier-Integral-Formula"><a href="#Proof-of-Fourier-Integral-Formula" class="headerlink" title="Proof of Fourier Integral Formula"></a>Proof of Fourier Integral Formula</h2><p><a href="https://yannisparissis.wordpress.com/2011/03/10/dmat0101-notes-3-the-fourier-transform-on-l1/" target="_blank" rel="noopener">https://yannisparissis.wordpress.com/2011/03/10/dmat0101-notes-3-the-fourier-transform-on-l1/</a></p>
<p>If g(t) satisfy (I), (II) in $(-\infty, +\infty)$</p>
<p>(I) $\forall [a, b] \subset (-\infty, +\infty)$\<br>g(t) satisfy <strong>Dirichlet</strong> conditions for [a, b]:</p>
<ol>
<li><p>g(t) is continous $\forall t \in (a, b)$;</p>
<p>or finite <strong>First type of discontinuitis</strong> $\in (a, b)$</p>
</li>
<li><p>finite <strong>Peak</strong> values $\in (a, b)$</p>
<ul>
<li>Cantor定理：f(x) 在[a, b]内定义且连续 =&gt; 在(a, b) 内一致连续</li>
<li>$||f(2ay+x)-f(x)|| e^{-ay^2} \to 0, \text{as } a\to 0$ 对连续区间内成立</li>
<li>有界变差在连续区间内: 可以表示成两个非负单调增函数之差f(t)=f1(t) - f2(t), \<br>而f1, f2均可应用Bonnet公式(微积分学教程第二卷P95)<br>$\int_{a}^{b} f_1(x) g(x) d x=f_1(b) \int_{\xi}^{b} g(x) d x$\<br>其中$a \leqslant \xi \leqslant b, g(x)$可积</li>
</ul>
</li>
</ol>
<p>(II) $\int_{-\infty}^{+\infty} g(t) dt &lt; M$</p>
<hr>
<p>Then $\Longrightarrow$</p>
<script type="math/tex; mode=display">
\mathbb{F}[g(t)] 
\equiv \int_{-\infty}^{+\infty} g(t) e^{-j\omega t} dt 
= G(\omega)\\</script><script type="math/tex; mode=display">
\mathbb{F^{-1}}[G(\omega)] 
\equiv \frac{1}{2\pi} \int_{-\infty}^{+\infty} G(\omega) e^{j\omega t} d\omega =g^{*}(t)</script><p>where, g*(t) &amp;&amp; g(t): </p>
<script type="math/tex; mode=display">
g^{*}(t) = \left\{
\begin{aligned}
g(t) && \text{continuous at t}\\
\frac{g(t_{-}) + g(t_{+})}{2} && \text{Not continuous at t}
\end{aligned}
\right.</script><hr>
<h2 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h2><h3 id="preparation"><a href="#preparation" class="headerlink" title="preparation"></a>preparation</h3><script type="math/tex; mode=display">
f(x) = e^{-a x^2} \\
\begin{aligned}
G(\omega) &= \int^{+\infty}_{-\infty} f(x) e^{-j\omega x} dx\\
&= \int^{+\infty}_{-\infty} e^{-a x^2} e^{-j\omega x} dx\\
&= e^{-\frac{\omega^2}{4a}} \int^{+\infty}_{-\infty} e^{-a (x+j\frac{\omega}{2a})^2} dx\\
&= e^{-\frac{\omega^2}{4a}} \int^{+\infty}_{-\infty} e^{-a x^2} dx \quad [\text{Cauchy's integral theorem}]\\
&= \pi^{\frac{1}{2}} a^{-\frac{1}{2}} e^{-\frac{\omega^2}{4a}}
\end{aligned}</script><p>where have</p>
<script type="math/tex; mode=display">
\begin{aligned}
I^2 &\equiv \int^{+\infty}_{-\infty} e^{-a x^2} dx
\int^{+\infty}_{-\infty} e^{-a y^2} dy\\
&= \int^{2\pi}_{0} \int^{+\infty}_{0} e^{-a r^2} dr \cdot rd\theta\\
&= 2\pi \cdot \frac{1}{2a} \int^{+\infty}_{0} e^{-a r^2} d(ar^2)\\
&= \frac{\pi}{a}
\end{aligned}\\

I = \pi^{\frac{1}{2}} a^{-\frac{1}{2}}</script><h3 id="In-special-form"><a href="#In-special-form" class="headerlink" title="In special form"></a>In special form</h3><p>考虑</p>
<script type="math/tex; mode=display">
\begin{aligned}
\int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega
&= \int_{-\infty}^{+\infty} \int^{+\infty}_{-\infty} f(y) e^{-j\omega y} dy e^{-a\omega^2} e^{j\omega x} d\omega\\

&= \int_{-\infty}^{+\infty} f(y) [\int^{+\infty}_{-\infty} e^{-a\omega^2} e^{-j\omega (y-x)} d\omega] dy\\

&= \pi^{\frac{1}{2}} a^{-\frac{1}{2}}
\int_{-\infty}^{+\infty} f(y) e^{-\frac{(y-x)^2}{4a}} dy\\

&= \pi^{\frac{1}{2}} a^{-\frac{1}{2}}
\int_{-\infty}^{+\infty} f(y+x) e^{-\frac{y^2}{4a}} dy \quad [y = 2ay']\\

&= \pi^{\frac{1}{2}} a^{-\frac{1}{2}} \cdot 2a
\int_{-\infty}^{+\infty} f(2ay+x) e^{-ay^2} dy \\

&= 2\pi^{\frac{1}{2}} a^{\frac{1}{2}} 
\int_{-\infty}^{+\infty} f(2ay+x) e^{-ay^2} dy
\end{aligned}</script><h3 id="In-1st-way"><a href="#In-1st-way" class="headerlink" title="In 1st way"></a>In 1st way</h3><script type="math/tex; mode=display">
\int_{-\infty}^{+\infty}
| \int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega - 2\pi  f(x)| dx\\
\begin{aligned}
&= \int_{-\infty}^{+\infty}
| 2\pi^{\frac{1}{2}} a^{\frac{1}{2}} 
\int_{-\infty}^{+\infty} f(2ay+x) e^{-ay^2} dy - 2\pi  f(x)| dx\\


&= 2\pi^{\frac{1}{2}} a^{\frac{1}{2}} \int_{-\infty}^{+\infty}
|\int_{-\infty}^{+\infty} f(2ay+x) e^{-ay^2} dy - \pi^{\frac{1}{2}} a^{-\frac{1}{2}}  f(x)| dx \quad [ \int_{-\infty}^{+\infty} e^{-ay^2} dy= \pi^{\frac{1}{2}} a^{-\frac{1}{2}}] \\

&= 2\pi^{\frac{1}{2}} a^{\frac{1}{2}} \int_{-\infty}^{+\infty}
|\int_{-\infty}^{+\infty} [f(2ay+x)-f(x)] e^{-ay^2} dy| dx\\

&\leq 2\pi^{\frac{1}{2}} a^{\frac{1}{2}} \int_{-\infty}^{+\infty}
[\int_{-\infty}^{+\infty} |f(2ay+x)-f(x)| dx] e^{-ay^2} dy\\

&= 2\pi^{\frac{1}{2}} a^{\frac{1}{2}} \int_{-\infty}^{+\infty}
||f(2ay+x)-f(x)|| e^{-ay^2} dy
\end{aligned}</script><p>当$\lim_{a \to 0}$ 时</p>
<script type="math/tex; mode=display">
\begin{aligned}
&\lim_{a\to 0} \int_{-\infty}^{+\infty}
| \int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega - 2\pi  f(x)| dx\\

&\leq 2\pi^{\frac{1}{2}} \lim_{a\to 0}a^{\frac{1}{2}} \cdot 
\lim_{a\to 0} \int_{-\infty}^{+\infty}
||f(2ay+x)-f(x)|| e^{-ay^2} dy\\

&= 2\pi^{\frac{1}{2}} \cdot 0 \cdot 0
\end{aligned}</script><p>考虑 $||f(2ay+x)-f(x)||$, 因为</p>
<script type="math/tex; mode=display">
||f(2ay+x)-f(x)|| e^{-ay^2} \leq 2 ||f(x)||e^{-ay^2}\\
2 ||f(x)||e^{-ay^2} \text{is integrable function}\\
||f(2ay+x)-f(x)|| e^{-ay^2} \to 0, \text{as } a\to 0\\</script><p>满足 <strong>Lebesgue’s Dominated Convergence Theorem</strong></p>
<script type="math/tex; mode=display">
\lim_{a\to 0} \int_{-\infty}^{+\infty}
||f(2ay+x)-f(x)|| e^{-ay^2} dy\\

= \int_{-\infty}^{+\infty}
\lim_{a\to 0} ||f(2ay+x)-f(x)|| e^{-ay^2} dy\\

= \int_{-\infty}^{+\infty} 0 dy \quad [\text{finite discontinuties}] = 0</script><h3 id="In-2nd-way"><a href="#In-2nd-way" class="headerlink" title="In 2nd way"></a>In 2nd way</h3><script type="math/tex; mode=display">
\begin{aligned}
&| \int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega - 
\int_{-\infty}^{+\infty} G(\omega) e^{j\omega x} d\omega|\\

&\leq \int_{-\infty}^{+\infty} |G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| d\omega

\end{aligned}</script><p>考虑</p>
<script type="math/tex; mode=display">
|G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| \leq 2 |G(\omega)|\\
2 |G(\omega)| \text{ is integrable function}\\
|G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| \to 0, \text{as } a\to 0\\</script><p>满足 <strong>Lebesgue’s Dominated Convergence Theorem</strong><br><a href="https://en.wikipedia.org/wiki/Dominated_convergence_theorem" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Dominated_convergence_theorem</a></p>
<script type="math/tex; mode=display">
\lim_{a\to 0} | \int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega - 
\int_{-\infty}^{+\infty} G(\omega) e^{j\omega x} d\omega|\\

\leq \lim_{a\to 0} \int_{-\infty}^{+\infty} |G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| d\omega\\
= \int_{-\infty}^{+\infty} \lim_{a\to 0}
|G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| d\omega\\
= \int_{-\infty}^{+\infty} 0 d\omega = 0</script><p>所以有</p>
<script type="math/tex; mode=display">
\lim_{a\to 0} \int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega
= \int_{-\infty}^{+\infty} G(\omega) e^{j\omega x} d\omega</script><hr>
<h3 id="Sum-Up"><a href="#Sum-Up" class="headerlink" title="Sum Up"></a>Sum Up</h3><p>我们知道</p>
<script type="math/tex; mode=display">
\lim_{a\to 0} \int_{-\infty}^{+\infty}|g(x, a) - 2\pi f(x)| dx = 0\\
\lim_{a\to 0} g(x, a) = g(x)\\</script><p>此处 $a\to 0$, 一致收敛 $g(x, a) \to g(x)$\<br>&lt;=&gt; $\forall \epsilon$, 可以找到 $\delta$\<br>只要 $0&lt;a&lt;\delta$, 对 $\forall x, |g(x, a) - g(x)|&lt;\epsilon$</p>
<p><strong>一致收敛short proof</strong>\<br>因为 $\int_{-\infty}^{+\infty} |G(\omega)|d\omega &lt; M$, 所以可以找到A\<br>$\int_{-\infty}^{-A} |G(\omega)|d\omega &lt; \frac{\epsilon}{6}, \int_{A}^{+\infty} |G(\omega)|d\omega &lt; \frac{\epsilon}{6}$\<br>把$|g(x, a) - g(x)|$分拆</p>
<script type="math/tex; mode=display">
\begin{aligned}
|g(x, a) - g(x)|&\leq \int_{-\infty}^{-A}|G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| d\omega\\
&+ \int_{A}^{+\infty} |G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| d\omega\\
&+ \int_{-A}^{+A}|G(\omega) [1-e^{-a\omega^2}] e^{j\omega x}| d\omega\\

&\leq 2 \int_{-\infty}^{-A} |G(\omega)|d\omega + 2 \int_{A}^{+\infty} |G(\omega)|d\omega \\
&+ M \int_{-A}^{+A} [1-e^{-aA^2}] d\omega\\

&\lt \frac{2\epsilon}{3} + 2MA[1-e^{-aA^2}] \lt \epsilon\\
\end{aligned}</script><p>只需合适的选取A, 满足</p>
<script type="math/tex; mode=display">
[a \lt \frac{-\ln(1-\frac{\epsilon}{6MA})}{A^2} \Rightarrow 2MA[1-e^{-aA^2}] \lt \frac{\epsilon}{3}]</script><p><strong>END一致收敛short proof</strong></p>
<p>因为此处 $a\to 0$, 一致收敛 $g(x, a) \to g(x)$\<br>所以成立</p>
<script type="math/tex; mode=display">
\lim_{a\to 0} \int_{-\infty}^{+\infty}|g(x, a) - g(x)| dx \\
= \int_{-\infty}^{+\infty}|\lim_{a\to 0} g(x, a) - g(x)| dx \\
= \int_{-\infty}^{+\infty}0dx = 0\\</script><p>进而有</p>
<script type="math/tex; mode=display">
\int_{-\infty}^{+\infty}|2\pi f(x) - g(x)| dx \\
= \lim_{a\to 0}\int_{-\infty}^{+\infty}|2\pi f(x) - g(x)| dx \\
\leq \lim_{a\to 0} \int_{-\infty}^{+\infty}|g(x, a) - 2\pi f(x)| dx \\+ \lim_{a\to 0} \int_{-\infty}^{+\infty}|g(x, a) - g(x)| dx\\
= 0</script><p>而$2\pi f(x)$ 和 $g(x)$都是分段连续函数,\<br>$|2\pi f(x) - g(x)|$也是分段连续函数</p>
<p>So, 每一段x连续区间都有</p>
<script type="math/tex; mode=display">
2\pi f(x) = g(x)</script><p><strong>定义g(x, a), g(x)</strong></p>
<script type="math/tex; mode=display">
g(x, a) \equiv
\int_{-\infty}^{+\infty} G(\omega) e^{-a\omega^2} e^{j\omega x} d\omega\\

g(x) \equiv
\int_{-\infty}^{+\infty} G(\omega) e^{j\omega x} d\omega</script><p>也就是，每一段x连续区间都有</p>
<script type="math/tex; mode=display">
f(x) = \frac{1}{2\pi} \int_{-\infty}^{+\infty} G(\omega) e^{j\omega x} d\omega</script><h2 id="END-Proof"><a href="#END-Proof" class="headerlink" title="END Proof"></a>END Proof</h2><h2 id="Appendix-G-w-的性质"><a href="#Appendix-G-w-的性质" class="headerlink" title="Appendix: G(w) 的性质"></a>Appendix: G(w) 的性质</h2><ul>
<li><p>$G(\omega)$ is uniformly continuous<br><img src="/2020/05/15/dsp/Fourier%20transform/FT_uniform_continuous.PNG" alt="FT_uniform_continuous"></p>
</li>
<li><p>$\lim_{\omega\to \infty} G(\omega) = 0$ </p>
<p>(Riemann-Lebesgue lemma)</p>
<p>use Riemann–Lebesgue lemma($||f(x)||_{L1}&lt; M$)<br><a href="https://en.wikipedia.org/wiki/Riemann%E2%80%93Lebesgue_lemma" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Riemann%E2%80%93Lebesgue_lemma</a></p>
<p><a href="https://yannisparissis.wordpress.com/2011/03/10/dmat0101-notes-3-the-fourier-transform-on-l1/" target="_blank" rel="noopener">https://yannisparissis.wordpress.com/2011/03/10/dmat0101-notes-3-the-fourier-transform-on-l1/</a></p>
</li>
</ul>
<h2 id="补充说明：间断点处"><a href="#补充说明：间断点处" class="headerlink" title="补充说明：间断点处"></a>补充说明：间断点处</h2><p>必须满足Dirichlet 条件：</p>
<p>$f(x+),f(x-)$存在</p>
<p>此时有<br>$\frac{f(x+) + f(x-)}{2} = \frac{1}{2\pi} \int_{-\infty}^{+\infty} G(\omega) e^{j\omega x} d\omega$</p>
<p>参见微积分学教程第三卷P353, 354, 358, 359</p>
<h3 id="Proof-1"><a href="#Proof-1" class="headerlink" title="Proof"></a>Proof</h3><p>一方面</p>
<script type="math/tex; mode=display">
\frac{1}{2\pi} \int_{-\infty}^{+\infty} G(k) e^{jk x} d\omega
= \lim_{K\to \infty} 
\frac{1}{2\pi} \int_{-K}^{+K} G(k) e^{jk x} d\omega
= \lim_{K\to \infty} S_{K}(x)</script><p>另一方面</p>
<script type="math/tex; mode=display">
\begin{aligned} S_{K}(x) 
&=\int_{-\infty}^{\infty} d t f(t) \int_{-K}^{K} \frac{e^{i k(x-t)}}{2 \pi} d k \\ 
&=\left.\int_{-\infty}^{\infty} d t f(t) \frac{e^{i k(x-t)}}{2 \pi i(x-t)}\right|_{-K} ^{K} \\ 
&=\int_{-\infty}^{\infty} d t f(t) \frac{\sin K(x-t)}{\pi(x-t)}\\
&=\underbrace{\int_{-\infty}^{x} f(t) \frac{\sin K(x-t)}{\pi(x-t)} d t}_{J_{K}(x)}+\underbrace{\int_{x}^{\infty} f(t) \frac{\sin K(x-t)}{\pi(x-t)} d t}_{I_{K}(x)}
\end{aligned}</script><p>计算 $I_{K}(x)$</p>
<script type="math/tex; mode=display">
\begin{aligned} I_{K}(x) 
&=\int_{0}^{\infty} f(x+u) \frac{\sin K u}{\pi u} d u \\ 
&=\int_{0}^{\infty} \frac{f(x+u)-f\left(x^{+}\right)}{\pi u} \sin K u d u+\frac{f\left(x^{+}\right)}{\pi} \int_{0}^{\infty} \frac{\sin K u}{u} d u 
\end{aligned}</script><p>后一部分是</p>
<script type="math/tex; mode=display">
\int_{0}^{\infty} \frac{\sin K u}{u} d u=\frac{\pi}{2}\\
\frac{f\left(x^{+}\right)}{\pi} \int_{0}^{\infty} \frac{\sin K u}{u} d u = \frac{f\left(x^{+}\right)}{2}</script><p>前一部分，考虑$\frac{f(x+u)-f\left(x^{+}\right)}{\pi u} \equiv G(u)$</p>
<p>将$\int_0^{\infty} G(u)\sin(Ku) du$拆成三部分<br>$\int_0^{\infty} = \int_0^{\delta} + \int_\delta^{A} + \int_A^{\infty}$</p>
<ul>
<li>第一部分, 因为f(t)有界变差，对f(t)=f1(t) - f2 (t), \<br> 而f1, f2均可应用Bonnet公式(微积分学教程第二卷P95)<br> $\int_{a}^{b} f_1(x) g(x) d x=f_1(b) \int_{\xi}^{b} g(x) d x$\<br> 其中$a \leqslant \xi \leqslant b, g(x)$可积\<br> 此处$a=0, b=\delta, g(x) = \frac{\sin(Ku)}{u}$<br> 可以有\<br> $\int_0^{\delta} =[f(x+\delta)-f\left(x^{+}\right)]\int_{\xi}^{\delta}\frac{\sin(Ku)}{u} du &lt; \epsilon L$</li>
<li><p>第二部分$\int_\delta^{A}$, 对$G(u)$在$[\delta, A]$绝对可积\<br>$\int_\delta^{A}|G(u)|du \leq \int_\delta^{A}|\frac{f(x+u)}{\pi u}|du + \int_\delta^{A}|\frac{f\left(x^{+}\right)}{\pi u}|du<br>\leq<br>\int_{-\infty}^{+\infty}\frac{|f(x+u)|}{\pi \delta}du + \int_\delta^{A}|\frac{f\left(x^{+}\right)}{\pi u}|du &lt; M$</p>
<p>应用Riemann–Lebesgue lemma<br>$\lim_{K\to\infty} \int_\delta^{A} G(u) \sin(Ku) du = 0$</p>
</li>
<li><p>第三部分与第二部分之和\<br>$\lim_{K\to\infty}\int_\delta^{\infty} = \lim_{A\to \infty}\lim_{K\to\infty}\int_\delta^{A} = 0$</p>
</li>
<li><p>综上，前一部分有\<br>$\lim_{K\to\infty} \int_{0}^{\infty} \frac{f(x+u)-f\left(x^{+}\right)}{\pi u} \sin K u d u = 0$</p>
</li>
</ul>
<p>所以,</p>
<script type="math/tex; mode=display">
\begin{aligned}
\lim_{K\to\infty} I_{K}(x) &= 
\lim_{K\to\infty} \int_{0}^{\infty} \frac{f(x+u)-f\left(x^{+}\right)}{\pi u} \sin K u d u+\frac{f\left(x^{+}\right)}{2}\\
&= \frac{f\left(x^{+}\right)}{2} 
\end{aligned}</script><p>同理</p>
<script type="math/tex; mode=display">
\lim_{K\to\infty} J_{K}(x) = \frac{f\left(x^{-}\right)}{2}</script><p>总之有</p>
<script type="math/tex; mode=display">
\lim_{K\to \infty} S_{K}(x)
= \lim_{K\to \infty} [I_{K}(x) + J_{K}(x)]
= \frac{f\left(x^{+}\right) + f\left(x^{-}\right)}{2}</script><p><strong>Conclusion</strong></p>
<script type="math/tex; mode=display">
\frac{1}{2\pi} \int_{-\infty}^{+\infty} G(k) e^{jk x} d\omega = \lim_{K\to \infty} S_{K}(x) = \frac{f\left(x^{+}\right) + f\left(x^{-}\right)}{2}</script><h3 id="END-Proof-1"><a href="#END-Proof-1" class="headerlink" title="END Proof"></a>END Proof</h3>]]></content>
      <categories>
        <category>信号处理</category>
        <category>公式</category>
      </categories>
      <tags>
        <tag>math</tag>
        <tag>DSP</tag>
      </tags>
  </entry>
  <entry>
    <title>Laplace变换</title>
    <url>/2020/05/15/dsp/Laplace%20transform/</url>
    <content><![CDATA[<h1 id="Laplace-Transform"><a href="#Laplace-Transform" class="headerlink" title="Laplace Transform"></a>Laplace Transform</h1><a id="more"></a>
<h2 id="Fourier"><a href="#Fourier" class="headerlink" title="Fourier"></a>Fourier</h2><p>Proof: see “Harmonious Analysis” CHAPTER 3 P37 ~ P38\<br><a href="https://drive.google.com/file/d/0B7t_mQHDlsRsdnZkSE9LbndfOHM/view" target="_blank" rel="noopener">https://drive.google.com/file/d/0B7t_mQHDlsRsdnZkSE9LbndfOHM/view</a></p>
<p><a href="https://yannisparissis.wordpress.com/2011/03/10/dmat0101-notes-3-the-fourier-transform-on-l1/" target="_blank" rel="noopener">https://yannisparissis.wordpress.com/2011/03/10/dmat0101-notes-3-the-fourier-transform-on-l1/</a></p>
<p>Fourier tranform</p>
<script type="math/tex; mode=display">
\mathbb{F}[g(t)] 
\equiv \int_{-\infty}^{+\infty} g(t) e^{-j\omega t} dt 
= G(\omega)</script><p>Fourier Inversion</p>
<script type="math/tex; mode=display">
\mathbb{F^{-1}}[G(\omega)] 
\equiv \frac{1}{2\pi} \int_{-\infty}^{+\infty} G(\omega) e^{j\omega t} d\omega =g^{*}(t)</script><p>Here is the Inversion of g(t)</p>
<script type="math/tex; mode=display">
g^{*}(t) = \left\{
\begin{aligned}
g(t) && \text{continuous at t}\\
\frac{g(t_{-}) + g(t_{+})}{2} && \text{Not continuous at t}
\end{aligned}
\right.</script><h2 id="Laplace-and-Fourier"><a href="#Laplace-and-Fourier" class="headerlink" title="Laplace and Fourier"></a>Laplace and Fourier</h2><p>set $f(t) e^{-\beta t}u(t) \equiv g(t), \quad f^{\ast}(t) \equiv g^{\ast}(t) e^{\beta t}$\</p>
<p>(I) $\forall [a, b] \subset (-\infty, +\infty)$\<br>g(t) satisfy <strong>Dirichlet</strong> conditions for [a, b]</p>
<p>(II) $\int_{-\infty}^{+\infty} g(t) dt &lt; M$</p>
<p>So, Fourier Transform, $s = \beta + j\omega$, we would have</p>
<script type="math/tex; mode=display">
\begin{aligned}
\mathbb{F}[g(t)] 
&= \int_{-\infty}^{+\infty} g(t) e^{-j\omega t} dt
= \int_{0_{-}}^{\infty} f(t) e^{-s t} dt\\
&= G(\omega) = G(\frac{s-\beta}{j}) = F(s)\\
\mathbb{F^{-1}}[G(\omega)] 
&= \frac{1}{2\pi} \int_{-\infty}^{+\infty} G(\omega) e^{j\omega t} d\omega 
= \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} F(s) e^{(s-\beta) t} ds\\
&=g^{*}(t) \equiv f^{*}(t) e^{-\beta t}
\end{aligned}</script><p>Then we have Inversion</p>
<script type="math/tex; mode=display">
f^{*}(t) = \left\{
\begin{aligned}
f(t) && \text{continuous at t } (t 
\geq 0)\\
\frac{f(t_{-}) + f(t_{+})}{2} && \text{Not continuous at t } (t \geq 0)
\end{aligned}
\right.</script><h2 id="Define-Laplace-Transform"><a href="#Define-Laplace-Transform" class="headerlink" title="Define Laplace Transform"></a>Define <strong>Laplace Transform</strong></h2><p>Definition of LT</p>
<script type="math/tex; mode=display">
F(s) = \mathbb{L}[f(t)] 
\equiv \int_{0_{-}}^{\infty} f(t) e^{-st} dt = G(\frac{s-\beta}{j})\\
f^{*}(t) = \mathbb{L^{-1}}[F(s)] \equiv \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} F(s) e^{s t} ds = g^{*}(t) e^{\beta t}  \quad [t \geq 0]</script><p>可以选择$\beta$, 使$Re\{\text{poles of }F(s)\} &lt; \beta$, 此时</p>
<script type="math/tex; mode=display">
f^{*}(t) = \mathbb{L^{-1}}[F(s)] \equiv \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} F(s) e^{s t} ds \\
= \sum \mathop{Res}\limits_{s=s_k}[F(s) e^{st}]</script>]]></content>
      <categories>
        <category>信号处理</category>
        <category>公式</category>
      </categories>
      <tags>
        <tag>math</tag>
        <tag>DSP</tag>
      </tags>
  </entry>
  <entry>
    <title>Z变换</title>
    <url>/2020/05/15/dsp/Z%20transform/</url>
    <content><![CDATA[<h1 id="Z-transform"><a href="#Z-transform" class="headerlink" title="Z transform"></a>Z transform</h1><a id="more"></a>
<h2 id="Sampling"><a href="#Sampling" class="headerlink" title="Sampling"></a>Sampling</h2><p>sampling interval T</p>
<script type="math/tex; mode=display">
f_T(t) \equiv \sum_{k=0}^{\infty} f(kT) \delta(t-kT)</script><h2 id="Laplace-Transform"><a href="#Laplace-Transform" class="headerlink" title="Laplace Transform"></a>Laplace Transform</h2><p>LT </p>
<script type="math/tex; mode=display">
\begin{aligned}
F_T(s) 
&\equiv \int_{0_{-}}^{\infty} f_T(t) e^{-st} dt = \sum_{k=0}^{\infty} f(kT) \int_{0_{-}}^{\infty} \delta(t-kT) e^{-st} dt\\
&= \sum_{k=0}^{\infty} f(kT) [e^{-Ts}]^k\\

f_T^{*}(t) 
&\equiv \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} F_T(s) e^{s t} ds
= \sum_{k=0}^{\infty} f(kT) \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} [e^{(t-kT)}]^s ds\\
&= \sum_{k=0}^{\infty} e^{(t-kT)\beta} f(kT) \{ \frac{1}{2\pi} \int_{-\infty}^{+\infty} e^{-jkT\omega} e^{j\omega t} d\omega \}\\
&= \sum_{k=0}^{\infty} e^{(t-kT)\beta} f(kT) \delta(t-kT)\\
&= \sum_{k=0}^{\infty} f(kT) \delta(t-kT)
\end{aligned}</script><p>考虑$\frac{1}{2\pi} \int_{-\infty}^{+\infty} e^{-jkT\omega} e^{j\omega t} d\omega$, 引入参量a</p>
<script type="math/tex; mode=display">
\begin{aligned}
\frac{1}{2\pi} \int_{-\infty}^{+\infty} e^{-jkT\omega} e^{j\omega t} d\omega

&= \lim_{a\to 0} \frac{1}{2\pi} \int_{-\infty}^{+\infty} e^{j(t-kT)\omega}  e^{-a\omega^2} d\omega\\

&= \lim_{a\to 0} e^{-\frac{(t-kT)^2}{4a}}
\frac{1}{2\pi} \int_{-\infty}^{+\infty} e^{-a[\omega - j\frac{(t-kT)}{2a}]^2} d\omega\\

&= \lim_{a\to 0} e^{-\frac{(t-kT)^2}{4a}}
\frac{1}{2\pi} \int_{-\infty}^{+\infty} e^{-a\omega^2} d\omega\\

&= \lim_{a\to 0} e^{-\frac{(t-kT)^2}{4a}}
\frac{1}{2\pi} \pi^{\frac{1}{2}} a^{-\frac{1}{2}}\\

&= \lim_{a\to 0} \frac{\pi^{-\frac{1}{2}} a^{-\frac{1}{2}}}{2} e^{-\frac{(t-kT)^2}{4a}} 
\quad 
[\frac{\pi^{-\frac{1}{2}} a^{-\frac{1}{2}}}{2} \int^{+\infty}_{-\infty} e^{-\frac{(t-kT)^2}{4a}} dt
= \frac{\pi^{-\frac{1}{2}} a^{-\frac{1}{2}}}{2} \pi^{\frac{1}{2}} 2 a^{\frac{1}{2}} = 1]\\

&= \delta(t-kT)
\end{aligned}</script><p>To sum up, 只需合理选择$\beta$, 保证$F_T(s) = \sum_{k=0}^{\infty} f(kT) [e^{-Ts}]^k$收敛即可</p>
<script type="math/tex; mode=display">
f_T(t) = f^{*}_T(t) = \sum_{k=0}^{\infty} f(kT) \delta(t-kT)\\
F_T(s) = \sum_{k=0}^{\infty} f(kT) [e^{-Ts}]^k</script><h2 id="考虑信号保持"><a href="#考虑信号保持" class="headerlink" title="考虑信号保持"></a>考虑信号保持</h2><p>$\hat{f}_T(t)=f(kT)$保持$t \in [kT, (k+1)T)$</p>
<p>则有</p>
<script type="math/tex; mode=display">
\begin{aligned}
\hat{f}_T(t) &\equiv \sum_{k=0}^{\infty} [f(kT) - f((k-1)T)] u(t-kT)\\

\hat{F}_T(s) &\equiv \sum_{k=0}^{\infty} [f(kT) - f((k-1)T)] \int_{0_{-}}^{\infty} u(t-kT) e^{-st} dt\\
&= \sum_{k=0}^{\infty} [f(kT) - f((k-1)T)] \int_{kT}^{\infty}e^{-st} dt\\
&= \sum_{k=0}^{\infty} [f(kT) - f((k-1)T)] \frac{[e^{-Ts}]^k}{s}\\
&= \Big\{ \sum_{k=0}^{\infty} f(kT) [e^{-Ts}]^k \Big\} \frac{[1 - e^{-Ts}]}{s}\\
&= F_T(s) \frac{[1 - e^{-Ts}]}{s}\\

\hat{f}^{*}_T(t) &\equiv \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} \hat{F}(s) e^{s t} ds\\
&= \sum_{k=0}^{\infty} [f(kT) - f((k-1)T)] \frac{1}{2\pi j} \int_{\beta-j\infty}^{\beta+j\infty} \frac{[e^{(t-kT)}]^s}{s} ds\\
&= \sum_{k=0}^{\infty} e^{(t-kT)\beta} [f(kT) - f((k-1)T)] \{ \frac{1}{2\pi} \int_{-\infty}^{+\infty} \frac{ e^{-jkT\omega} e^{j\omega t} }{\beta + j\omega} d\omega \}\\
&= \sum_{k=0}^{\infty} e^{(t-kT)\beta} [f(kT) - f((k-1)T)] \{ e^{-(t-kT)\beta} u(t-kT)\}\\
&= \sum_{k=0}^{\infty} [f(kT) - f((k-1)T)] u(t-kT) \\
& [u(t)|_{t=0} = \frac{1}{2\pi} \int_{-\infty}^{+\infty} \frac{1}{\beta + j\omega} d\omega = \frac{1}{2\pi j} \lim_{A\to \infty} \ln(\frac{A-j\beta}{-A-j\beta}) = \frac{1}{2}]
\end{aligned}</script><p>一方面，减少间隔T</p>
<script type="math/tex; mode=display">
\begin{aligned}
f(t) &= \lim_{T\to 0} \hat{f}_T(t)\\
F(s) &= \lim_{T\to 0} \hat{F}_T(s)
= \lim_{T\to 0} F_T(s) \lim_{T\to 0} \frac{[1 - e^{-Ts}]}{s}\\
&= T \lim_{T\to 0} F_T(s)\\
&= T \lim_{T\to 0} \Big\{ \sum_{k=0}^{\infty} f(kT) [e^{-Ts}]^k \Big\}\\
&\equiv \int_{0_{-}}^{\infty} f(t) e^{-st} dt \quad [T=dt, kT=t]
\end{aligned}</script><h2 id="考虑Fourier与Z"><a href="#考虑Fourier与Z" class="headerlink" title="考虑Fourier与Z"></a>考虑Fourier与Z</h2><p>反向思考, Z 和 Fourier的反变换：</p>
<script type="math/tex; mode=display">
\begin{aligned}
x(n) &= \frac{1}{2\pi j} \oint_C X(z) z^{n-1} dz \quad [C \text{ contains poles of } X(z)]\\
X(z) &= \sum^\infty_{n=0} x(n) z^{-n}
\end{aligned}</script><p>Here replace $z = e^{sT}$, we have</p>
<script type="math/tex; mode=display">
\begin{aligned}
f(nT) = x(n) &= \frac{1}{2\pi j} \oint_C X(z) e^{s(n-1)T} de^{sT}\\
&= \frac{1}{2\pi j} \int_{\beta-\frac{\pi}{T} j}^{\beta+\frac{\pi}{T} j} T X(z) e^{snT} ds\\

X(z) &= \sum^\infty_{n=0} x(n) z^{-n}\\
&= \sum^\infty_{n=0} f(nT) e^{-snT}\\
\end{aligned}</script><p>如果思考有函数</p>
<script type="math/tex; mode=display">
\begin{aligned}
f_z(t)|_{t=nT} &= f(nT)\\
F_z(s) &= TX(z) [u(\text{Im}(s)+\frac{\pi}{T}) - u(\text{Im}(s)-\frac{\pi}{T})]\\
&= [\sum^\infty_{n=0} f(nT) e^{-snT}] \cdot T [u(\text{Im}(s)+\frac{\pi}{T}) - u(\text{Im}(s)-\frac{\pi}{T})]\\
&= F_T(s) \cdot F_u(s)
\end{aligned}</script><p>If we know $f_T(t) = \mathbf{L^{-1}}[F_T(s)], f_u(t) = \mathbf{L^{-1}}[F_u(s)]$\<br>Then we have $f_z(t) = f_T(t) * f_u(t)$</p>
<script type="math/tex; mode=display">
\begin{aligned}
f_T(t) &= \sum_{n=0}^{\infty} f(nT) \delta(t-nT)\\
f_u(t) &= \frac{1}{2\pi j} \int_{\beta-\infty}^{\beta+\infty} T[u(\text{Im}(s)+\frac{\pi}{T}) - u(\text{Im}(s)-\frac{\pi}{T})]  e^{st} ds\\
&= \frac{1}{2\pi} e^{\beta t}T \int^{+\frac{\pi}{T}}_{-\frac{\pi}{T}} e^{j\omega t} d\omega\\
&= e^{\beta t} \frac{\sin (\frac{\pi}{T}t)}{(\frac{\pi}{T}t)} \quad [t\in (-\infty, +\infty)]\\

f_z(t) &= f_T(t) * f_u(t) = \sum_{n=0}^{\infty} f(nT) e^{\beta (t-nT)} \frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))} \quad [t\in (-\infty, +\infty)]\\

&= e^{\beta t} \sum_{n=0}^{\infty} f(nT) e^{-\beta nT} \frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))} \quad [t\in (-\infty, +\infty)]\\

F_z(s) &= \mathbf{L}(f_z(t)) = \mathbf{F}(f_z(t)e^{-\beta t})\\
&= \mathbf{F}[\sum_{n=0}^{\infty} f(nT) e^{-\beta nT} \frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))}]\\
&= \sum_{n=0}^{\infty} f(nT) e^{-\beta nT} \mathbf{F}[\frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))}]\\
&=[\sum_{n=0}^{\infty} f(nT) e^{-(\beta+j\omega) nT}]
\int^{+\infty}_{-\infty} \frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))} e^{-j\omega (t-nT)} d(t-nT)\\
&=[\sum_{n=0}^{\infty} f(nT) e^{-(\beta+j\omega) nT}]
\int^{+\infty}_{-\infty} \frac{\sin (\frac{\pi}{T}x)}{(\frac{\pi}{T}x)} e^{-j\omega x} dx\\
&=[\sum_{n=0}^{\infty} f(nT) e^{-(\beta+j\omega) nT}]
\int^{+\infty}_{-\infty} \frac{\sin (\frac{\pi}{T}x)}{(\frac{\pi}{T}x)} e^{j\omega x} dx\\
&=[\sum_{n=0}^{\infty} f(nT) e^{-(\beta+j\omega) nT}]
\frac{T}{2\pi j}\int^{+\infty}_{-\infty} \frac{e^{j\frac{\pi}{T}x} - e^{-j\frac{\pi}{T}x}}{x} e^{j\omega x} dx\\
&= [\sum_{n=0}^{\infty} f(nT) e^{-(\beta+j\omega) nT}] \cdot
T[u(\omega+\frac{\pi}{T}) - u(\omega-\frac{\pi}{T})]\\
&= [\sum^\infty_{n=0} f(nT) e^{-snT}] \cdot T [u(\text{Im}(s)+\frac{\pi}{T}) - u(\text{Im}(s)-\frac{\pi}{T})]
\end{aligned}\\
[\quad \int^{+\infty}_{-\infty} \frac{e^{j(\omega+a)x} - e^{j(\omega-a)x}}{x} dx = 2\pi j [u(\omega+a)-u(\omega-a)]\quad, a=\frac{\pi}{T} ]</script><p>Reason is</p>
<script type="math/tex; mode=display">
\begin{aligned}
\int^{+\infty}_{-\infty} \frac{e^{j(\omega+a)x} - e^{j(\omega-a)x}}{x} dx
&= \lim_{\epsilon \to 0+} [\int^{+\infty}_{+\epsilon} + \int^{+\epsilon}_{-\epsilon} + \int^{-\epsilon}_{-\infty}]\\
&= \lim_{\epsilon \to 0+} [\int^{+\infty}_{+\epsilon} + \int^{-\epsilon}_{-\infty}] + \lim_{\epsilon \to 0+} \int^{+\epsilon}_{-\epsilon} [j2a + o(1)] dx\\
&= \lim_{\epsilon \to 0+} [\int^{+\infty}_{+\epsilon} + \int^{-\epsilon}_{-\infty}] + \lim_{\epsilon \to 0+} j4a\epsilon\\
&= \lim_{\epsilon \to 0+} j2 \int^{+\infty}_{+\epsilon} \frac{\sin((\omega+a)x) - \sin((\omega+a)x)}{x} dx + 0\\
&= j\pi [\text{sgn}(\omega+a) - \text{sgn}(\omega-a)]\\
&= 2\pi j [u(\omega+a)-u(\omega-a)]
\end{aligned}</script><p>we will find poles for $F_z(s)$, here</p>
<script type="math/tex; mode=display">
s_k = \beta_k + j \omega_k + j m \frac{2\pi}{T} \quad m \in Z</script><p>In other way</p>
<script type="math/tex; mode=display">
\begin{aligned}
f_z^{*}(t) &= \frac{1}{2\pi j} \int^{\beta + j\infty}_{\beta - j\infty} F_z(s) e^{st} ds\\
&= \frac{1}{2\pi j} \int^{\beta + j\infty}_{\beta - j\infty} 
[\sum^\infty_{n=0} f(nT) e^{-snT}] \cdot T [u(\text{Im}(s)+\frac{\pi}{T}) - u(\text{Im}(s)-\frac{\pi}{T})] e^{st} ds\\
&= \sum^\infty_{n=0} f(nT) [\frac{T}{2\pi j} \int^{\beta + j\frac{\pi}{T}}_{\beta - j\frac{\pi}{T}} e^{s(t-nT)} ds]\\
&= \sum^\infty_{n=0} f(nT) [\frac{T}{2\pi j} e^{\beta(t-nT)} 2j \frac{\sin(\frac{\pi}{T}(t-nT))}{(t-nT)}]\\
&= \sum_{n=0}^{\infty} f(nT) e^{\beta (t-nT)} \frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))}\\

f_z^{*}(nT) &= f(nT)
\end{aligned}</script><h2 id="Relationship-to-Z"><a href="#Relationship-to-Z" class="headerlink" title="Relationship to Z"></a>Relationship to Z</h2><p>define $x(n), X(z)$, with $e^{sT} = z, \text{Im}(s)\in (-\frac{\pi}{T}, +\frac{\pi}{T}), z\in C$, here we have</p>
<script type="math/tex; mode=display">
x(n) \equiv f_z(t)|_{t=nT} = f(nT)\\
X(z) \equiv \frac{F_z(s)}{T} =[\sum^\infty_{n=0} f(nT) e^{-snT}] = [\sum^\infty_{n=0} f(nT) z^{-n}]</script><p>So inverse Z transformation</p>
<script type="math/tex; mode=display">
\begin{aligned}
x(n) &\equiv f_z(t)|_{t=nT} = \mathbf{L^{-1}}[F_z(s)]|_{t=nT}\\
&= [\frac{1}{2\pi j} \int^{\beta + j\infty}_{\beta - j\infty} F_z(s) e^{st} ds] |_{t=nT}\\
&= [\frac{1}{2\pi j} \int^{\beta + j\frac{\pi}{T}}_{\beta - j\frac{\pi}{T}} F_z(s) e^{st} ds] |_{t=nT}\\
&= \frac{1}{2\pi j} \oint_{|z| = e^{\beta}} TX(z) z^{n} d\frac{\ln(z)}{T}\\
&= \frac{1}{2\pi j} \oint_{|z| = e^{\beta}} X(z) z^{n-1} dz
\end{aligned}</script><h2 id="Relationship-to-离散时间傅里叶变换DTFT"><a href="#Relationship-to-离散时间傅里叶变换DTFT" class="headerlink" title="Relationship to 离散时间傅里叶变换DTFT"></a>Relationship to 离散时间傅里叶变换DTFT</h2><p>when $n \in (\infty, +\infty), \beta = 0$</p>
<script type="math/tex; mode=display">
\begin{aligned}
f_{DTFT}(t) &= \sum_{n=-\infty}^{\infty} f(nT) \frac{\sin (\frac{\pi}{T}(t-nT))}{(\frac{\pi}{T}(t-nT))}\\

F_{DTFT}(j\omega) &= F_z(s)|_{\text{Re}(s)=0} \\
&= [\sum^\infty_{n=0} f(nT) e^{-snT}] \cdot T [u(\text{Im}(s)+\frac{\pi}{T}) - u(\text{Im}(s)-\frac{\pi}{T})]|_{\text{Re}(s)=0}\\
&= [\sum^\infty_{n=0} f(nT) e^{-j\omega T n}] \cdot T [u(\omega+\frac{\pi}{T}) - u(\omega -\frac{\pi}{T})]\\
&= [\sum^\infty_{n=0} f(nT) e^{-j\Omega n}] \cdot T [u(\Omega+\pi) - u(\Omega -\pi)] \quad [\Omega \equiv \omega T]

\end{aligned}</script><p>Here we have $e^{sT} = e^{(\beta + j\omega)T} = e^{B} e^{j\Omega}$</p>
<script type="math/tex; mode=display">
\begin{aligned}
x(n) &\equiv f_{DTFT}(t)|_{t=nT} = f(nT)\\
X(e^{j\Omega}) &\equiv \frac{F_{DTFT}(j\omega)}{T}\\
&=[\sum^\infty_{n=0} f(nT) e^{-j\omega nT}] = [\sum^\infty_{n=0} x(n) e^{-j\Omega n}]\\

x(n) &= [\frac{1}{2\pi j} \int^{ + j\infty}_{ - j\infty} F_{DTFT}(j\omega) e^{j\omega t} dj\omega] |_{t=nT}\\
&= \frac{1}{2\pi} \int^{ + \pi/T}_{ - \pi/T} F_{DTFT}(j\omega) e^{j\omega T n} d\omega\\
&= \frac{1}{2\pi} \int^{ + \pi}_{ - \pi} T X(e^{j\Omega}) e^{j\Omega n} d\frac{\Omega}{T}\\
&= \frac{1}{2\pi} \int^{ + \pi}_{ - \pi} X(e^{j\Omega}) e^{j\Omega n} d\Omega
\end{aligned}</script>]]></content>
      <categories>
        <category>信号处理</category>
        <category>公式</category>
      </categories>
      <tags>
        <tag>math</tag>
        <tag>DSP</tag>
      </tags>
  </entry>
  <entry>
    <title>Chap 1 - 信息论框架</title>
    <url>/2020/05/15/information_theory/Chap_1/</url>
    <content><![CDATA[<h2 id="Chap-1"><a href="#Chap-1" class="headerlink" title="Chap 1"></a>Chap 1</h2><a id="more"></a>
<p><img src="/2020/05/15/information_theory/Chap_1/ch1_0.png" alt="ch1_1"></p>
<p><img src="/2020/05/15/information_theory/Chap_1/ch1_1.png" alt="ch1_1"></p>
<p><img src="/2020/05/15/information_theory/Chap_1/ch1_2.png" alt="ch1_1"></p>
<p><img src="/2020/05/15/information_theory/Chap_1/ch1_3.png" alt="ch1_1"></p>
<p><img src="/2020/05/15/information_theory/Chap_1/ch1_4.png" alt="ch1_1"></p>
<h3 id="香农重点-信源到信宿的全过程"><a href="#香农重点-信源到信宿的全过程" class="headerlink" title="香农重点: 信源到信宿的全过程"></a>香农重点: 信源到信宿的全过程</h3><p>= 收、发端联合最优化问题</p>
<p>重点: 编码</p>
<h3 id="维纳重点-接收端"><a href="#维纳重点-接收端" class="headerlink" title="维纳重点: 接收端"></a>维纳重点: 接收端</h3><p>研究消息在传输过程中受到干扰时，在接收端如何把消息从干扰中提取出来?</p>
<ul>
<li>最佳过滤理论（维纳滤波器）</li>
<li>统计检测与估计理论</li>
<li>噪声理论等</li>
</ul>
<h3 id="香农信息论缺陷"><a href="#香农信息论缺陷" class="headerlink" title="香农信息论缺陷"></a>香农信息论缺陷</h3><ol>
<li>寻找一个合适的概率模型往往是非常困难的。某些情况下，这一模型不一定存在</li>
<li>信息的度量没有考虑收信者的主观性和主观意义: 撇开了信息的具体含义、具体用途、重要程度和引起的后果等元素</li>
</ol>
]]></content>
      <categories>
        <category>信息论</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>information theory</tag>
      </tags>
  </entry>
  <entry>
    <title>Chap 5 - 编码+Shannon第一定理</title>
    <url>/2020/05/15/information_theory/Chap_5/</url>
    <content><![CDATA[<h2 id="Chap-5"><a href="#Chap-5" class="headerlink" title="Chap 5"></a>Chap 5</h2><a id="more"></a>
<ul>
<li>信源编码</li>
</ul>
<p>以提高通信有效性为目的的编码。</p>
<p>通常通过压缩信源的冗余度来实现。</p>
<p>采用的一般方法是压缩每个信源符号的平均比特数或信源的码率。</p>
<ul>
<li>信道编码</li>
</ul>
<p>是以提高信息传输的可靠性为目的的编码。</p>
<p>通常通过增加信源的冗余度来实现。</p>
<p>采用的一般方法是增大码率/带宽</p>
<ul>
<li>密码</li>
</ul>
<p>是以提高通信系统的安全性为目的的编码。</p>
<p>通常通过加密和解密来实现。</p>
<ul>
<li>R’ 编码信息率</li>
</ul>
<p>编码信息率大于信源的熵，才能实现无失真编码。</p>
<p>定义: R’=l*log(r)/N &gt; H(S) + $\epsilon$</p>
<ul>
<li>编码效率</li>
</ul>
<p>定义: $\eta$ = $\frac{H(S)}{R’} = \frac{H(S)}{\frac{l}{N}log(r)}$</p>
<p>方差$D[I(s_{i})]$和ε均为定值时，Pe&lt;=δ:</p>
<p>$N \geq \frac{D[I(s_{i})]}{\epsilon^{2}  \delta}$</p>
<p>代入最佳情况$\eta = \frac{H(S)}{H(S)+\epsilon}$, thus $\epsilon = \frac{1-\eta}{\eta}H(S)$</p>
<p>$N \geq \frac{D[I(s_{i})]}{ \delta} \frac{\eta^2}{(1-\eta)^2 H(S)^2}$</p>
<p>再对定长码有R’=l*log(r)/N, 对等长r元编码 =&gt;长度 l</p>
<ul>
<li>奇异码</li>
</ul>
<p>若一组码中有相同的码字，称为奇异码。</p>
<ul>
<li>唯一可译码</li>
</ul>
<p>若码的任意一串有限长的码符号序列只能被唯一的译成所对应的信源符号序列</p>
<ul>
<li>即时码</li>
</ul>
<p>任何一个码字后加上若干码元后都不是码组中另一个码字</p>
<p>范围：即时码 &lt; 唯一可译码 &lt; 非奇异码</p>
<p>即时码性质：译码是无须参考后面的码字就可以作出判断</p>
<ul>
<li>即时码的树图构造法</li>
</ul>
<p>在每个节点上都有r个分枝的树称为整树 =&gt;等长码</p>
<p>否则称为非整树。                                      =&gt;变长码</p>
<h3 id="定理5-4"><a href="#定理5-4" class="headerlink" title="定理5.4"></a>定理5.4</h3><p>对于码符号为 $X = {x_{1},…,x_{q}}$  的任意即时码，所对应的码长为 $l = {l_{1},…,l_{q}}$  ，必定满足：</p>
<p>$\sum_{i=1}^{q} r^{-l_{i}} \leq 1$</p>
<p>反之，若码长满足上式，则一定存在这样的即时码 。</p>
<p>可以根据即时码的树图构造法来证明。</p>
<p>(对于唯一可译码: (必要条件)必须满足上面的不等式) =&gt; 若码长满足上式，则一定存在这样的唯一可译码 </p>
<p>若存在一个码长为$l = {l_{1},…,l_{q}}$唯一可译码，则一定存在一个同样长度的即时码</p>
<h3 id="唯一可译变长码的判断法"><a href="#唯一可译变长码的判断法" class="headerlink" title="唯一可译变长码的判断法"></a>唯一可译变长码的判断法</h3><p>将码C中所有可能的尾随后缀组成一个集合F，当且仅当集合F中没有包含任一码字，则可判断此码C为唯一可译变长码</p>
<p>steps:</p>
<ol>
<li><p>首先观察其是否是非奇异码。若是奇异码则一定不是唯一可译码。</p>
</li>
<li><p>其次观察其是否满足克拉夫特不等式，若不满足一定不是唯一可译码。</p>
</li>
<li><p>将码画成一棵码树图，观察其是否满足即时码的树图的构造，若满足则是唯一可译码。</p>
</li>
<li><p>用萨得纳斯和彼特森设计的判断方法，计算出码中所有可能的尾随后缀集合F，观察F中有没有包含任一码字。</p>
<ul>
<li>若无则为唯一可译码；</li>
<li>若有则一定不是唯一可译码</li>
</ul>
</li>
</ol>
<h3 id="定理5-8-无失真变长信源编码定理（香农第一定理）"><a href="#定理5-8-无失真变长信源编码定理（香农第一定理）" class="headerlink" title="定理5.8 无失真变长信源编码定理（香农第一定理）"></a>定理5.8 无失真变长信源编码定理（香农第一定理）</h3><p>离散无记忆信源S的N次扩展信源$S_N$ ，其熵为$H(S_N)$  ，并且编码器的码元符号集为$X={x_1,x_2,…,x_r}$ </p>
<p>对信源$S_N$进行编码，总可以找到一种编码方法，构成唯一可译码，</p>
<p>使信源S中每个符号所需要的平均码长满足：</p>
<p><img src="/2020/05/15/information_theory/Chap_5/shannon1.png" alt="shannon1"></p>
<h3 id="香农第一定理的物理意义"><a href="#香农第一定理的物理意义" class="headerlink" title="香农第一定理的物理意义"></a>香农第一定理的物理意义</h3><p>无失真信源编码的实质就是对离散信源进行适当的变换，使变换后新的码符号信源(信道的输入信源)尽可能为等概率分布，以使新信源的每个码符号平均所含的信息量达到最大，</p>
<p>从而使信道的信息传输率R达到信道容量C，实现信源与信道理想的统计匹配</p>
<h3 id="无失真信源编码定理"><a href="#无失真信源编码定理" class="headerlink" title="(无失真信源编码定理)"></a>(无失真信源编码定理)</h3><p>若信道的信息传输率R&lt;=信道容量C，总能对信源的输出进行适当的编码，使的在无噪无损信道上能无差错的以最大信息传输率C</p>
<p>传输信息，若R大于C，则无差错传输是不可能的。</p>
]]></content>
      <categories>
        <category>信息论</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>information theory</tag>
      </tags>
  </entry>
  <entry>
    <title>Chap 6 - 译码+Shannon第二定理</title>
    <url>/2020/05/15/information_theory/Chap_6/</url>
    <content><![CDATA[<h2 id="Chap-6"><a href="#Chap-6" class="headerlink" title="Chap 6"></a>Chap 6</h2><a id="more"></a>
<h3 id="最大后验概率准则"><a href="#最大后验概率准则" class="headerlink" title="最大后验概率准则"></a>最大后验概率准则</h3><ul>
<li>选择译码函数 $F(b_j) = a^\ast$ 使满足 $P(b_j/a ^\ast) P(a^\ast) &gt;= P(b_j/a_i) P(a_i)$</li>
</ul>
<p>特殊情况</p>
<ul>
<li>若输入符号的先验概率 $p(a_i)$  均相等 =&gt; 最大似然译码准则</li>
</ul>
<h3 id="最大似然译码准则"><a href="#最大似然译码准则" class="headerlink" title="最大似然译码准则"></a>最大似然译码准则</h3><ul>
<li>选择译码函数 $F(b_j) = a^\ast$ 使满足 $P(b_j/a^\ast) &gt;= P(b_j/a_i)$</li>
</ul>
<p>特点</p>
<ul>
<li><p>最大似然译码准则本身不再依赖于先验概率。</p>
</li>
<li><p>当先验概率为等概率分布时，它使错误概率$P_E$最小</p>
</li>
</ul>
<h3 id="有噪信道编码定理-香农第二定理"><a href="#有噪信道编码定理-香农第二定理" class="headerlink" title="有噪信道编码定理(香农第二定理)"></a>有噪信道编码定理(香农第二定理)</h3><p>如一个离散无记忆信道，信道容量为C。</p>
<p>当信息传输率R≤C时，只要码长足够长，</p>
<p>总可以在输入Xn符号集中找到<br>$M=2^{nR}$ 个码字组成的一组码$(2^{nR},n)$和相应的译码准则，</p>
<p>使译码的平均错误概率达到任意小($P_E≈0$)</p>
<p>$P = rXs$ [r行$a_1 \to a_r$，每行sum = 1]</p>
<p>$H(X|Y) - H(P_E) - P_E log(r) &lt;= 0$</p>
<h3 id="错误概率与编码方法"><a href="#错误概率与编码方法" class="headerlink" title="错误概率与编码方法"></a>错误概率与编码方法</h3><p>n很大时，信息传输率会降低很多，</p>
<p>编码后的信息传输率表示为：$R=log(M)/n$</p>
<p>n位，M个用作消息的码字</p>
<p>n越大，PE越低,信息传输率R越低</p>
<h3 id="不严谨的考虑"><a href="#不严谨的考虑" class="headerlink" title="不严谨的考虑"></a>不严谨的考虑</h3><p>在二元信道的n次扩展信道中，选取其中的M个作为消息，则</p>
<p>M大一些，$P_E$ 跟着大，R也大;<br>M小一些,$P_E$跟着小，R也小</p>
<p>M个作为消息码字之间太“象”了，或者说太“近”了 ==&gt; P_E增加</p>
<p>引入$d_{\min}$:</p>
<p>$d_{\min}$越大，$P_E$越小，在M相同的情况下也是一样</p>
<h3 id="最小距离译码准则"><a href="#最小距离译码准则" class="headerlink" title="最小距离译码准则"></a>最小距离译码准则</h3><p>根据前式，最大似然译码准则可用汉明距离表示为</p>
<p>选择译码函数</p>
<p>使满足 $F(\beta_j) = a^\ast$</p>
<p>即$a^\ast$ 满足 $D (a^\ast, \beta_j) = D_{\min} (a_i, \beta_j)$</p>
<h3 id="无失真信源编码定理"><a href="#无失真信源编码定理" class="headerlink" title="(无失真信源编码定理)"></a>(无失真信源编码定理)</h3><p>若信道的信息传输率R&lt;=信道容量C，</p>
<p>总能对信源的输出进行适当的编码，使的在无噪无损信道上能无差错的以最大信息传输率C传输信息，</p>
<p>若R大于C，则无差错传输是不可能的。</p>
]]></content>
      <categories>
        <category>信息论</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>information theory</tag>
      </tags>
  </entry>
  <entry>
    <title>Chap 7 - 信道+信源</title>
    <url>/2020/05/15/information_theory/Chap_7/</url>
    <content><![CDATA[<h2 id="Chap-7"><a href="#Chap-7" class="headerlink" title="Chap 7"></a>Chap 7</h2><a id="more"></a>
<h3 id="信道容量-信道编码问题"><a href="#信道容量-信道编码问题" class="headerlink" title="信道容量 (信道编码问题)"></a>信道容量 (信道编码问题)</h3><h4 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h4><p>利用已给信道</p>
<ul>
<li>使传输的信息量最大 (最大信息率问题)</li>
<li>发生错误的概率任意小，</li>
</ul>
<p>提高通信的可靠性</p>
<h4 id="平均互信息"><a href="#平均互信息" class="headerlink" title="平均互信息"></a>平均互信息</h4><p>I(X;Y)是信源概率分布$p(x_i)(i=1,2,…,n)$或概率密度函数p(x)的上凸函数</p>
<p>根据上凸函数定义，如果I(X;Y)在定义域内对$p(x_i)$ 的极值存在，则该极值一定是极大值</p>
<h4 id="信道容量"><a href="#信道容量" class="headerlink" title="信道容量"></a>信道容量</h4><p>C = 在固定信道$p(y_j /x_i)$情况下，平均互信息极大值</p>
<h3 id="信息率失真函数-信源编码问题"><a href="#信息率失真函数-信源编码问题" class="headerlink" title="信息率失真函数 (信源编码问题)"></a>信息率失真函数 (信源编码问题)</h3><h4 id="目的-1"><a href="#目的-1" class="headerlink" title="目的"></a>目的</h4><p>已知信源和允许失真度D的条件下</p>
<ul>
<li><p>信源必须传送给信宿的信息率最小</p>
<p>[尽可能少的码符号 传送 固定多信源消息]</p>
</li>
</ul>
<p>提高通信的有效性, 反映信源可压缩程度</p>
<h4 id="信息率失真函数R-D-定义"><a href="#信息率失真函数R-D-定义" class="headerlink" title="信息率失真函数R(D)定义"></a>信息率失真函数R(D)定义</h4><p>信源给定，<br>容忍的失真度D内</p>
<ul>
<li>最小平均信息量 (再现信源消息所必须获得)</li>
</ul>
<h4 id="平均互信息-1"><a href="#平均互信息-1" class="headerlink" title="平均互信息"></a>平均互信息</h4><p>I(X;Y)又是信道转移概率分布$p(y_j /x_i)$或条件概率密度函数p(y/x)的下凸函数，</p>
<p>因此在满足保真度准则条件下，I(X;Y)对$p(y_j /x_i)$的条件极值若存在，则一定是极小值</p>
<h4 id="信息率失真函数"><a href="#信息率失真函数" class="headerlink" title="信息率失真函数"></a>信息率失真函数</h4><p>R(D) = 在固定信源$p(x_i)$, 保真度D下，平均互信息极小值</p>
]]></content>
      <categories>
        <category>信息论</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>information theory</tag>
      </tags>
  </entry>
  <entry>
    <title>Chap 8 - 编码方法</title>
    <url>/2020/05/15/information_theory/Chap_8/</url>
    <content><![CDATA[<h2 id="Chap-8"><a href="#Chap-8" class="headerlink" title="Chap 8"></a>Chap 8</h2><a id="more"></a>
<h3 id="无失真信源编码"><a href="#无失真信源编码" class="headerlink" title="无失真信源编码"></a>无失真信源编码</h3><p>香农编码、费诺编码、霍夫曼编码</p>
<h3 id="限失真信源编码"><a href="#限失真信源编码" class="headerlink" title="限失真信源编码"></a>限失真信源编码</h3><h4 id="游程编码"><a href="#游程编码" class="headerlink" title="游程编码"></a>游程编码</h4><ul>
<li>对相关信源编码更有效</li>
</ul>
<blockquote>
<p>例如：二元序列 000101110010001…</p>
<p>可变换成如下游程序列     31132131</p>
</blockquote>
<ul>
<li><p>减弱原序列符号间的相关性</p>
</li>
<li><p>将二元序列变换成了多元序列</p>
<p>[适合于用其他方法，如霍夫曼编码，进一步压缩信源，提高通信效率]</p>
</li>
<li>游程变换是一一对应的可逆变换，变换后熵值不变</li>
</ul>
<h4 id="游程编码的熵"><a href="#游程编码的熵" class="headerlink" title="游程编码的熵"></a>游程编码的熵</h4><p>eg. 二元独立序列游程长度的熵</p>
<p>“0”游程长度L(0)的概率为</p>
<p>$p[L(0)]=p_0^{L(0)－1} p_1$</p>
<p>“1”游程长度L(1)的概率为</p>
<p>$P[L(1)]=p_1^{L(1)-1} p_0$</p>
<p>游程变换后符号熵没有变。</p>
<p>因为游程变换是一一对应的可逆变换，所以变换后熵值不变，这也说明变换后的游程序列是独立序列(for 二元独立序列 )<br>$H(p_0)= H(p_1)$</p>
<p>$0:   H[L(0)] = H(p_0)/p_1;   l_0 = 1/p_1$</p>
<p>$1:   H[L(1)] = H(p_1)/p_0   l_1 = 1/p_0$</p>
<p>$H(X) = {H[L(0)] + H[L(1)]}/(l_0+l_1) = H(p_0) = H(p_1)$</p>
<p>游程长度可从1到无穷，要建立游程长度和码字之间的一一对应的码表是困难的 ==&gt; 长码的截断处理</p>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><ol>
<li>首先测定“0”游程长度和“1”游程长度的概率分布，即以游程长度为元素，构造一个新的信源；</li>
<li>对新的信源（游程序列）进行霍夫曼编码</li>
</ol>
]]></content>
      <categories>
        <category>信息论</category>
        <category>BIT课件</category>
      </categories>
      <tags>
        <tag>information theory</tag>
      </tags>
  </entry>
  <entry>
    <title>apt install</title>
    <url>/2020/05/17/linux_cmd/apt/</url>
    <content><![CDATA[<h2 id="apt-install"><a href="#apt-install" class="headerlink" title="apt install"></a>apt install</h2><a id="more"></a>
<p>安装软件的时候出现了Package has no installation candidate的问题，如：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">#  apt-get install &lt;packagename&gt;</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency <span class="built_in">tree</span>... Done</span><br><span class="line">Package aptitude is <span class="keyword">not</span> available, but is referred to by another package.</span><br><span class="line">This may mean that the package is missing, has been obsoleted, or</span><br><span class="line">is only available from another source</span><br><span class="line"><span class="function">E: <span class="title">Package</span> &lt;<span class="title">packagename</span>&gt; <span class="title">has</span> <span class="title">no</span> <span class="title">installation</span> <span class="title">candidate</span></span></span><br></pre></td></tr></table></figure>
<p>解决方法如下：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"># apt-get update</span><br><span class="line"># apt-get upgrade</span><br><span class="line"># apt-get install &lt;packagename&gt;</span><br></pre></td></tr></table></figure>
<p>这样就可以正常使用apt-get</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>copy</title>
    <url>/2020/05/17/linux_cmd/copy/</url>
    <content><![CDATA[<h2 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h2><a id="more"></a>
<p>Linux中使用cp命令报cp:omitting directory错误</p>
<p>这是因为test1目录下还有目录，不能直接进行拷贝。 </p>
<p>先找下cp 的命令帮助，输入cp —h .</p>
<p>其中一个-r，能解决这个问题。<br>在cp命令后，加一个选项 -r . </p>
<p>cp -r  /TEST/test1 /TEST/test2.<br>解释一下： -r 这个options 是递归的意思。</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>download</title>
    <url>/2020/05/17/linux_cmd/download/</url>
    <content><![CDATA[<h2 id="download"><a href="#download" class="headerlink" title="download"></a>download</h2><a id="more"></a>
<p>1.下载命令wget,</p>
<p>usage: wget -i http://*</p>
<p>说明: <a href="http://*为下载文件网址及文件名" target="_blank" rel="noopener">http://*为下载文件网址及文件名</a></p>
<p>example: wget -i <a href="http://xp6.yyxt.com/201201/GZOS_XP_1.1.iso" target="_blank" rel="noopener">http://xp6.yyxt.com/201201/GZOS_XP_1.1.iso</a></p>
<p>2.用axel加快下载速度</p>
<p>安装axel</p>
<p>apt-get install axel</p>
<p>运行axel</p>
<p>usage:<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">axel －n <span class="number">10</span> -o /tmp/ http://xp6.yyxt.com/<span class="number">201201</span>/GZOS_XP_1.<span class="number">1</span>.iso</span><br></pre></td></tr></table></figure></p>
<p>3.用aria2断点下载文件</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">apt-get install aria2</span><br><span class="line"></span><br><span class="line">aria2c http://xp6.yyxt.com/<span class="number">201201</span>/GZOS_XP_1.<span class="number">1</span>.iso</span><br></pre></td></tr></table></figure>
<p>分段下载：<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">aria2c -s <span class="number">2</span> http://xp6.yyxt.com/<span class="number">201201</span>/GZOS_XP_1.<span class="number">1</span>.iso</span><br></pre></td></tr></table></figure></p>
<p>断点下载：<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">aria2c -c http://xp6.yyxt.com/<span class="number">201201</span>/GZOS_XP_1.<span class="number">1</span>.iso</span><br></pre></td></tr></table></figure></p>
<p>下载torrent文件<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">example: <span class="title">aria2c</span> -<span class="title">o</span> *.<span class="title">torrent</span> <span class="title">http</span>://*</span></span><br></pre></td></tr></table></figure></p>
<p><a href="http://www.jb51.net/os/Ubuntu/343168.html" target="_blank" rel="noopener">http://www.jb51.net/os/Ubuntu/343168.html</a>   在Ubuntu系统上使用apt-fast来加快apt-get下载的教程</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>linux查看磁盘信息</title>
    <url>/2020/05/15/linux_cmd/disk_info/</url>
    <content><![CDATA[<h2 id="linux查看磁盘信息"><a href="#linux查看磁盘信息" class="headerlink" title="linux查看磁盘信息"></a>linux查看磁盘信息</h2><p><a href="https://www.jb51.net/LINUXjishu/160497.html" target="_blank" rel="noopener">https://www.jb51.net/LINUXjishu/160497.html</a>  linux查看磁盘挂载的三种方法</p>
<a id="more"></a>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassin@dassein:~$ <span class="title">df</span> -<span class="title">kv</span></span></span><br><span class="line"><span class="function"><span class="title">Filesystem</span>     1<span class="title">K</span>-<span class="title">blocks</span>     <span class="title">Used</span> <span class="title">Available</span> <span class="title">Use</span>% <span class="title">Mounted</span> <span class="title">on</span></span></span><br><span class="line"><span class="function"><span class="title">udev</span>             6023316        0   6023316   0% /<span class="title">dev</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            1209008    10072   1198936   1% /<span class="title">run</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p8</span>  16834880  4725920  11230728  30% /</span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            6045020      376   6044644   1% /<span class="title">dev</span>/<span class="title">shm</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>               5120        4      5116   1% /<span class="title">run</span>/<span class="title">lock</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            6045020        0   6045020   0% /<span class="title">sys</span>/<span class="title">fs</span>/<span class="title">cgroup</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p5</span>    497696     1156    496540   1% /<span class="title">boot</span>/<span class="title">efi</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            1209004      120   1208884   1% /<span class="title">run</span>/<span class="title">user</span>/1000</span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">sda1</span>       72586216 32109820  40476396  45% /<span class="title">media</span>/<span class="title">dassin</span>/<span class="title">Windows10</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p1</span> 176656380   311220 176345160   1% /<span class="title">media</span>/<span class="title">dassin</span>/<span class="title">New</span> <span class="title">Volume</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p6</span>  11468016   139056  10726696   2% /<span class="title">media</span>/<span class="title">dassin</span>/<span class="title">b7ba5ef9</span>-77<span class="title">f0</span>-4<span class="title">aa2</span>-<span class="title">a1fa</span>-131011320<span class="title">d54</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p7</span>  29666284  3860224  24276052  14% /<span class="title">media</span>/<span class="title">dassin</span>/144362<span class="title">ae</span>-35<span class="title">fa</span>-4437-814<span class="title">c</span>-7<span class="title">a3098a4d903</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">sda5</span>       43817252 30798012  13019240  71% /<span class="title">media</span>/<span class="title">dassin</span>/0000<span class="title">BCCE0004B966</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>delete</title>
    <url>/2020/05/17/linux_cmd/delete/</url>
    <content><![CDATA[<h2 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h2><a id="more"></a>
<p>删除文件夹实例：<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">rm -rf /var/log/httpd/access</span><br></pre></td></tr></table></figure><br>将会删除<code>/var/log/httpd/access</code>目录以及其下所有文件、文件夹</p>
<p>删除文件使用实例：<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">rm -f /var/log/httpd/access.log</span><br></pre></td></tr></table></figure><br>将会强制删除<code>/var/log/httpd/access.log</code>这个文件</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>linux cmd</title>
    <url>/2020/05/17/linux_cmd/linux_cmd%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h2 id><a href="#" class="headerlink" title=" "></a> </h2><a id="more"></a>
<div class="pdfobject-container" data-target="https://dassein.github.io/pdf/linux_command_reference.pdf" data-height="1000px"></div>]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>move</title>
    <url>/2020/05/17/linux_cmd/move/</url>
    <content><![CDATA[<h2 id="move"><a href="#move" class="headerlink" title="move"></a>move</h2><a id="more"></a>
<p><a href="http://www.jb51.net/LINUXjishu/151037.html" target="_blank" rel="noopener">http://www.jb51.net/LINUXjishu/151037.html</a>  linux中mv命令使用详解(移动文件或者将文件改名)</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装LaTeX工具</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85LaTeX%E5%B7%A5%E5%85%B7/</url>
    <content><![CDATA[<h2 id="linux安装LaTeX工具"><a href="#linux安装LaTeX工具" class="headerlink" title="linux安装LaTeX工具"></a>linux安装LaTeX工具</h2><a id="more"></a>
<h3 id="安装texlive-full"><a href="#安装texlive-full" class="headerlink" title="安装texlive-full"></a>安装texlive-full</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">texlive</span>-<span class="title">full</span></span></span><br><span class="line"><span class="function">[<span class="title">sudo</span>] <span class="title">password</span> <span class="title">for</span> <span class="title">dassein</span>: </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">0 <span class="title">upgraded</span>, 172 <span class="title">newly</span> <span class="title">installed</span>, 0 <span class="title">to</span> <span class="title">remove</span> <span class="title">and</span> 182 <span class="title">not</span> <span class="title">upgraded</span>.</span></span><br><span class="line"><span class="function"><span class="title">Need</span> <span class="title">to</span> <span class="title">get</span> 2,015 <span class="title">MB</span> <span class="title">of</span> <span class="title">archives</span>.</span></span><br><span class="line"><span class="function"><span class="title">After</span> <span class="title">this</span> <span class="title">operation</span>, 3,814 <span class="title">MB</span> <span class="title">of</span> <span class="title">additional</span> <span class="title">disk</span> <span class="title">space</span> <span class="title">will</span> <span class="title">be</span> <span class="title">used</span>.</span></span><br><span class="line"><span class="function"><span class="title">Do</span> <span class="title">you</span> <span class="title">want</span> <span class="title">to</span> <span class="title">continue</span>? [<span class="title">Y</span>/<span class="title">n</span>] <span class="title">y</span></span></span><br><span class="line"><span class="function"><span class="title">Fetched</span> 2,014 <span class="title">MB</span> <span class="title">in</span> 32<span class="title">min</span> 22<span class="title">s</span> (1,037 <span class="title">kB</span>/<span class="title">s</span>)                                     </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Creating</span> <span class="title">config</span> <span class="title">file</span> /<span class="title">etc</span>/<span class="title">perl</span>/<span class="title">XML</span>/<span class="title">SAX</span>/<span class="title">ParserDetails.ini</span> <span class="title">with</span> <span class="title">new</span> <span class="title">version</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">xdvi</span>-<span class="title">xaw</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">xdvi.bin</span> (<span class="title">xdvi.bin</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">bibtex.original</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">bibtex</span> (<span class="title">bibtex</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">Replacing</span> <span class="title">config</span> <span class="title">file</span> /<span class="title">etc</span>/<span class="title">perl</span>/<span class="title">XML</span>/<span class="title">SAX</span>/<span class="title">ParserDetails.ini</span> <span class="title">with</span> <span class="title">new</span> <span class="title">version</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">tex</span>-<span class="title">common</span> (6.05) ...</span></span><br><span class="line"><span class="function"><span class="title">texlive</span>-<span class="title">base</span> <span class="title">is</span> <span class="title">not</span> <span class="title">ready</span>, <span class="title">delaying</span> <span class="title">updmap</span>-<span class="title">sys</span> <span class="title">call</span></span></span><br><span class="line"><span class="function"><span class="title">texlive</span>-<span class="title">base</span> <span class="title">is</span> <span class="title">not</span> <span class="title">ready</span>, <span class="title">skipping</span> <span class="title">fmtutil</span> --<span class="title">all</span> <span class="title">call</span></span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">dvipng</span> (1.15-0<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">texlive</span>-<span class="title">base</span> (2016.20160819-2) ...</span></span><br><span class="line"><span class="function"><span class="title">mktexlsr</span>: <span class="title">Updating</span> /<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">ls</span>-<span class="title">R</span>-<span class="title">TEXLIVEDIST</span>... </span></span><br><span class="line"><span class="function"><span class="title">mktexlsr</span>: <span class="title">Updating</span> /<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">ls</span>-<span class="title">R</span>-<span class="title">TEXMFMAIN</span>... </span></span><br><span class="line"><span class="function"><span class="title">mktexlsr</span>: <span class="title">Updating</span> /<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">ls</span>-<span class="title">R</span>... </span></span><br><span class="line"><span class="function"><span class="title">Running</span> <span class="title">mktexlsr</span> /<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span> ... <span class="title">done</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Regenerating</span> '/<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">fmtutil.cnf</span>-<span class="title">DEBIAN</span>'... <span class="title">done</span>.</span></span><br><span class="line"><span class="function"><span class="title">Regenerating</span> '/<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">fmtutil.cnf</span>-<span class="title">TEXLIVEDIST</span>'... <span class="title">done</span>.</span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">fmtutil</span> <span class="title">has</span> <span class="title">updated</span> <span class="title">the</span> <span class="title">following</span> <span class="title">file</span>(<span class="title">s</span>):</span></span><br><span class="line"><span class="function">	/<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">fmtutil.cnf</span>-<span class="title">DEBIAN</span></span></span><br><span class="line"><span class="function">	/<span class="title">var</span>/<span class="title">lib</span>/<span class="title">texmf</span>/<span class="title">fmtutil.cnf</span>-<span class="title">TEXLIVEDIST</span></span></span><br><span class="line"><span class="function"><span class="title">If</span> <span class="title">you</span> <span class="title">want</span> <span class="title">to</span> <span class="title">activate</span> <span class="title">the</span> <span class="title">changes</span> <span class="title">in</span> <span class="title">the</span> <span class="title">above</span> <span class="title">file</span>(<span class="title">s</span>),</span></span><br><span class="line"><span class="function"><span class="title">you</span> <span class="title">should</span> <span class="title">run</span> <span class="title">fmtutil</span>-<span class="title">sys</span> <span class="title">or</span> <span class="title">fmtutil</span>.</span></span><br></pre></td></tr></table></figure>
<p>安装后测试一下</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">latex</span></span></span><br><span class="line"><span class="function"><span class="title">This</span> <span class="title">is</span> <span class="title">pdfTeX</span>, <span class="title">Version</span> 3.14159265-2.6-1.40.17 (<span class="title">TeX</span> <span class="title">Live</span> 2016/<span class="title">Debian</span>) (<span class="title">preloaded</span> <span class="title">format</span>=<span class="title">latex</span>)</span></span><br><span class="line"><span class="function"> <span class="title">restricted</span> \<span class="title">write18</span> <span class="title">enabled</span>.</span></span><br></pre></td></tr></table></figure>
<h3 id="安装编辑器texstudio"><a href="#安装编辑器texstudio" class="headerlink" title="安装编辑器texstudio"></a>安装编辑器texstudio</h3><p>如果需要一个编辑器，建议texstudio,或者用vim也可以。这里安装texstudio</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">sudo apt-get install texstudio</span><br></pre></td></tr></table></figure>
<p>然后命令行, 即可使用</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">texstudio</span></span></span><br></pre></td></tr></table></figure>
<h3 id="生成pdf"><a href="#生成pdf" class="headerlink" title="生成pdf"></a>生成pdf</h3><p>例子: 以stju论文模板为例</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/weijianwen/SJTUThesis.git</span><br></pre></td></tr></table></figure>
<p>解压, 进入解压文件夹SJTUThesis-master<br>编辑./SJTUThesis-master/thesis.tex, 编辑用texstudio</p>
<p>进入SJTUThesis的文件夹中。在终端里输入</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./SJTUThesis-master</span><br><span class="line">make clean thesis.pdf</span><br></pre></td></tr></table></figure>
<p>如此，生成thesis.pdf</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>latex</tag>
      </tags>
  </entry>
  <entry>
    <title>source</title>
    <url>/2020/05/17/linux_cmd/source/</url>
    <content><![CDATA[<h2 id="source"><a href="#source" class="headerlink" title="source"></a>source</h2><a id="more"></a>
<p>修改了/etc/profile，需要用source一下，于是写入命令</p>
<p>用su直接切换到root，再执行<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">su root</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>linux</category>
        <category>cmd</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装MATLAB</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85MATLAB/</url>
    <content><![CDATA[<h2 id="linux安装MATLAB"><a href="#linux安装MATLAB" class="headerlink" title="linux安装MATLAB"></a>linux安装MATLAB</h2><a id="more"></a>
<h3 id="step-1"><a href="#step-1" class="headerlink" title="step 1"></a>step 1</h3><p>下载安装包rar后, 解压为iso</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">Downloads$ rar x MATHWORKS_R2014A.part1.rar</span><br><span class="line">RAR <span class="number">5</span>.<span class="number">30</span> beta <span class="number">2</span>   Copyright (c) <span class="number">1993</span>-<span class="number">2015</span> Alexander Roshal   <span class="number">4</span> Aug <span class="number">2015</span></span><br><span class="line">Trial version             <span class="built_in">Type</span> RAR -? <span class="keyword">for</span> <span class="built_in">help</span></span><br><span class="line">Extracting from MATHWORKS_R2014A.part1.rar</span><br><span class="line">Extracting  MATHWORKS_R2014A.iso                                      <span class="number">58</span>%</span><br><span class="line">Extracting from MATHWORKS_R2014A.part2.rar</span><br><span class="line">...         MATHWORKS_R2014A.iso                                      OK </span><br><span class="line">All OK</span><br></pre></td></tr></table></figure>
<h3 id="step-2"><a href="#step-2" class="headerlink" title="step 2"></a>step 2</h3><p>安装matlab<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~/<span class="title">Downloads</span>$ <span class="title">su</span> <span class="title">root</span></span></span><br><span class="line"><span class="function"><span class="title">Password</span>: </span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">sudo</span> <span class="title">mkdir</span> /<span class="title">media</span>/<span class="title">matlab</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">mount</span> -<span class="title">o</span> <span class="title">loop</span> /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/<span class="title">MATHWORKS_R2014A.iso</span> /<span class="title">media</span>/<span class="title">matlab</span></span></span><br><span class="line"><span class="function"><span class="title">mount</span>: /<span class="title">dev</span>/<span class="title">loop0</span> <span class="title">is</span> <span class="title">write</span>-<span class="title">protected</span>, <span class="title">mounting</span> <span class="title">read</span>-<span class="title">only</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">cd</span> /<span class="title">media</span>/<span class="title">matlab</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">media</span>/<span class="title">matlab</span># <span class="title">sudo</span> ./<span class="title">install</span></span></span><br><span class="line"><span class="function"><span class="title">Preparing</span> <span class="title">installation</span> <span class="title">files</span> ...</span></span><br><span class="line"><span class="function"><span class="title">Installing</span> ...</span></span><br><span class="line"><span class="function"><span class="title">Finished</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="step-3"><a href="#step-3" class="headerlink" title="step 3"></a>step 3</h3><p>破解matlab</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">media</span>/<span class="title">matlab</span># <span class="title">cd</span> /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">sudo</span> <span class="title">cp</span> <span class="title">libmwservices.so</span> /<span class="title">usr</span>/<span class="title">local</span>/<span class="title">MATLAB</span>/<span class="title">R2014a</span>/<span class="title">bin</span>/<span class="title">glnxa64</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">exit</span></span></span><br><span class="line"><span class="function"><span class="title">exit</span></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~/<span class="title">Downloads</span>$ <span class="title">matlab</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>matlab</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装Quartus软件FPGA部分</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85Quartus%E8%BD%AF%E4%BB%B6FPGA%E9%83%A8%E5%88%86/</url>
    <content><![CDATA[<h2 id="linux安装Quartus软件FPGA部分"><a href="#linux安装Quartus软件FPGA部分" class="headerlink" title="linux安装Quartus软件FPGA部分"></a>linux安装Quartus软件FPGA部分</h2><a id="more"></a>
<p>问题解决+启动方式</p>
<p>比如, 安装Quartus16后</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/<span class="title">Crack_Quartus_Prime_Standard_Pro_16</span>.1<span class="title">_Linux</span># <span class="title">cp</span> <span class="title">libgcl_afcq.so</span> /<span class="title">opt</span>/<span class="title">intelFPGA</span>/16.1/<span class="title">quartus</span>/<span class="title">linux64</span>/</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/<span class="title">Crack_Quartus_Prime_Standard_Pro_16</span>.1<span class="title">_Linux</span># <span class="title">cp</span> <span class="title">libsys_cpt.so</span> /<span class="title">opt</span>/<span class="title">intelFPGA</span>/16.1/<span class="title">quartus</span>/<span class="title">linux64</span>/</span></span><br></pre></td></tr></table></figure>
<p>然后启动Quartus16验证<br><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line">root<span class="variable">@pad</span><span class="symbol">:/home/dassein/Downloads/Crack_Quartus_Prime_Standard_Pro_16</span>.<span class="number">1_</span>Linux<span class="comment"># /opt/intelFPGA/16.1/quartus/bin/quartus</span></span><br></pre></td></tr></table></figure></p>
<h3 id="option"><a href="#option" class="headerlink" title="option"></a>option</h3><p>对于Quartus13, Quartus15网络web版，类似操作后<br>然后启动Quartus15网络web版验证</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/<span class="title">Crack_Quartus_Prime_Standard_Pro_16</span>.1<span class="title">_Linux</span># /<span class="title">opt</span>/<span class="title">altera</span>/15.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span>   //15.0 <span class="title">web</span> 版</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>Quartus</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装WPS</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85WPS/</url>
    <content><![CDATA[<h2 id="linux安装WPS"><a href="#linux安装WPS" class="headerlink" title="linux安装WPS"></a>linux安装WPS</h2><a id="more"></a>
<h3 id="所需cmd"><a href="#所需cmd" class="headerlink" title="所需cmd"></a>所需cmd</h3><p>首先下载好libpng12-0_1.2.49-1+deb7u2_amd64.deb</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">libc6</span>-<span class="title">i386</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">ia32</span>-<span class="title">libs</span></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~/<span class="title">Downloads</span>$ <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> -<span class="title">f</span>  <span class="title">install</span> ./<span class="title">libpng12</span>-0<span class="title">_1</span>.2.49-1+<span class="title">deb7u2_amd64.deb</span></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~/<span class="title">Downloads</span>$ <span class="title">sudo</span> <span class="title">dpkg</span> -<span class="title">i</span> <span class="title">wps</span>-<span class="title">office_10</span>.1.0.5672~<span class="title">a21_amd64.deb</span></span></span><br></pre></td></tr></table></figure>
<h3 id="step-1"><a href="#step-1" class="headerlink" title="step 1"></a>step 1</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">libc6</span>-<span class="title">i386</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~$ <span class="title">cd</span> ~/<span class="title">Downloads</span></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~/<span class="title">Downloads</span>$ <span class="title">sudo</span> <span class="title">dpkg</span> -<span class="title">i</span> <span class="title">wps</span>-<span class="title">office_10</span>.1.0.5672~<span class="title">a21_amd64.deb</span></span></span><br><span class="line"><span class="function"><span class="title">Selecting</span> <span class="title">previously</span> <span class="title">unselected</span> <span class="title">package</span> <span class="title">wps</span>-<span class="title">office</span>.</span></span><br><span class="line"><span class="function">(<span class="title">Reading</span> <span class="title">database</span> ... 347078 <span class="title">files</span> <span class="title">and</span> <span class="title">directories</span> <span class="title">currently</span> <span class="title">installed</span>.)</span></span><br><span class="line"><span class="function"><span class="title">Preparing</span> <span class="title">to</span> <span class="title">unpack</span> <span class="title">wps</span>-<span class="title">office_10</span>.1.0.5672~<span class="title">a21_amd64.deb</span> ...</span></span><br><span class="line"><span class="function"><span class="title">Unpacking</span> <span class="title">wps</span>-<span class="title">office</span> (10.1.0.5672~<span class="title">a21</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">dpkg</span>: <span class="title">dependency</span> <span class="title">problems</span> <span class="title">prevent</span> <span class="title">configuration</span> <span class="title">of</span> <span class="title">wps</span>-<span class="title">office</span>:</span></span><br><span class="line"><span class="function"> <span class="title">wps</span>-<span class="title">office</span> <span class="title">depends</span> <span class="title">on</span> <span class="title">libpng12</span>-0; <span class="title">however</span>:</span></span><br><span class="line"><span class="function">  <span class="title">Package</span> <span class="title">libpng12</span>-0 <span class="title">is</span> <span class="title">not</span> <span class="title">installed</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">dpkg</span>: <span class="title">error</span> <span class="title">processing</span> <span class="title">package</span> <span class="title">wps</span>-<span class="title">office</span> (--<span class="title">install</span>):</span></span><br><span class="line"><span class="function"> <span class="title">dependency</span> <span class="title">problems</span> - <span class="title">leaving</span> <span class="title">unconfigured</span></span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">bamfdaemon</span> (0.5.3+16.10.20160929-0<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Rebuilding</span> /<span class="title">usr</span>/<span class="title">share</span>/<span class="title">applications</span>/<span class="title">bamf</span>-2.<span class="title">index</span>...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">gnome</span>-<span class="title">menus</span> (3.13.3-6<span class="title">ubuntu4</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">desktop</span>-<span class="title">file</span>-<span class="title">utils</span> (0.23-1<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">mime</span>-<span class="title">support</span> (3.60<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">shared</span>-<span class="title">mime</span>-<span class="title">info</span> (1.7-1) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">hicolor</span>-<span class="title">icon</span>-<span class="title">theme</span> (0.15-1) ...</span></span><br><span class="line"><span class="function"><span class="title">Errors</span> <span class="title">were</span> <span class="title">encountered</span> <span class="title">while</span> <span class="title">processing</span>:</span></span><br><span class="line"><span class="function"> <span class="title">wps</span>-<span class="title">office</span></span></span><br></pre></td></tr></table></figure>
<h3 id="step-2"><a href="#step-2" class="headerlink" title="step 2"></a>step 2</h3><p>我们注意到 <code>Package libpng12-0 is not installed.</code></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~/<span class="title">Downloads</span>$ <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> -<span class="title">f</span>  <span class="title">install</span> ./<span class="title">libpng12</span>-0<span class="title">_1</span>.2.49-1+<span class="title">deb7u2_amd64.deb</span></span></span><br><span class="line"><span class="function"><span class="title">Reading</span> <span class="title">package</span> <span class="title">lists</span>... <span class="title">Done</span></span></span><br><span class="line"><span class="function"><span class="title">Building</span> <span class="title">dependency</span> <span class="title">tree</span>  </span></span><br><span class="line"><span class="function"><span class="title">Reading</span> <span class="title">state</span> <span class="title">information</span>... <span class="title">Done</span></span></span><br><span class="line"><span class="function"><span class="title">Correcting</span> <span class="title">dependencies</span>... <span class="title">Done</span></span></span><br><span class="line"><span class="function"><span class="title">Note</span>, <span class="title">selecting</span> '<span class="title">libpng12</span>-0' <span class="title">instead</span> <span class="title">of</span> './<span class="title">libpng12</span>-0<span class="title">_1</span>.2.49-1+<span class="title">deb7u2_amd64.deb</span>'</span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">following</span> <span class="title">package</span> <span class="title">was</span> <span class="title">automatically</span> <span class="title">installed</span> <span class="title">and</span> <span class="title">is</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">required</span>:</span></span><br><span class="line"><span class="function">  <span class="title">ubuntu</span>-<span class="title">core</span>-<span class="title">launcher</span></span></span><br><span class="line"><span class="function"><span class="title">Use</span> '<span class="title">sudo</span> <span class="title">apt</span> <span class="title">autoremove</span>' <span class="title">to</span> <span class="title">remove</span> <span class="title">it</span>.</span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">following</span> <span class="title">NEW</span> <span class="title">packages</span> <span class="title">will</span> <span class="title">be</span> <span class="title">installed</span>:</span></span><br><span class="line"><span class="function">  <span class="title">libpng12</span>-0</span></span><br><span class="line"><span class="function">0 <span class="title">upgraded</span>, 1 <span class="title">newly</span> <span class="title">installed</span>, 0 <span class="title">to</span> <span class="title">remove</span> <span class="title">and</span> 0 <span class="title">not</span> <span class="title">upgraded</span>.</span></span><br><span class="line"><span class="function">1 <span class="title">not</span> <span class="title">fully</span> <span class="title">installed</span> <span class="title">or</span> <span class="title">removed</span>.</span></span><br><span class="line"><span class="function"><span class="title">Need</span> <span class="title">to</span> <span class="title">get</span> 0 <span class="title">B</span>/191 <span class="title">kB</span> <span class="title">of</span> <span class="title">archives</span>.</span></span><br><span class="line"><span class="function"><span class="title">After</span> <span class="title">this</span> <span class="title">operation</span>, 308 <span class="title">kB</span> <span class="title">of</span> <span class="title">additional</span> <span class="title">disk</span> <span class="title">space</span> <span class="title">will</span> <span class="title">be</span> <span class="title">used</span>.</span></span><br><span class="line"><span class="function"><span class="title">Get</span>:1 /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/<span class="title">libpng12</span>-0<span class="title">_1</span>.2.49-1+<span class="title">deb7u2_amd64.deb</span> <span class="title">libpng12</span>-0 <span class="title">amd64</span> 1.2.49-1+<span class="title">deb7u2</span> [191 <span class="title">kB</span>]</span></span><br><span class="line"><span class="function"><span class="title">Selecting</span> <span class="title">previously</span> <span class="title">unselected</span> <span class="title">package</span> <span class="title">libpng12</span>-0:<span class="title">amd64</span>.</span></span><br><span class="line"><span class="function">(<span class="title">Reading</span> <span class="title">database</span> ... 349542 <span class="title">files</span> <span class="title">and</span> <span class="title">directories</span> <span class="title">currently</span> <span class="title">installed</span>.)</span></span><br><span class="line"><span class="function"><span class="title">Preparing</span> <span class="title">to</span> <span class="title">unpack</span> .../<span class="title">libpng12</span>-0<span class="title">_1</span>.2.49-1+<span class="title">deb7u2_amd64.deb</span> ...</span></span><br><span class="line"><span class="function"><span class="title">Unpacking</span> <span class="title">libpng12</span>-0:<span class="title">amd64</span> (1.2.49-1+<span class="title">deb7u2</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">libpng12</span>-0:<span class="title">amd64</span> (1.2.49-1+<span class="title">deb7u2</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">doc</span>-<span class="title">base</span> (0.10.7) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> 1 <span class="title">added</span> <span class="title">doc</span>-<span class="title">base</span> <span class="title">file</span>...</span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">wps</span>-<span class="title">office</span> (10.1.0.5672~<span class="title">a21</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">libc</span>-<span class="title">bin</span> (2.24-3<span class="title">ubuntu2</span>) ...</span></span><br></pre></td></tr></table></figure>
<h3 id="step-3"><a href="#step-3" class="headerlink" title="step 3"></a>step 3</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~/<span class="title">Downloads</span>$ <span class="title">sudo</span> <span class="title">dpkg</span> -<span class="title">i</span> <span class="title">wps</span>-<span class="title">office_10</span>.1.0.5672~<span class="title">a21_amd64.deb</span></span></span><br><span class="line"><span class="function">(<span class="title">Reading</span> <span class="title">database</span> ... 349555 <span class="title">files</span> <span class="title">and</span> <span class="title">directories</span> <span class="title">currently</span> <span class="title">installed</span>.)</span></span><br><span class="line"><span class="function"><span class="title">Preparing</span> <span class="title">to</span> <span class="title">unpack</span> <span class="title">wps</span>-<span class="title">office_10</span>.1.0.5672~<span class="title">a21_amd64.deb</span> ...</span></span><br><span class="line"><span class="function"><span class="title">Unpacking</span> <span class="title">wps</span>-<span class="title">office</span> (10.1.0.5672~<span class="title">a21</span>) <span class="title">over</span> (10.1.0.5672~<span class="title">a21</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">wps</span>-<span class="title">office</span> (10.1.0.5672~<span class="title">a21</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">bamfdaemon</span> (0.5.3+16.10.20160929-0<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Rebuilding</span> /<span class="title">usr</span>/<span class="title">share</span>/<span class="title">applications</span>/<span class="title">bamf</span>-2.<span class="title">index</span>...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">gnome</span>-<span class="title">menus</span> (3.13.3-6<span class="title">ubuntu4</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">desktop</span>-<span class="title">file</span>-<span class="title">utils</span> (0.23-1<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">mime</span>-<span class="title">support</span> (3.60<span class="title">ubuntu1</span>) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">shared</span>-<span class="title">mime</span>-<span class="title">info</span> (1.7-1) ...</span></span><br><span class="line"><span class="function"><span class="title">Processing</span> <span class="title">triggers</span> <span class="title">for</span> <span class="title">hicolor</span>-<span class="title">icon</span>-<span class="title">theme</span> (0.15-1) ...</span></span><br></pre></td></tr></table></figure>
<h3 id="step-4"><a href="#step-4" class="headerlink" title="step 4"></a>step 4</h3><p>检查WPS是否安装成功</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~/<span class="title">Downloads</span>$ <span class="title">wps</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>WPS</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装Quartus13</title>
    <url>/2020/05/17/linux_install/linux%E5%AE%89%E8%A3%85Quartus13/</url>
    <content><![CDATA[<h2 id="linux安装Quartus13"><a href="#linux安装Quartus13" class="headerlink" title="linux安装Quartus13"></a>linux安装Quartus13</h2><a id="more"></a>
<h3 id="step-1"><a href="#step-1" class="headerlink" title="step 1"></a>step 1</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">su</span> <span class="title">root</span></span></span><br><span class="line"><span class="function"><span class="title">Password</span>:</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># /<span class="title">mnt</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: /<span class="title">mnt</span>: <span class="title">Is</span> <span class="title">a</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">c</span> /<span class="title">mnt</span></span></span><br><span class="line"><span class="function"><span class="title">c</span>: <span class="title">command</span> <span class="title">not</span> <span class="title">found</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">cd</span> /<span class="title">mnt</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># ./<span class="title">setup.sh</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">tar</span> -<span class="title">xvf</span> <span class="title">Quartus</span>-13.0.0.156-<span class="title">linux.tar</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">DSPBuilderSetup</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">FlexlmSetup</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">ModelSimSetup</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">QuartusHelpSetup</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">QuartusProgrammerSetup</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">QuartusSetup</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">setup.sh</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># ./<span class="title">setup.sh</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">tar</span> -<span class="title">xvf</span> <span class="title">Quartus</span>-13.0.0.156-<span class="title">devices1.tar</span></span></span><br><span class="line"><span class="function"><span class="title">tar</span>: <span class="title">Quartus</span>-13.0.0.156-<span class="title">devices1.tar</span>: <span class="title">Cannot</span> <span class="title">open</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">tar</span>: <span class="title">Error</span> <span class="title">is</span> <span class="title">not</span> <span class="title">recoverable</span>: <span class="title">exiting</span> <span class="title">now</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">tar</span> -<span class="title">xvf</span> <span class="title">Quartus</span>-13.0.0.156-<span class="title">devices</span>-1.<span class="title">tar</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">cyclone</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">cyclonev</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">max</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">stratix</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">stratixiv</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">stratixv</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">exe</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">tar</span> -<span class="title">xvf</span> <span class="title">Quartus</span>-13.0.0.156-<span class="title">devices</span>-2.<span class="title">tar</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">arria</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">arriav</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">arriavgz</span>-13.0.0.156.<span class="title">qdz</span></span></span><br><span class="line"><span class="function"><span class="title">components</span>/<span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">exe</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># /<span class="title">mnt</span>/<span class="title">components</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: /<span class="title">mnt</span>/<span class="title">components</span>: <span class="title">Is</span> <span class="title">a</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">cd</span> /<span class="title">mnt</span>/<span class="title">component</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: <span class="title">cd</span>: /<span class="title">mnt</span>/<span class="title">component</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">cd</span> /<span class="title">mnt</span>/<span class="title">components</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">run</span>: <span class="title">command</span> <span class="title">not</span> <span class="title">found</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># ./<span class="title">DeviceInstall</span>-13.0.0.156.<span class="title">run</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># ./<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: ./<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># ./<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: ./<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">locate</span> <span class="title">libpng12.so</span>.0</span></span><br><span class="line"><span class="function">/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">libpng12.so</span>.0</span></span><br><span class="line"><span class="function">/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">libpng12.so</span>.0.49.0</span></span><br><span class="line"><span class="function">/<span class="title">usr</span>/<span class="title">local</span>/<span class="title">MATLAB</span>/<span class="title">R2014a</span>/<span class="title">bin</span>/<span class="title">glnxa64</span>/<span class="title">libpng12.so</span>.0</span></span><br><span class="line"><span class="function">/<span class="title">usr</span>/<span class="title">local</span>/<span class="title">MATLAB</span>/<span class="title">R2014a</span>/<span class="title">bin</span>/<span class="title">glnxa64</span>/<span class="title">libpng12.so</span>.0.39.0</span></span><br><span class="line"><span class="function">/<span class="title">usr</span>/<span class="title">local</span>/<span class="title">MATLAB</span>/<span class="title">R2014a</span>/<span class="title">toolbox</span>/<span class="title">sl3d</span>/<span class="title">orbisnap</span>/<span class="title">bin</span>/<span class="title">glnxa64</span>/<span class="title">libpng12.so</span>.0</span></span><br><span class="line"><span class="function">/<span class="title">usr</span>/<span class="title">local</span>/<span class="title">MATLAB</span>/<span class="title">R2014a</span>/<span class="title">toolbox</span>/<span class="title">sl3d</span>/<span class="title">orbisnap</span>/<span class="title">bin</span>/<span class="title">glnxa64</span>/<span class="title">libpng12.so</span>.0.39.0</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span>#  <span class="title">ldconfig</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">ln</span> -<span class="title">sf</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">libpng.so</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">libpng12.so</span>.0</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartusquartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">cat</span> /<span class="title">etc</span>/<span class="title">ld.so.conf</span></span></span><br><span class="line"><span class="function"><span class="title">include</span> /<span class="title">etc</span>/<span class="title">ld.so.conf.d</span>/*.<span class="title">conf</span></span></span><br></pre></td></tr></table></figure>
<h3 id="step-2"><a href="#step-2" class="headerlink" title="step 2"></a>step 2</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">echo</span> "/<span class="title">usr</span>/<span class="title">local</span>/<span class="title">lib</span>" &gt;&gt; /<span class="title">etc</span>/<span class="title">ld.so.conf</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">ldconfig</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">echo</span> "/<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>" &gt;&gt; /<span class="title">etc</span>/<span class="title">ld.so.conf</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># <span class="title">ldconfig</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">wrong</span> <span class="title">ELF</span> <span class="title">class</span>: <span class="title">ELFCLASS64</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">wrong</span> <span class="title">ELF</span> <span class="title">class</span>: <span class="title">ELFCLASS64</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span># /<span class="title">opt</span>/<span class="title">altera13</span>/13.0/<span class="title">quartus</span>/<span class="title">bin</span>/<span class="title">quartus</span></span></span><br><span class="line"><span class="function"><span class="title">quartus</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libpng12.so</span>.0: <span class="title">wrong</span> <span class="title">ELF</span> <span class="title">class</span>: <span class="title">ELFCLASS64</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">components</span>#</span></span><br></pre></td></tr></table></figure>
<h3 id="step-3"><a href="#step-3" class="headerlink" title="step 3"></a>step 3</h3><p>破解后启动程序环境：</p>
<p>在终端中输入/&lt;你自己的路径&gt;/altera/13.0/quartus/bin/quartus也是可以打开的。</p>
<p>当然也可以自己制作一个关联启动程序的图标:</p>
<p>编辑quartus_64bit.sh<br>其中内容是  </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> QUARTUS_ROOTDIR_OVERIDE=/opt/altera13/13.0 //我的安装目录</span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$&#123;LD_LIBRARY_PATH&#125;</span>:/usr/lib/x86_64-linux-gnu/:/usr/lib/i386-linux-gnu  </span><br><span class="line"><span class="variable">$&#123;QUARTUS_ROOTDIR_OVERIDE&#125;</span>/quartus/bin/quartus --64bit    //自己琢磨吧，把 --64去掉就是32位的了。</span><br></pre></td></tr></table></figure>
<p>然后, 放置quartus_64bit.sh</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">su</span> <span class="title">root</span></span></span><br><span class="line"><span class="function"><span class="title">Password</span>:</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">cp</span> /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">quartus_64bit</span>  /<span class="title">opt</span>/<span class="title">altera13</span>/13.0</span></span><br><span class="line"><span class="function"><span class="title">cp</span>: <span class="title">cannot</span> <span class="title">stat</span> '/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">quartus_64bit</span>': <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">cp</span> /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">quartus_64bit.sh</span>  /<span class="title">opt</span>/<span class="title">altera13</span>/13.0</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>#</span></span><br></pre></td></tr></table></figure>
<h3 id="step-4"><a href="#step-4" class="headerlink" title="step 4"></a>step 4</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>$ <span class="title">su</span> <span class="title">root</span></span></span><br><span class="line"><span class="function"><span class="title">Password</span>:</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span># <span class="title">cp</span> <span class="title">libpng12.so</span>.0  /<span class="title">lib</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span># <span class="title">cp</span> <span class="title">libpng12.so</span>.0 /<span class="title">lib64</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span># <span class="title">cp</span> <span class="title">libpng12.so</span>.0 /<span class="title">lib32</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>#</span></span><br></pre></td></tr></table></figure>
<h2 id="安装Quartus网络web版-optional"><a href="#安装Quartus网络web版-optional" class="headerlink" title="安装Quartus网络web版 [optional]"></a>安装Quartus网络web版 [optional]</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">cd</span> /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">cp</span> 90<span class="title">_altera_webinstall.sh</span> /<span class="title">mnt</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># /<span class="title">mnt</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: /<span class="title">mnt</span>: <span class="title">Is</span> <span class="title">a</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span># <span class="title">cd</span> /<span class="title">mnt</span>/</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># ./90<span class="title">_altera_webinstall.sh</span></span></span><br><span class="line"><span class="function"><span class="title">bash</span>: ./90<span class="title">_altera_webinstall.sh</span>: <span class="title">Permission</span> <span class="title">denied</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># <span class="title">chmod</span> 777 90<span class="title">_altera_webinstall.sh</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># ./90<span class="title">_altera_webinstall.sh</span></span></span><br><span class="line"><span class="function"><span class="title">Creating</span> <span class="title">directory</span> <span class="title">webinstall</span></span></span><br><span class="line"><span class="function"><span class="title">Verifying</span> <span class="title">archive</span> <span class="title">integrity</span>... <span class="title">All</span> <span class="title">good</span>.</span></span><br><span class="line"><span class="function"><span class="title">Uncompressing</span> <span class="title">Altera</span> <span class="title">Installer</span>..............................................</span></span><br><span class="line"><span class="function"><span class="title">altera_installer</span>: <span class="title">error</span> <span class="title">while</span> <span class="title">loading</span> <span class="title">shared</span> <span class="title">libraries</span>: <span class="title">libSM.so</span>.6: <span class="title">cannot</span> <span class="title">open</span> <span class="title">shared</span> <span class="title">object</span> <span class="title">file</span>: <span class="title">No</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span># ./<span class="title">setup.sh</span></span></span><br></pre></td></tr></table></figure>
<h2 id="安装Quartus15网络web版-optional"><a href="#安装Quartus15网络web版-optional" class="headerlink" title="安装Quartus15网络web版 [optional]"></a>安装Quartus15网络web版 [optional]</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">axel -n <span class="number">4</span> -o /home/dassein/Downloads http://download.altera.com/akdlm/software/acdsinst/<span class="number">15</span>.<span class="number">0</span>/<span class="number">145</span>/iso/Quartus-web-<span class="number">15</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">145</span>.iso</span><br></pre></td></tr></table></figure>
<p>接着运行安装程序</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:/<span class="title">mnt</span>/<span class="title">Quartus</span>-<span class="title">web</span>-15.0.0.145$ <span class="title">su</span> <span class="title">root</span></span></span><br><span class="line"><span class="function"><span class="title">Password</span>: </span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">mnt</span>/<span class="title">Quartus</span>-<span class="title">web</span>-15.0.0.145# ./<span class="title">setup.sh</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="title">quartus</span>:8317): <span class="title">GConf</span>-<span class="title">WARNING</span> **: <span class="title">Client</span> <span class="title">failed</span> <span class="title">to</span> <span class="title">connect</span> <span class="title">to</span> <span class="title">the</span> <span class="title">D</span>-<span class="title">BUS</span> <span class="title">daemon</span>:</span></span><br><span class="line"><span class="function"><span class="title">Did</span> <span class="title">not</span> <span class="title">receive</span> <span class="title">a</span> <span class="title">reply</span>. <span class="title">Possible</span> <span class="title">causes</span> <span class="title">include</span>: <span class="title">the</span> <span class="title">remote</span> <span class="title">application</span> <span class="title">did</span> <span class="title">not</span> <span class="title">send</span> <span class="title">a</span> <span class="title">reply</span>, <span class="title">the</span> <span class="title">message</span> <span class="title">bus</span> <span class="title">security</span> <span class="title">policy</span> <span class="title">blocked</span> <span class="title">the</span> <span class="title">reply</span>, <span class="title">the</span> <span class="title">reply</span> <span class="title">timeout</span> <span class="title">expired</span>, <span class="title">or</span> <span class="title">the</span> <span class="title">network</span> <span class="title">connection</span> <span class="title">was</span> <span class="title">broken</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="title">quartus</span>:8317): <span class="title">GLib</span>-<span class="title">GIO</span>-<span class="title">CRITICAL</span> **: <span class="title">g_dbus_connection_register_object</span>: <span class="title">assertion</span> '<span class="title">G_IS_DBUS_CONNECTION</span> (<span class="title">connection</span>)' <span class="title">failed</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Qt</span>: <span class="title">Session</span> <span class="title">management</span> <span class="title">error</span>: <span class="title">None</span> <span class="title">of</span> <span class="title">the</span> <span class="title">authentication</span> <span class="title">protocols</span> <span class="title">specified</span> <span class="title">are</span> <span class="title">supported</span></span></span><br><span class="line"><span class="function"><span class="title">Inconsistency</span> <span class="title">detected</span> <span class="title">by</span> <span class="title">ld.so</span>: <span class="title">dl</span>-<span class="title">close.c</span>: 811: <span class="title">_dl_close</span>: <span class="title">Assertion</span> `<span class="title">map</span>-&gt;<span class="title">l_init_called</span>' <span class="title">failed</span>!</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="title">quartus</span>:8317): <span class="title">Gtk</span>-<span class="title">WARNING</span> **: <span class="title">Error</span> <span class="title">loading</span> <span class="title">theme</span> <span class="title">icon</span> '<span class="title">window</span>-<span class="title">close</span>' <span class="title">for</span> <span class="title">stock</span>: <span class="title">Unable</span> <span class="title">to</span> <span class="title">load</span> <span class="title">image</span>-<span class="title">loading</span> <span class="title">module</span>: /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">gdk</span>-<span class="title">pixbuf</span>-2.0/2.10.0/<span class="title">loaders</span>/<span class="title">libpixbufloader</span>-<span class="title">svg.so</span>: /<span class="title">opt</span>/<span class="title">altera</span>/15.0/<span class="title">quartus</span>/<span class="title">linux64</span>/<span class="title">libstdc</span>++.<span class="title">so</span>.6: <span class="title">version</span> `<span class="title">CXXABI_1</span>.3.8' <span class="title">not</span> <span class="title">found</span> (<span class="title">required</span> <span class="title">by</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">libicuuc.so</span>.57)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="title">quartus</span>:8317): <span class="title">Gtk</span>-<span class="title">WARNING</span> **: <span class="title">Error</span> <span class="title">loading</span> <span class="title">theme</span> <span class="title">icon</span> '<span class="title">dialog</span>-<span class="title">information</span>' <span class="title">for</span> <span class="title">stock</span>: <span class="title">Unable</span> <span class="title">to</span> <span class="title">load</span> <span class="title">image</span>-<span class="title">loading</span> <span class="title">module</span>: /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">gdk</span>-<span class="title">pixbuf</span>-2.0/2.10.0/<span class="title">loaders</span>/<span class="title">libpixbufloader</span>-<span class="title">svg.so</span>: /<span class="title">opt</span>/<span class="title">altera</span>/15.0/<span class="title">quartus</span>/<span class="title">linux64</span>/<span class="title">libstdc</span>++.<span class="title">so</span>.6: <span class="title">version</span> `<span class="title">CXXABI_1</span>.3.8' <span class="title">not</span> <span class="title">found</span> (<span class="title">required</span> <span class="title">by</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">libicuuc.so</span>.57)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="title">quartus</span>:8317): <span class="title">GConf</span>-<span class="title">WARNING</span> **: <span class="title">Client</span> <span class="title">failed</span> <span class="title">to</span> <span class="title">connect</span> <span class="title">to</span> <span class="title">the</span> <span class="title">D</span>-<span class="title">BUS</span> <span class="title">daemon</span>:</span></span><br><span class="line"><span class="function"><span class="title">Did</span> <span class="title">not</span> <span class="title">receive</span> <span class="title">a</span> <span class="title">reply</span>. <span class="title">Possible</span> <span class="title">causes</span> <span class="title">include</span>: <span class="title">the</span> <span class="title">remote</span> <span class="title">application</span> <span class="title">did</span> <span class="title">not</span> <span class="title">send</span> <span class="title">a</span> <span class="title">reply</span>, <span class="title">the</span> <span class="title">message</span> <span class="title">bus</span> <span class="title">security</span> <span class="title">policy</span> <span class="title">blocked</span> <span class="title">the</span> <span class="title">reply</span>, <span class="title">the</span> <span class="title">reply</span> <span class="title">timeout</span> <span class="title">expired</span>, <span class="title">or</span> <span class="title">the</span> <span class="title">network</span> <span class="title">connection</span> <span class="title">was</span> <span class="title">broken</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="title">quartus</span>:8317): <span class="title">Gtk</span>-<span class="title">WARNING</span> **: <span class="title">Error</span> <span class="title">loading</span> <span class="title">theme</span> <span class="title">icon</span> '<span class="title">dialog</span>-<span class="title">information</span>' <span class="title">for</span> <span class="title">stock</span>: <span class="title">Unable</span> <span class="title">to</span> <span class="title">load</span> <span class="title">image</span>-<span class="title">loading</span> <span class="title">module</span>: /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">gdk</span>-<span class="title">pixbuf</span>-2.0/2.10.0/<span class="title">loaders</span>/<span class="title">libpixbufloader</span>-<span class="title">svg.so</span>: /<span class="title">opt</span>/<span class="title">altera</span>/15.0/<span class="title">quartus</span>/<span class="title">linux64</span>/<span class="title">libstdc</span>++.<span class="title">so</span>.6: <span class="title">version</span> `<span class="title">CXXABI_1</span>.3.8' <span class="title">not</span> <span class="title">found</span> (<span class="title">required</span> <span class="title">by</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">x86_64</span>-<span class="title">linux</span>-<span class="title">gnu</span>/<span class="title">libicuuc.so</span>.57)</span></span><br><span class="line"><span class="function">/<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">firefox</span>/<span class="title">firefox</span>: /<span class="title">opt</span>/<span class="title">altera</span>/15.0/<span class="title">quartus</span>/<span class="title">linux64</span>/<span class="title">libstdc</span>++.<span class="title">so</span>.6: <span class="title">version</span> `<span class="title">GLIBCXX_3</span>.4.21' <span class="title">not</span> <span class="title">found</span> (<span class="title">required</span> <span class="title">by</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">firefox</span>/<span class="title">firefox</span>)</span></span><br></pre></td></tr></table></figure>
<h2 id="安装Quartus16-optional"><a href="#安装Quartus16-optional" class="headerlink" title="安装Quartus16 [optional]"></a>安装Quartus16 [optional]</h2><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">axel -n <span class="number">4</span> -o /home/dassein/Downloads http://download.altera.com/akdlm/software/acdsinst/<span class="number">16</span>.<span class="number">1</span>.<span class="number">2</span>/<span class="number">203</span>/ib_tar/Quartus-<span class="number">16</span>.<span class="number">1</span>.<span class="number">2</span>.<span class="number">203</span>-linux-complete.tar</span><br></pre></td></tr></table></figure>
<p>之后, 同理运行setup.sh</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>Quartus</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装Vim</title>
    <url>/2020/05/15/linux_install/linux%E5%AE%89%E8%A3%85Vim/</url>
    <content><![CDATA[<h2 id="linux安装Vim"><a href="#linux安装Vim" class="headerlink" title="linux安装Vim"></a>linux安装Vim</h2><a id="more"></a>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">vim</span></span></span><br><span class="line"><span class="function">[<span class="title">sudo</span>] <span class="title">password</span> <span class="title">for</span> <span class="title">dassein</span>:</span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~$ <span class="title">sudo</span> <span class="title">vim</span> /<span class="title">etc</span>/<span class="title">vim</span>/<span class="title">vimrc</span></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~$</span></span><br></pre></td></tr></table></figure>
<p><a href="http://www.jb51.net/LINUXjishu/310958.html" target="_blank" rel="noopener">http://www.jb51.net/LINUXjishu/310958.html</a>  感悟GNU C及把Vim打造成C/C++的半自动化IDE</p>
<p><a href="https://github.com/Valloric/YouCompleteMe" target="_blank" rel="noopener">https://github.com/Valloric/YouCompleteMe</a>  code-completion engine for Vim代码补全</p>
<p><a href="http://blog.chinaunix.net/uid-14178996-id-4026123.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-14178996-id-4026123.html</a>  Vim安装配置和常用技巧精选</p>
<p><a href="http://www.cnblogs.com/youxia/p/linux002.html" target="_blank" rel="noopener">http://www.cnblogs.com/youxia/p/linux002.html</a>  安装和配置 Vim + 使用 Vundle 管理插件</p>
<h3 id="vimrc的配置"><a href="#vimrc的配置" class="headerlink" title="vimrc的配置"></a>vimrc的配置</h3><p>可以在初始的vimrc下加入如下语句</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> cursorline              " //突出显示当前行</span><br><span class="line"><span class="built_in">set</span> ruler                   " //在右下角显示光标位置的状态行</span><br><span class="line"><span class="built_in">set</span> autoindent              " //自动缩进</span><br><span class="line"><span class="built_in">set</span> cindent</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>Vim</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装eclipse</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85eclipse/</url>
    <content><![CDATA[<h2 id="linux安装eclipse"><a href="#linux安装eclipse" class="headerlink" title="linux安装eclipse"></a>linux安装eclipse</h2><a id="more"></a>
<p><a href="http://blog.sina.com.cn/s/blog_7880d3350102vyur.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_7880d3350102vyur.html</a> Linux安装Eclipse</p>
<h3 id="提前安装-jdk"><a href="#提前安装-jdk" class="headerlink" title="提前安装: jdk"></a>提前安装: jdk</h3><p>安装jdk, 配置jdk相关环境变量</p>
<h3 id="安装eclipse-platform"><a href="#安装eclipse-platform" class="headerlink" title="安装eclipse-platform"></a>安装eclipse-platform</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">sudo</span> <span class="title">apt</span> <span class="title">install</span> <span class="title">eclipse</span>-<span class="title">platform</span></span></span><br><span class="line"><span class="function">[<span class="title">sudo</span>] <span class="title">password</span> <span class="title">for</span> <span class="title">dassein</span>: </span></span><br><span class="line"><span class="function"><span class="title">Use</span> '<span class="title">sudo</span> <span class="title">apt</span> <span class="title">autoremove</span>' <span class="title">to</span> <span class="title">remove</span> <span class="title">it</span>.</span></span><br><span class="line"><span class="function">0 <span class="title">upgraded</span>, 106 <span class="title">newly</span> <span class="title">installed</span>, 0 <span class="title">to</span> <span class="title">remove</span> <span class="title">and</span> 0 <span class="title">not</span> <span class="title">upgraded</span>.</span></span><br><span class="line"><span class="function"><span class="title">Need</span> <span class="title">to</span> <span class="title">get</span> 706 <span class="title">kB</span>/212 <span class="title">MB</span> <span class="title">of</span> <span class="title">archives</span>.</span></span><br><span class="line"><span class="function"><span class="title">After</span> <span class="title">this</span> <span class="title">operation</span>, 373 <span class="title">MB</span> <span class="title">of</span> <span class="title">additional</span> <span class="title">disk</span> <span class="title">space</span> <span class="title">will</span> <span class="title">be</span> <span class="title">used</span>.</span></span><br><span class="line"><span class="function"><span class="title">Do</span> <span class="title">you</span> <span class="title">want</span> <span class="title">to</span> <span class="title">continue</span>? [<span class="title">Y</span>/<span class="title">n</span>] <span class="title">y</span></span></span><br><span class="line"><span class="function"><span class="title">Get</span>:1 <span class="title">http</span>://<span class="title">cn.archive.ubuntu.com</span>/<span class="title">ubuntu</span> <span class="title">yakkety</span>/<span class="title">main</span> <span class="title">amd64</span> <span class="title">libdb5</span>.3-<span class="title">java</span>-<span class="title">jni</span> <span class="title">amd64</span> 5.3.28-12 [706 <span class="title">kB</span>]</span></span><br><span class="line"><span class="function"><span class="title">Created</span> <span class="title">symlink</span> /<span class="title">etc</span>/<span class="title">systemd</span>/<span class="title">system</span>/<span class="title">multi</span>-<span class="title">user.target.wants</span>/<span class="title">binfmt</span>-<span class="title">support.service</span> â†’ /<span class="title">lib</span>/<span class="title">systemd</span>/<span class="title">system</span>/<span class="title">binfmt</span>-<span class="title">support.service</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Updating</span> <span class="title">certificates</span> <span class="title">in</span> /<span class="title">etc</span>/<span class="title">ssl</span>/<span class="title">certs</span>...</span></span><br><span class="line"><span class="function">0 <span class="title">added</span>, 0 <span class="title">removed</span>; <span class="title">done</span>.</span></span><br><span class="line"><span class="function"><span class="title">Running</span> <span class="title">hooks</span> <span class="title">in</span> /<span class="title">etc</span>/<span class="title">ca</span>-<span class="title">certificates</span>/<span class="title">update.d</span>...</span></span><br><span class="line"><span class="function"><span class="title">done</span>.</span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">liblucene2</span>-<span class="title">java</span>/<span class="title">lucli</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">lucli</span> (<span class="title">lucli</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">rmid</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">rmid</span> (<span class="title">rmid</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">java</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">java</span> (<span class="title">java</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">keytool</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">keytool</span> (<span class="title">keytool</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">jjs</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jjs</span> (<span class="title">jjs</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">pack200</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">pack200</span> (<span class="title">pack200</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">rmiregistry</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">rmiregistry</span> (<span class="title">rmiregistry</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">unpack200</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">unpack200</span> (<span class="title">unpack200</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">orbd</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">orbd</span> (<span class="title">orbd</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">servertool</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">servertool</span> (<span class="title">servertool</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">tnameserv</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">tnameserv</span> (<span class="title">tnameserv</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">lib</span>/<span class="title">jexec</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jexec</span> (<span class="title">jexec</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">openjdk</span>-8-<span class="title">jdk</span>-<span class="title">headless:amd64</span> (8<span class="title">u121</span>-<span class="title">b13</span>-0<span class="title">ubuntu1</span>.16.10.2) ...</span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">idlj</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">idlj</span> (<span class="title">idlj</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jdeps</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jdeps</span> (<span class="title">jdeps</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">wsimport</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">wsimport</span> (<span class="title">wsimport</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">rmic</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">rmic</span> (<span class="title">rmic</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jinfo</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jinfo</span> (<span class="title">jinfo</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jsadebugd</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jsadebugd</span> (<span class="title">jsadebugd</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">native2ascii</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">native2ascii</span> (<span class="title">native2ascii</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jstat</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jstat</span> (<span class="title">jstat</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">javadoc</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">javadoc</span> (<span class="title">javadoc</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">javah</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">javah</span> (<span class="title">javah</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jstack</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jstack</span> (<span class="title">jstack</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jrunscript</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jrunscript</span> (<span class="title">jrunscript</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">javac</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">javac</span> (<span class="title">javac</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">javap</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">javap</span> (<span class="title">javap</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jar</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jar</span> (<span class="title">jar</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">extcheck</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">extcheck</span> (<span class="title">extcheck</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">schemagen</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">schemagen</span> (<span class="title">schemagen</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jps</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jps</span> (<span class="title">jps</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">xjc</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">xjc</span> (<span class="title">xjc</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jmap</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jmap</span> (<span class="title">jmap</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jstatd</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jstatd</span> (<span class="title">jstatd</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jhat</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jhat</span> (<span class="title">jhat</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jdb</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jdb</span> (<span class="title">jdb</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">serialver</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">serialver</span> (<span class="title">serialver</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">wsgen</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">wsgen</span> (<span class="title">wsgen</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jcmd</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jcmd</span> (<span class="title">jcmd</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jarsigner</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jarsigner</span> (<span class="title">jarsigner</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">Setting</span> <span class="title">up</span> <span class="title">openjdk</span>-8-<span class="title">jre:amd64</span> (8<span class="title">u121</span>-<span class="title">b13</span>-0<span class="title">ubuntu1</span>.16.10.2) ...</span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">jre</span>/<span class="title">bin</span>/<span class="title">policytool</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">policytool</span> (<span class="title">policytool</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">appletviewer</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">appletviewer</span> (<span class="title">appletviewer</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function"><span class="title">update</span>-<span class="title">alternatives</span>: <span class="title">using</span> /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">jvm</span>/<span class="title">java</span>-8-<span class="title">openjdk</span>-<span class="title">amd64</span>/<span class="title">bin</span>/<span class="title">jconsole</span> <span class="title">to</span> <span class="title">provide</span> /<span class="title">usr</span>/<span class="title">bin</span>/<span class="title">jconsole</span> (<span class="title">jconsole</span>) <span class="title">in</span> <span class="title">auto</span> <span class="title">mode</span></span></span><br><span class="line"><span class="function">0 <span class="title">added</span>, 0 <span class="title">removed</span>; <span class="title">done</span>.</span></span><br><span class="line"><span class="function"><span class="title">Running</span> <span class="title">hooks</span> <span class="title">in</span> /<span class="title">etc</span>/<span class="title">ca</span>-<span class="title">certificates</span>/<span class="title">update.d</span>...</span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~$ <span class="title">eclipse</span></span></span><br><span class="line"><span class="function"><span class="title">OpenJDK</span> 64-<span class="title">Bit</span> <span class="title">Server</span> <span class="title">VM</span> <span class="title">warning</span>: <span class="title">ignoring</span> <span class="title">option</span> <span class="title">MaxPermSize</span>=256<span class="title">m</span>; <span class="title">support</span> <span class="title">was</span> <span class="title">removed</span> <span class="title">in</span> 8.0</span></span><br></pre></td></tr></table></figure>
<h3 id="安装eclipse的C-工具"><a href="#安装eclipse的C-工具" class="headerlink" title="安装eclipse的C++工具"></a>安装eclipse的C++工具</h3><p>新建工程时发现没有C/C++工程，只有Java工程，再次搜索<code>sudo apt-cache search eclipse C/C++</code></p>
<p>发现其中一条：<code>eclipse-cdt - C/C++ Development Tools for Eclipse</code></p>
<p>继续安装：<code>sudo apt-get install eclipse-cdt</code></p>
<p>再次重启eclipse，就有了C/C++项目</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">eclipse</span>-<span class="title">cdt</span></span></span><br><span class="line"><span class="function">[<span class="title">sudo</span>] <span class="title">password</span> <span class="title">for</span> <span class="title">dassein</span>: </span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">following</span> <span class="title">package</span> <span class="title">was</span> <span class="title">automatically</span> <span class="title">installed</span> <span class="title">and</span> <span class="title">is</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">required</span>:</span></span><br><span class="line"><span class="function">  <span class="title">ubuntu</span>-<span class="title">core</span>-<span class="title">launcher</span></span></span><br><span class="line"><span class="function"><span class="title">Use</span> '<span class="title">sudo</span> <span class="title">apt</span> <span class="title">autoremove</span>' <span class="title">to</span> <span class="title">remove</span> <span class="title">it</span>.</span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">following</span> <span class="title">additional</span> <span class="title">packages</span> <span class="title">will</span> <span class="title">be</span> <span class="title">installed</span>:</span></span><br><span class="line"><span class="function">  <span class="title">eclipse</span>-<span class="title">cdt</span>-<span class="title">jni</span></span></span><br><span class="line"><span class="function"><span class="title">Suggested</span> <span class="title">packages</span>:</span></span><br><span class="line"><span class="function">  <span class="title">eclipse</span>-<span class="title">cdt</span>-<span class="title">autotools</span> <span class="title">eclipse</span>-<span class="title">cdt</span>-<span class="title">launch</span>-<span class="title">remote</span></span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">following</span> <span class="title">NEW</span> <span class="title">packages</span> <span class="title">will</span> <span class="title">be</span> <span class="title">installed</span>:</span></span><br><span class="line"><span class="function">  <span class="title">eclipse</span>-<span class="title">cdt</span> <span class="title">eclipse</span>-<span class="title">cdt</span>-<span class="title">jni</span></span></span><br><span class="line"><span class="function">0 <span class="title">upgraded</span>, 2 <span class="title">newly</span> <span class="title">installed</span>, 0 <span class="title">to</span> <span class="title">remove</span> <span class="title">and</span> 0 <span class="title">not</span> <span class="title">upgraded</span>.</span></span><br><span class="line"><span class="function"><span class="title">Need</span> <span class="title">to</span> <span class="title">get</span> 37.5 <span class="title">MB</span> <span class="title">of</span> <span class="title">archives</span>.</span></span><br><span class="line"><span class="function"><span class="title">After</span> <span class="title">this</span> <span class="title">operation</span>, 40.9 <span class="title">MB</span> <span class="title">of</span> <span class="title">additional</span> <span class="title">disk</span> <span class="title">space</span> <span class="title">will</span> <span class="title">be</span> <span class="title">used</span>.</span></span><br><span class="line"><span class="function"><span class="title">Do</span> <span class="title">you</span> <span class="title">want</span> <span class="title">to</span> <span class="title">continue</span>? [<span class="title">Y</span>/<span class="title">n</span>] <span class="title">y</span></span></span><br><span class="line"><span class="function"><span class="title">Get</span>:1 <span class="title">http</span>://<span class="title">cn.archive.ubuntu.com</span>/<span class="title">ubuntu</span> <span class="title">yakkety</span>/<span class="title">universe</span> <span class="title">amd64</span> <span class="title">eclipse</span>-<span class="title">cdt</span>-<span class="title">jni</span> <span class="title">amd64</span> 8.6.0-1 [15.4 <span class="title">kB</span>]</span></span><br><span class="line"><span class="function"><span class="title">Get</span>:2 <span class="title">http</span>://<span class="title">cn.archive.ubuntu.com</span>/<span class="title">ubuntu</span> <span class="title">yakkety</span>/<span class="title">universe</span> <span class="title">amd64</span> <span class="title">eclipse</span>-<span class="title">cdt</span> <span class="title">all</span> 8.6.0-1 [37.5 <span class="title">MB</span>]</span></span><br><span class="line"><span class="function">69% [2 <span class="title">eclipse</span>-<span class="title">cdt</span> 27.6 <span class="title">MB</span>/37.5 <span class="title">MB</span> 74%]                                        </span></span><br><span class="line"><span class="function">69% [2 <span class="title">eclipse</span>-<span class="title">cdt</span> 27.6 <span class="title">MB</span>/37.5 <span class="title">MB</span> 74%]</span></span><br><span class="line"><span class="function"><span class="title">Get</span>:2 <span class="title">http</span>://<span class="title">cn.archive.ubuntu.com</span>/<span class="title">ubuntu</span> <span class="title">yakkety</span>/<span class="title">universe</span> <span class="title">amd64</span> <span class="title">eclipse</span>-<span class="title">cdt</span> <span class="title">all</span> 8.6.0-1 [37.5 <span class="title">MB</span>]</span></span><br><span class="line"><span class="function"><span class="title">Fetched</span> 9,933 <span class="title">kB</span> <span class="title">in</span> 4<span class="title">min</span> 25<span class="title">s</span> (37.4 <span class="title">kB</span>/<span class="title">s</span>)                                       </span></span><br><span class="line"><span class="function"><span class="title">Selecting</span> <span class="title">previously</span> <span class="title">unselected</span> <span class="title">package</span> <span class="title">eclipse</span>-<span class="title">cdt</span>-<span class="title">jni</span>.</span></span><br></pre></td></tr></table></figure>
<p>File /WEB-INF/web.xml not found</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">eclipse</span></span></span><br><span class="line"><span class="function"><span class="title">OpenJDK</span> 64-<span class="title">Bit</span> <span class="title">Server</span> <span class="title">VM</span> <span class="title">warning</span>: <span class="title">ignoring</span> <span class="title">option</span> <span class="title">MaxPermSize</span>=256<span class="title">m</span>; <span class="title">support</span> <span class="title">was</span> <span class="title">removed</span> <span class="title">in</span> 8.0</span></span><br><span class="line"><span class="function"><span class="title">Mar</span> 04, 2017 4:42:13 <span class="title">PM</span> <span class="title">org.apache.jasper.compiler.WebXml</span> &lt;<span class="title">init</span>&gt;</span></span><br><span class="line"><span class="function"><span class="title">WARNING</span>: <span class="title">Internal</span> <span class="title">Error</span>: <span class="title">File</span> /<span class="title">WEB</span>-<span class="title">INF</span>/<span class="title">web.xml</span> <span class="title">not</span> <span class="title">found</span></span></span><br><span class="line"><span class="function"><span class="title">Mar</span> 04, 2017 4:42:14 <span class="title">PM</span> <span class="title">org.apache.jasper.compiler.WebXml</span> &lt;<span class="title">init</span>&gt;</span></span><br><span class="line"><span class="function"><span class="title">WARNING</span>: <span class="title">Internal</span> <span class="title">Error</span>: <span class="title">File</span> /<span class="title">WEB</span>-<span class="title">INF</span>/<span class="title">web.xml</span> <span class="title">not</span> <span class="title">found</span></span></span><br></pre></td></tr></table></figure>
<p><code>sudo eclipse -s</code> 启动后发现“窗口-&gt;打开视图”里面没有ssh远程登录的选项<br>发现它是Eclipse的插件，查询<code>sudo apt-cache search Remote System Explorer</code><br>发现一个eclipse-rse <code>sudo apt-get install eclipse-rse</code><br>重启eclipse</p>
<h3 id="C-项目launch-failed-Binary-not-found"><a href="#C-项目launch-failed-Binary-not-found" class="headerlink" title="C++项目launch failed.Binary not found"></a>C++项目launch failed.Binary not found</h3><h4 id="检查g"><a href="#检查g" class="headerlink" title="检查g++"></a>检查g++</h4><p>Ctrl+Alt+t到terminal(控制台)模式 <code>sudo apt-get install g++</code></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">sudo</span> <span class="title">apt</span>-<span class="title">get</span> <span class="title">install</span> <span class="title">g</span>++</span></span><br><span class="line"><span class="function">[<span class="title">sudo</span>] <span class="title">password</span> <span class="title">for</span> <span class="title">dassein</span>: </span></span><br><span class="line"><span class="function"><span class="title">Reading</span> <span class="title">package</span> <span class="title">lists</span>... <span class="title">Done</span></span></span><br><span class="line"><span class="function"><span class="title">Building</span> <span class="title">dependency</span> <span class="title">tree</span>       </span></span><br><span class="line"><span class="function"><span class="title">Reading</span> <span class="title">state</span> <span class="title">information</span>... <span class="title">Done</span></span></span><br><span class="line"><span class="function"><span class="title">g</span>++ <span class="title">is</span> <span class="title">already</span> <span class="title">the</span> <span class="title">newest</span> <span class="title">version</span> (4:6.1.1-1<span class="title">ubuntu2</span>).</span></span><br><span class="line"><span class="function"><span class="title">g</span>++ <span class="title">set</span> <span class="title">to</span> <span class="title">manually</span> <span class="title">installed</span>.</span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">following</span> <span class="title">package</span> <span class="title">was</span> <span class="title">automatically</span> <span class="title">installed</span> <span class="title">and</span> <span class="title">is</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">required</span>:</span></span><br><span class="line"><span class="function">  <span class="title">ubuntu</span>-<span class="title">core</span>-<span class="title">launcher</span></span></span><br><span class="line"><span class="function"><span class="title">Use</span> '<span class="title">sudo</span> <span class="title">apt</span> <span class="title">autoremove</span>' <span class="title">to</span> <span class="title">remove</span> <span class="title">it</span>.</span></span><br><span class="line"><span class="function">0 <span class="title">upgraded</span>, 0 <span class="title">newly</span> <span class="title">installed</span>, 0 <span class="title">to</span> <span class="title">remove</span> <span class="title">and</span> 0 <span class="title">not</span> <span class="title">upgraded</span>.</span></span><br></pre></td></tr></table></figure>
<h4 id="勾选GNU-Elf-Parser和Elf-Parser"><a href="#勾选GNU-Elf-Parser和Elf-Parser" class="headerlink" title="勾选GNU Elf Parser和Elf Parser"></a>勾选GNU Elf Parser和Elf Parser</h4><p>Project-&gt;Properties-&gt;C/C++Build-&gt;Settings-&gt;Binary Parsers</p>
<p>勾选GNU Elf Parser和Elf Parser</p>
<p>然后千万千万别忘了Project-&gt;Build All (Ctrl+B), 再run（Ctrl+F11）</p>
<p>如果看到项目下面出来一项名为Binaries, 配置成功</p>
<h4 id="检查cpp文件名"><a href="#检查cpp文件名" class="headerlink" title="检查cpp文件名"></a>检查cpp文件名</h4><p>是否为xxx.cpp? xxx中不能含有’.’之类的符号</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>eclipse</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装jdk</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85jdk/</url>
    <content><![CDATA[<h2 id="linux安装jdk"><a href="#linux安装jdk" class="headerlink" title="linux安装jdk"></a>linux安装jdk</h2><a id="more"></a>
<p><a href="http://www.linuxidc.com/Linux/2016-07/133482.htm" target="_blank" rel="noopener">http://www.linuxidc.com/Linux/2016-07/133482.htm</a>   安装jdk和eclipse</p>
<h3 id="准备jdk"><a href="#准备jdk" class="headerlink" title="准备jdk"></a>准备jdk</h3><p><a href="https://www.oracle.com/java/technologies/javase-jdk8-downloads.html" target="_blank" rel="noopener">https://www.oracle.com/java/technologies/javase-jdk8-downloads.html</a> oracle的jdk 8的下载页<br>访问oracle的jdk 8的下载页, 登录java帐号, 下载<code>jdk-8u121-linux-x64.tar.gz</code></p>
<h3 id="安装jdk"><a href="#安装jdk" class="headerlink" title="安装jdk"></a>安装jdk</h3><p>jdk放置<code>/opt/jvm</code>, 并解压</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassein@pad:~$ <span class="title">su</span> <span class="title">root</span></span></span><br><span class="line"><span class="function"><span class="title">Password</span>: </span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">mv</span>   /<span class="title">home</span>/<span class="title">dassein</span>/<span class="title">Downloads</span>/<span class="title">jdk</span>-8<span class="title">u121</span>-<span class="title">linux</span>-<span class="title">x64.tar.gz</span> /<span class="title">opt</span>/<span class="title">jvm</span>/</span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">sudo</span> <span class="title">tar</span> <span class="title">zxvf</span> /<span class="title">opt</span>/<span class="title">jvm</span>/<span class="title">jdk</span>-8<span class="title">u121</span>-<span class="title">linux</span>-<span class="title">x64.tar.gz</span> -<span class="title">C</span> /<span class="title">opt</span>/<span class="title">jvm</span></span></span><br><span class="line"><span class="function"><span class="title">jdk1</span>.8.0<span class="title">_121</span>/</span></span><br><span class="line"><span class="function"><span class="title">jdk1</span>.8.0<span class="title">_121</span>/<span class="title">THIRDPARTYLICENSEREADME</span>-<span class="title">JAVAFX.txt</span></span></span><br></pre></td></tr></table></figure>
<h3 id="配置jdk的环境变量"><a href="#配置jdk的环境变量" class="headerlink" title="配置jdk的环境变量"></a>配置jdk的环境变量</h3><p>打开 <code>/etc/profile</code> 即(<code>sudo vim /etc/profile</code>), 在文件末尾添加语句</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/opt/jvm/jdk1.8.0_121</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<p>保存后退出</p>
<p>使其立即生效：<code>sudo source /etc/profile</code></p>
<p>查看是否安装成功：<code>java -version</code> 出现 <code>java version &quot;1.8.0_121&quot;</code></p>
<p>说明jdk安装成功</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">root@pad:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">sudo</span> <span class="title">vim</span> /<span class="title">etc</span>/<span class="title">profile</span></span></span><br><span class="line"><span class="function"><span class="title">root</span>@<span class="title">pad</span>:/<span class="title">home</span>/<span class="title">dassein</span># <span class="title">source</span> /<span class="title">etc</span>/<span class="title">profile</span></span></span><br><span class="line"><span class="function"><span class="title">dassein</span>@<span class="title">pad</span>:~$ <span class="title">java</span> -<span class="title">version</span></span></span><br><span class="line"><span class="function"><span class="title">java</span> <span class="title">version</span> "1.8.0<span class="title">_121</span>"</span></span><br><span class="line"><span class="function"><span class="title">Java</span>(<span class="title">TM</span>) <span class="title">SE</span> <span class="title">Runtime</span> <span class="title">Environment</span> (<span class="title">build</span> 1.8.0<span class="title">_121</span>-<span class="title">b13</span>)</span></span><br><span class="line"><span class="function"><span class="title">Java</span> <span class="title">HotSpot</span>(<span class="title">TM</span>) 64-<span class="title">Bit</span> <span class="title">Server</span> <span class="title">VM</span> (<span class="title">build</span> 25.121-<span class="title">b13</span>, <span class="title">mixed</span> <span class="title">mode</span>)</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>java</tag>
        <tag>jdk</tag>
      </tags>
  </entry>
  <entry>
    <title>linux软件安装</title>
    <url>/2020/05/15/linux_install/linux%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85/</url>
    <content><![CDATA[<h2 id="linux软件安装"><a href="#linux软件安装" class="headerlink" title="linux软件安装"></a>linux软件安装</h2><a id="more"></a>
<h3 id="linux软件安装原理"><a href="#linux软件安装原理" class="headerlink" title="linux软件安装原理"></a>linux软件安装原理</h3><p><a href="https://www.zhihu.com/question/19812833/answer/13044132" target="_blank" rel="noopener">https://www.zhihu.com/question/19812833/answer/13044132</a>  zhihu作者：david-xie</p>
<p>首先, 我们需要知道一个linux上的软件, 都包含了什么.</p>
<ol>
<li>二进制可执行文件<br>一般在/usr/bin或者/usr/local/bin下</li>
<li>库文件<br>一般在/usr/lib或者/usr/local/lib下</li>
<li>配置文件<br>一般在/etc下</li>
<li>其它文件<br>比如mo多语言翻译文件, 比如man page, 一般在/usr/share或者/usr/local/share下</li>
</ol>
<p>所以, 软件的安装, 实际上就是将相应的文件, 放入相应的位置.<br>软件包, 做到的事情, 就是自动的将文件放到合适的位置, 比如rpm包, 比如deb包, 比如pkg包. 这是一种很简单的安装方式.<br>如果没有软件包, 或者想自己来编译呢, 就可以通过自行编译的方式来安装, 编译后, make file会把相应的文件放到合适的位置去. 这是稍微复杂一点的安装方式.<br>如果源码中没有make file, 我们自己编译后, 就需要手动把文件放到对应的位置上, 让它能够正常的工作, 这就是最为复杂的方式了. (现在很少有没有make file(或者类似make file方式)的source了)</p>
<p>综合来说, 我们就得到了3种安装方式:</p>
<ol>
<li>软件包</li>
<li>make file编译</li>
<li>自行编译</li>
</ol>
<h3 id="linux软件源码安装"><a href="#linux软件源码安装" class="headerlink" title="linux软件源码安装"></a>linux软件源码安装</h3><p><a href="http://blog.csdn.net/u010425776/article/details/52138321" target="_blank" rel="noopener">http://blog.csdn.net/u010425776/article/details/52138321</a>  linux软件安装(一)——源码安装</p>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>compile</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装typora</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85typora/</url>
    <content><![CDATA[<h2 id="linux安装typora"><a href="#linux安装typora" class="headerlink" title="linux安装typora"></a>linux安装typora</h2><a id="more"></a>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"># optional, but recommended</span><br><span class="line">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE</span><br><span class="line"></span><br><span class="line"># add Typora's repository</span><br><span class="line">sudo add-apt-repository 'deb http://typora.io linux/'</span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line"># install typora</span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>typora</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>linux磁盘分区</title>
    <url>/2020/05/16/linux_install/linux%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA/</url>
    <content><![CDATA[<h2 id="linux磁盘分区"><a href="#linux磁盘分区" class="headerlink" title="linux磁盘分区"></a>linux磁盘分区</h2><a id="more"></a>
<p>硬盘以MBR引导，支持最多4个主分区。<br>UEFI 支持硬盘GPT分区，可支持多达128个主分区。<br>UEFI 就无法启动windows,可以尝试将MBR分区转化为GPT，或者GPT分区后重装系统<br>硬盘分区表：MBR和GPT表</p>
<h3 id="MBR全称为Master-Boot-Record"><a href="#MBR全称为Master-Boot-Record" class="headerlink" title="MBR全称为Master Boot Record"></a>MBR全称为Master Boot Record</h3><p>主引导记录，是传统的分区机制，应用于绝大多数使用BIOS的PC设备</p>
<ul>
<li><p>MBR+BIOS</p>
</li>
<li><p>MBR支持32位和64位系统。</p>
</li>
<li><p>MBR支持分区数量有限。</p>
</li>
<li><p>MBR只支持不超过2T的硬盘，超过2T的硬盘将只能用2T空间（有第三方解决方法）</p>
</li>
</ul>
<h3 id="GPT（GUID-Partition-Table）"><a href="#GPT（GUID-Partition-Table）" class="headerlink" title="GPT（GUID Partition Table）"></a>GPT（GUID Partition Table）</h3><ul>
<li><p>全局唯一标识分区表，是一个较新的分区机制，解决了MBR很多缺点。</p>
</li>
<li><p>支持超过2T的磁盘（64位寻址空间）。fdisk最大只能建立2TB大小的分区，创建一个大于2TB的分区使用parted</p>
</li>
<li><p>向后兼容MBR。</p>
</li>
<li><p>必须在支持UEFI的硬件上才能使用（Intel提出，用于取代BIOS）。</p>
</li>
</ul>
<h3 id="GPT-UEFI"><a href="#GPT-UEFI" class="headerlink" title="GPT+UEFI"></a>GPT+UEFI</h3><ul>
<li><p>必须使用64位系统。</p>
</li>
<li><p>Mac、Linux系统都能支持GPT分区格式。</p>
</li>
<li><p>Windows 7/8 64bit、Windows Server 2008 64bit支持GPT</p>
</li>
</ul>
<p>以上就是Linux系统MBR和GPT分区的区别，总得来说GPT比MBR更先进，但是MBR的兼容性比GPT要好</p>
<p>在Linux系统中使用GPT分区格式(以CentOS 7为例)：</p>
<h4 id="parted用法和常用选项"><a href="#parted用法和常用选项" class="headerlink" title="parted用法和常用选项"></a>parted用法和常用选项</h4><p>用法：<code>parted [选项]... [设备 [命令 [参数]...]...]</code> </p>
<p>将带有“参数”的命令应用于“设备”。如果没有给出“命令”，则以交互模式运行.  </p>
<p>帮助选项：</p>
<p>-h, —help 显示此求助信息 </p>
<p>-l, —list 列出所有设别的分区信息</p>
<p>-i, —interactive 在必要时，提示用户 </p>
<p>-s, —script从不提示用户 </p>
<p>-v, —version显示版本</p>
<h4 id="操作命令"><a href="#操作命令" class="headerlink" title="操作命令"></a>操作命令</h4><p>检查 MINOR #对文件系统进行一个简单的检查 </p>
<p><code>cp [FROM-DEVICE] FROM-MINOR TO-MINOR</code> #将文件系统复制到另一个分区 </p>
<p><code>help [COMMAND]</code>  #打印通用求助信息，或关于 COMMAND 的信息 </p>
<p><code>mklabel</code> 标签类型 #创建新的磁盘标签 (分区表) </p>
<p><code>mkfs MINOR</code> 文件系统类型 #在 MINOR 创建类型为“文件系统类型”的文件系统 </p>
<p><code>mkpart</code> 分区类型 [文件系统类型] 起始点 终止点    #创建一个分区 </p>
<p><code>mkpartfs</code> 分区类型 文件系统类型 起始点 终止点  #创建一个带有文件系统的分区 </p>
<p><code>move MINOR</code> 起始点 终止点    #移动编号为 MINOR 的分区 </p>
<p><code>name MINOR</code> 名称     #将编号为 MINOR 的分区命名为“名称” </p>
<p><code>print [MINOR]</code>     #打印分区表，或者分区 </p>
<p><code>quit</code>          #退出程序 </p>
<p><code>rescue</code> 起始点 终止点    #挽救临近“起始点”、“终止点”的遗失的分区 </p>
<p><code>resize MINOR</code> 起始点 终止点  #改变位于编号为 MINOR 的分区中文件系统的大小 </p>
<p><code>rm MINOR</code>         #删除编号为 MINOR 的分区 </p>
<p><code>select</code> 设备       #选择要编辑的设备 </p>
<p><code>set MINOR</code> 标志 状态     #改变编号为 MINOR 的分区的标志</p>
<h4 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h4><ol>
<li>磁盘分区fdisk(这里省略,关于磁盘分区参照Linux Fdisk分区篇,记住更改分区格式8e-Linxu LVM分区格式)</li>
<li>创建物理卷(physical volume),相关命令:pvcreate、pvremove、pvdisplay</li>
<li>卷组(volume group),相关命令:vgcreate、vgreduce、vgremove、vgdisplay、vgextend</li>
<li>逻辑卷(logic volumn),相关命令:lvcreate、lvremove、lvdisplay、lvextend</li>
<li>挂载逻辑卷</li>
</ol>
<p>物理卷篇<br><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">创建物理卷</span><br><span class="line">#pvcreate /dev/sda5</span><br><span class="line">查看物理卷</span><br><span class="line">#pvdisplay</span><br></pre></td></tr></table></figure></p>
<p>卷组篇</p>
<p>卷组可以由一个或多个物理卷组成,当卷组空间不够时可以再新增物理卷扩容.</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">创建卷组</span><br><span class="line">#vgcreate vg1 /dev/sda5</span><br><span class="line">新增卷组</span><br><span class="line">#vgextend vg1 /dev/sda6</span><br><span class="line">删除卷组</span><br><span class="line">#vgreduce vg1 /dev/sda6</span><br><span class="line">查看卷组</span><br><span class="line">#vgdisplay</span><br></pre></td></tr></table></figure>
<p>逻辑卷篇</p>
<p>逻辑卷建立在卷组基础之上的,所以在创建逻辑卷的时候一定要指定卷组名称.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">创建逻辑卷</span><br><span class="line">#lvcreate -L 3G -n lvdisk1 vg1</span><br><span class="line">显示逻辑卷</span><br><span class="line">#lvdisplay</span><br><span class="line">挂载逻辑卷</span><br><span class="line">#mount -t ext4 &#x2F;dev&#x2F;vg1&#x2F;lvdisk1</span><br><span class="line">删除逻辑卷</span><br><span class="line">#lvremove &#x2F;dev&#x2F;vg1&#x2F;lvdisk1</span><br><span class="line">扩容逻辑卷(卷组的可用范围内的容量值)</span><br><span class="line">#lvextend -L +1G &#x2F;dev&#x2F;vg1&#x2F;lvdisk1</span><br><span class="line">扩容生效</span><br><span class="line">#resize2fs &#x2F;dev&#x2F;vg1&#x2F;lvdisk1</span><br></pre></td></tr></table></figure>
<p>相关参考资料<br><a href="http://www.cnblogs.com/gaojun/archive/2012/08/22/2650229.html" target="_blank" rel="noopener">http://www.cnblogs.com/gaojun/archive/2012/08/22/2650229.html</a></p>
<h3 id="linux磁盘分区-1"><a href="#linux磁盘分区-1" class="headerlink" title="linux磁盘分区"></a>linux磁盘分区</h3><p><a href="http://www.jb51.net/article/31847.htm" target="_blank" rel="noopener">http://www.jb51.net/article/31847.htm</a></p>
<p><a href="http://www.jb51.net/LINUXjishu/310963.html" target="_blank" rel="noopener">http://www.jb51.net/LINUXjishu/310963.html</a>  Linux折腾记（七）：硬盘GPT分区和MBR分区爬坑记</p>
<p><a href="http://www.jb51.net/article/31847.htm" target="_blank" rel="noopener">http://www.jb51.net/article/31847.htm</a>   linux大于2T的磁盘使用GPT分区的方法分享</p>
<p><a href="http://jingyan.baidu.com/article/a17d5285ee6fed8098c8f239.html" target="_blank" rel="noopener">http://jingyan.baidu.com/article/a17d5285ee6fed8098c8f239.html</a>  如何使用GPT工具对linux系统进行分区</p>
<p><a href="http://blog.csdn.net/littlebrain4solving/article/details/44853199" target="_blank" rel="noopener">http://blog.csdn.net/littlebrain4solving/article/details/44853199</a>   Linux Fdisk 分区使用手册</p>
<p><a href="http://blog.csdn.net/littlebrain4solving/article/details/44853281" target="_blank" rel="noopener">http://blog.csdn.net/littlebrain4solving/article/details/44853281</a>   Linux LVM 分区扩容与多磁盘分区合并处理</p>
<p><a href="http://www.xitongzhijia.net/xtjc/20150916/57847.html" target="_blank" rel="noopener">http://www.xitongzhijia.net/xtjc/20150916/57847.html</a>   Linux系统MBR和GPT分区的区别</p>
<p><a href="http://www.jb51.net/article/97823.htm" target="_blank" rel="noopener">http://www.jb51.net/article/97823.htm</a>    LINUX磁盘分区、格式化、挂载、卸载详细过程</p>
<p><a href="https://help.ubuntu.com/community/RecoveringUbuntuAfterInstallingWindows" target="_blank" rel="noopener">https://help.ubuntu.com/community/RecoveringUbuntuAfterInstallingWindows</a> 复原Ubuntu在装Windows后</p>
<h3 id="查看磁盘信息"><a href="#查看磁盘信息" class="headerlink" title="查看磁盘信息"></a>查看磁盘信息</h3><p><a href="https://www.jb51.net/LINUXjishu/160497.html" target="_blank" rel="noopener">https://www.jb51.net/LINUXjishu/160497.html</a>  linux查看磁盘挂载的三种方法</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">dassin@dassein:~$ <span class="title">df</span> -<span class="title">kv</span></span></span><br><span class="line"><span class="function"><span class="title">Filesystem</span>     1<span class="title">K</span>-<span class="title">blocks</span>     <span class="title">Used</span> <span class="title">Available</span> <span class="title">Use</span>% <span class="title">Mounted</span> <span class="title">on</span></span></span><br><span class="line"><span class="function"><span class="title">udev</span>             6023316        0   6023316   0% /<span class="title">dev</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            1209008    10072   1198936   1% /<span class="title">run</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p8</span>  16834880  4725920  11230728  30% /</span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            6045020      376   6044644   1% /<span class="title">dev</span>/<span class="title">shm</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>               5120        4      5116   1% /<span class="title">run</span>/<span class="title">lock</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            6045020        0   6045020   0% /<span class="title">sys</span>/<span class="title">fs</span>/<span class="title">cgroup</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p5</span>    497696     1156    496540   1% /<span class="title">boot</span>/<span class="title">efi</span></span></span><br><span class="line"><span class="function"><span class="title">tmpfs</span>            1209004      120   1208884   1% /<span class="title">run</span>/<span class="title">user</span>/1000</span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">sda1</span>       72586216 32109820  40476396  45% /<span class="title">media</span>/<span class="title">dassin</span>/<span class="title">Windows10</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p1</span> 176656380   311220 176345160   1% /<span class="title">media</span>/<span class="title">dassin</span>/<span class="title">New</span> <span class="title">Volume</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p6</span>  11468016   139056  10726696   2% /<span class="title">media</span>/<span class="title">dassin</span>/<span class="title">b7ba5ef9</span>-77<span class="title">f0</span>-4<span class="title">aa2</span>-<span class="title">a1fa</span>-131011320<span class="title">d54</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">nvme0n1p7</span>  29666284  3860224  24276052  14% /<span class="title">media</span>/<span class="title">dassin</span>/144362<span class="title">ae</span>-35<span class="title">fa</span>-4437-814<span class="title">c</span>-7<span class="title">a3098a4d903</span></span></span><br><span class="line"><span class="function">/<span class="title">dev</span>/<span class="title">sda5</span>       43817252 30798012  13019240  71% /<span class="title">media</span>/<span class="title">dassin</span>/0000<span class="title">BCCE0004B966</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>GPT</tag>
      </tags>
  </entry>
  <entry>
    <title>linux安装输入法</title>
    <url>/2020/05/16/linux_install/linux%E5%AE%89%E8%A3%85%E8%BE%93%E5%85%A5%E6%B3%95/</url>
    <content><![CDATA[<h2 id="linux安装输入法"><a href="#linux安装输入法" class="headerlink" title="linux安装输入法"></a>linux安装输入法</h2><a id="more"></a>
<p><a href="http://blog.csdn.net/ljp812184246/article/details/50222125" target="_blank" rel="noopener">http://blog.csdn.net/ljp812184246/article/details/50222125</a>    linux中yum的安装</p>
<p><a href="http://blog.csdn.net/wzgl__wh/article/details/51327570" target="_blank" rel="noopener">http://blog.csdn.net/wzgl__wh/article/details/51327570</a>    Linux系统下如何使用中文输入法</p>
<p><a href="https://zhidao.baidu.com/question/582793394878019125.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/582793394878019125.html</a>   linux如何配置中文输入</p>
<p><a href="https://zhidao.baidu.com/question/619127469641961052.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/619127469641961052.html</a>    Ubuntu 16.04 不支持中文输入法吗</p>
<p><a href="http://www.cnblogs.com/bluestorm/p/3731330.html" target="_blank" rel="noopener">http://www.cnblogs.com/bluestorm/p/3731330.html</a> 搜狗拼音输入法LINUX版安装</p>
<p><a href="http://blog.csdn.net/gzliudan/article/details/53052859" target="_blank" rel="noopener">http://blog.csdn.net/gzliudan/article/details/53052859</a>     安装完ubuntu 16.10要做的事情 </p>
]]></content>
      <categories>
        <category>linux</category>
        <category>软件安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ibus</tag>
      </tags>
  </entry>
  <entry>
    <title>庄子內篇</title>
    <url>/2020/05/15/classics/%E5%BA%84%E5%AD%90%E5%85%A7%E7%AF%87/</url>
    <content><![CDATA[<h2 id="庄子內篇"><a href="#庄子內篇" class="headerlink" title="庄子內篇"></a>庄子內篇</h2><a id="more"></a>
<h3 id="大宗师"><a href="#大宗师" class="headerlink" title="大宗师"></a>大宗师</h3><p>大宗师<br>【题解】</p>
<p>“宗”指敬仰、尊崇，“大宗师”意思是最值得敬仰、尊崇的老师。谁够得上称作这样的老师呢？那就是“道”。庄子认为自然和人是浑一的，人的生死变化是没有什么区别的，因而他主张清心寂神，离形去智，忘却生死，顺应自然。这就叫做“道”。</p>
<p>全文可以分为九个部分。第一部分至“是之谓真人”，虚拟一理想中的“真人”，“真人”能做到“天”、“人”不分，因而“真人”能做到“无人”、“无我”。“真人”的精神境界就是“道”的形象化。第二部分至“而比于列星”，从描写“真人”逐步转为述说“道”，只有“真人”才能体察“道”，而“道”是“无为无形”而又永存的，因而体察“道”就必须“无人”、“无我”。这两段是全文论述的主体。第三部分至“参寥闻之疑始”，讨论体察“道”的方法和进程。第四部分至“蘧然觉”，说明人的死生存亡实为一体，无法逃避，因而应“安时而处顺”。第五部分至“天之小人也”，进一步讨论人的死和生，指出死和生都是“气”的变化，是自然的现象，因而应“相忘以生，无所终穷”，只有这样精神才会超脱物外。第六部分至“乃入于寥天一”，说明人的躯体有了变化而人的精神却不会死，安于自然、忘却死亡，便进入“道”的境界而与自然合成一体。第七部分至“此所游已”，批判儒家的仁义和是非观念，指出儒家的观念是对人的精神摧残。第八部分至“丘也请从而后也”，论述“离形去知，同于大通”是进入“道”的境界的方法。余下为第九部分，说明一切都由“命”所安排，即非人为之力所安排。</p>
<p>【原文】</p>
<p>知天之所为，知人之所为者，至矣。知天之所为者，天而生也；知人之所为者，以其知之所知以养其知之所不知，终其天年而不中道夭者：是知之盛也。虽然，有患。夫知有所待而后当①，其所待者特未定也②。庸讵知吾所谓天之非人乎？所谓人之非天乎？</p>
<p>且有真人而后有真知。何谓真人？古之真人不逆寡③，不雄成④，不谟士⑤。若然者，过而弗悔，当而不自得也⑥。若然者，登高不慄，入水不濡⑦，入火不热。是知之能登假于道者也若此⑧。古之真人，其寝不梦，其觉无忧，其食不甘，其息深深。真人之息以踵⑨，众人之息以喉。屈服者，其嗌言若哇⑩。其耆欲深者(11)，其天机浅(12)。古之真人，不知说生，不知恶死；其出不(13)，其入不距(14)；翛然而往(15)，翛然而来而已矣。不忘其所始，不求其所终；受而喜之，忘而复之，是之谓不以心捐道(16)，不以人助天。是之谓真人。若然者，其心志(17)，其容寂，其颡(18)；凄然似秋，煖然似春(19)，喜怒通四时，与物有宜而莫知其极(20)。</p>
<p>故圣人之用兵也(21)，亡国而不失人心；利泽施乎万世(22)，不为爱人。故乐通物，非圣人也；有亲(23)，非仁也；天时(24)，非贤也；利害不通，非君子也；行名失己(25)，非士也；亡身不真，非役人也(26)。若狐不偕、务光、伯夷、叔齐、箕子、胥余、纪他、申徒狄(27)，是役人之役，适人之适(28)，而不自适其适者也。</p>
<p>古之真人，其状義而不朋(29)，若不足而不承；与乎其觚而不坚也(30)，张乎其虚而不华也(31)；邴邴乎其似喜乎(32)，崔乎其不得已乎(33)！滀乎进我色也(34)，与乎止我德也(35)；厉乎其似世乎(36)！謷乎其未可制也(37)；连乎其似好闭也(38)，悗乎忘其言也(39)。以刑为体(40)，以礼为翼，以知为时(41)，以德为循。以刑为体者，绰乎其杀也(42)；以礼为翼者，所以行于世也；以知为时者，不得已于事也；以德为循者，言其与有足者至于丘也，而人真以为勤行者也。故其好之也一，其弗好之也一。其一也一，其不一也一。其一与天为徒(43)，其不一与人为徒。天与人不相胜也，是之谓真人。</p>
<p>【注释】</p>
<p>①有所待：有所依凭。庄子认为人们的认识和了解都离不开认识、了解的对象。当：恰当、正确。</p>
<p>②特：但，不过。</p>
<p>③逆：针对，对付。</p>
<p>④雄成：雄据自己的成绩，即凭借自己取得的成绩而傲视他人、凌驾他人。</p>
<p>⑤谟：图谋、算计。土：通作“事”。一说“士”当就字面讲，“谟士”则讲作采用不正当手段谋取士人的信赖。</p>
<p>⑥当：恰巧、正好。自得：自以为得意。</p>
<p>⑦濡（ｒú）：沾湿。</p>
<p>⑧假：通作“格”，至、达到的意思。</p>
<p>⑨踵：脚根。“息以踵”言气息深沉，发自根本。</p>
<p>⑩嗌（àｉ）：咽喉闭塞。“嗌言”是说言语吞吐像堵在喉头似的。哇（ｗā）：象声词，形容声音靡曼。</p>
<p>(11)耆：嗜好；这个意思后代写作“嗜”。</p>
<p>(12)天机：天生的神智。</p>
<p>(13)“出”这里指出生于世，与下句“入”指死亡相对为文。以下的“往”和“来”也是指人的死和生。：“欣”字的异体，高兴的意思。</p>
<p>(14)距：通作“拒”，拒绝、回避的意思。</p>
<p>(15)翛（ｘｉāｏ）然：无拘束，自由自在的样子。</p>
<p>(16)揖：当为“损”字之讹，损害的意思。</p>
<p>(17)志：疑为“忘”字之误；“心忘”意思是心里空灵，忘掉自己的周围。</p>
<p>(18)颡（ｓāｎｇ）：额。</p>
<p>(19)煖（ｘｕāｎ）：同“煊”，温暖的意思。</p>
<p>(20)宜：合适、相称。</p>
<p>(21)本自然段（从“故圣人之用兵也”至“而不自适其适者也”）闻一多先生认为文意与上下不能一贯而自成片断，疑系错简。以备参考。</p>
<p>(22)利泽：利益和恩泽。</p>
<p>(23)亲：这里指偏爱。庄子主张至人无亲，任理自存，因而有了偏爱就算不上是“仁”。</p>
<p>(24)天时：选择时机。</p>
<p>(25)行名：做事为取名声。一说“行”读ｘìｎｇ，是品行的意思，“行名失己”即品行和名声不符而失去本真。</p>
<p>(26)役：役使、驱遣。</p>
<p>(27)狐不偕、务光、伯夷、叔齐、箕子、胥余、纪他、申徒狄：皆人名，传说中远古时代（唐尧、夏禹、商汤时代）的贤人，有的为不愿接受天下，有的为忠谏不被采纳，或投水而死，或饿死，或被杀害。</p>
<p>(28)适：安适，舒畅。</p>
<p>(29)状：外部的表情和神态。義（é）：通作“峨”（亦写作“峩”），高的意思。朋（ｂēｎｇ）：通作“崩”，崩坏的意思。“義而不朋”意思是嵬峨而不矜持。一说“義”（ｙì）讲作“宜”，指与人相处随物而宜；“朋”讲作“朋党”，指与人交往却不结成朋党。姑备参考。</p>
<p>(30)与乎：容与，态度自然安闲的样子。觚（ｇū）：特立超群。坚：这里是固执的意思。</p>
<p>(31)张乎：广大的样子，这里指内心宽宏、开阔。华：浮华。</p>
<p>(32)邴（ｂǐｎｇ）邴：欣喜的样子。有的本子只有一个“邴”字。</p>
<p>(33)崔乎：开始行动的样子。</p>
<p>(34)滀（ｃｈù）乎：本指水之停聚貌，这里引伸形容人的容颜和悦而有光泽。</p>
<p>(35)与：交往，待人接物。止：归；“止我德”是说德性高雅宽和让人归依。</p>
<p>(36)厉：疑为“广”字之误，言精神博大好像包容了世界。一说“世”乃“泰”字之通假，大的意思。</p>
<p>(37)謷（áｏ）乎：高放自得的样子。制：限止。</p>
<p>(38)连乎：绵邈深远的样子。</p>
<p>(39)悗（ｍèｎ）乎：心不在焉的样子。</p>
<p>(40)“以刑为体”至“而人真以为勤行者也”十三句，所述内容不似庄子的思想和主张，跟上下文内容也不连贯，嵌在这里前后很不好串通，有待进一步校勘、考订。</p>
<p>(41)为时：等待时机。</p>
<p>(42)绰乎：宽大的样子。</p>
<p>(43)徒：徒属，这里是同类的意思。</p>
<p>【译文】</p>
<p>知道自然的作为，并且了解人的作为，这就达到了认识的极点。知道自然的作为，是懂得事物出于自然；了解人的作为，是用他智慧所通晓的知识哺育、薰陶他智慧所未能通晓的知识，直至自然死亡而不中途夭折，这恐怕就是认识的最高境界了。虽然这样，还是存在忧患。人们的知识一定要有所依凭方才能认定是否恰当，而认识的对象却是不稳定的。怎么知道我所说的本于自然的东西不是出于人为呢，怎么知道我所说的人为的东西又不是出于自然呢？</p>
<p>况且有了“真人”方才有真知。什么叫做“真人”呢？古时候的“真人”，不倚众凌寡，不自恃成功雄踞他人，也不图谋琐事。像这样的人，错过了时机不后悔，赶上了机遇不得意。象这样的人，登上高处不颤慄，下到水里不会沾湿，进入火中不觉灼热。这只有智慧能通达大道境界的人方才能像这样。古时候的“真人”，他睡觉时不做梦，他醒来时不忧愁，他吃东西时不求甘美，他呼吸时气息深沉。“真人”呼吸凭借的是着地的脚根，而一般人呼吸则靠的只是喉咙。被人屈服时，言语在喉前吞吐就像哇哇地曼语。那些嗜好和欲望太深的人，他们天生的智慧也就很浅。古时候的“真人”，不懂得喜悦生存，也不懂得厌恶死亡；出生不欣喜，入死不推辞；无拘无束地就走了，自由自在地又来了罢了。不忘记自己从哪儿来，也不寻求自己往哪儿去，承受什么际遇都欢欢喜喜，忘掉死生像是回到了自己的本然，这就叫做不用心智去损害大道，也不用人为的因素去帮助自然。这就叫“真人”。像这样的人，他的内心忘掉了周围的一切，他的容颜淡漠安闲，他的面额质朴端严；冷肃得像秋天，温暖得像春天，高兴或愤怒跟四时更替一样自然无饰，和外界事物合宜相称而没有谁能探测到他精神世界的真谛。</p>
<p>所以古代圣人使用武力，灭掉敌国却不失掉敌国的民心；利益和恩泽广施于万世，却不是为了偏爱什么人。乐于交往取悦外物的人，不是圣人；有偏爱就算不上是“仁”；伺机行事，不是贤人；不能看到利害的相通和相辅，算不上是君子；办事求名而失掉自身的本性，不是有识之士；丧失身躯却与自己的真性不符，不是能役使世人的人。像狐不偕、务光、伯夷、叔齐、箕子、胥余、纪他、申徒狄，这样的人都是被役使世人的人所役使，都是被安适世人的人所安适，而不是能使自己得到安适的人。</p>
<p>古时候的“真人”，神情嵬峨而不矜持，好像不足却又无所承受；态度安闲自然、特立超群而不执着顽固，襟怀宽阔虚空而不浮华；怡然欣喜像是格外地高兴，一举一动又像是出自不得已！容颜和悦令人喜欢接近，与人交往德性宽和让人乐于归依；气度博大像是宽广的世界！高放自得从不受什么限制，绵邈深远好像喜欢封闭自己，心不在焉的样子又好像忘记了要说的话。把刑律当作主体，把礼仪当作羽翼，用已掌握的知识去等待时机，用道德来遵循规律。把刑律当作主体的人，那么杀了人也是宽厚仁慈的；把礼仪当作羽翼的人，用礼仪的教诲在世上施行；用已掌握的知识去等待时机的人，是因为对各种事情出于不得已；用道德来遵循规律，就像是说大凡有脚的人就能够登上山丘，而人们却真以为是勤于行走的人。所以说人们所喜好的是浑然为一的，人们不喜好的也是浑然为一的。那些同一的东西是浑一的，那些不同一的东西也是浑一的。那些同一的东西跟自然同类，那些不同一的东西跟人同类。自然与人不可能相互对立而相互超越，具有这种认识的人就叫做“真人”。</p>
<p>【原文】</p>
<p>死生，命也①，其有夜旦之常②，天也。人之有所不得与③，皆物之情也。彼特以天为父，而身犹爱之，而况其卓乎④！人特以有君为愈乎己⑤，而身犹死之⑥，而况其真乎⑦！</p>
<p>泉涸⑧，鱼相与处于陆，相呴以湿⑨，相以沫⑩，不如相忘于江湖。与其誉尧而非桀也，不如两忘而化其道(11)。夫大块载我以形(12)，劳我以生，佚我以老(13)，息我以死。故善吾生者，乃所以善死也。</p>
<p>夫藏舟于壑(14)，藏山于泽(15)，谓之固矣。然而夜半有力者负之而走，昧者不知也(16)。藏小大有宜(17)，犹有所遯(18)。若夫藏天下于天下而不得所遯，是恒物之大情也(19)。特犯人之形而犹喜之(20)，若人之形者，万化而未始有极也，其为乐可胜计邪(21)？故圣人将游于物之所不得遯而皆存。善妖善老(22)，善始善终，人犹效之，又况万物之所系而一化之所待乎(23)！</p>
<p>夫道，有情有信(24)，无为无形；可传而不可受(25)，可得而不可见(26)；自本自根，未有天地，自古以固存；神鬼神帝(27)，生天生地；在太极之先而不为高(28)，在六极之下而不为深(29)，先天地生而不为久，长于上古而不为老。狶韦氏得之(30)，以挈天地(31)；伏戏氏得之(32)，以袭气母(33)；维斗得之(34)，终古不忒(35)；日月得之，终古不息；堪坏得之(36)，以袭昆仑；冯夷得之(37)，以游大川；肩吾得之(38)，以处大山；黄帝得之(39)，以登云天；颛顼得之(40)，以处玄宫；禺强得之(41)，立乎北极；西王母得之(42)，坐乎少广。莫知其始，莫知其终。彭祖得之，上及有虞，下及五伯(43)；傅说得之(44)，以相武丁，奄有天下(45)，乘东维(46)，骑箕尾(47)，而比于列星。</p>
<p>【注释】</p>
<p>①命：这里指不可避免的、非人为的作用。</p>
<p>②常：常规，恒久不易或变化的规律。</p>
<p>③与：参与，干预。</p>
<p>④卓：特立，高超；这里实指“道”。</p>
<p>⑤愈：胜，超过。⑥死之：这里讲作“为之而死”，即为国君而献身。</p>
<p>⑦真：这里指的是“道”。一说即上段之“真人”。姑备参考。</p>
<p>⑧涸（ｈé）：水干。</p>
<p>⑨呴（ｘū）：张口出气。</p>
<p>⑩（ｒǔ）：同“濡”，一本亦作“濡”，沾湿的意思。沫：唾沫，即口水。</p>
<p>(11)化：这里是熔解、混同的意思。</p>
<p>(12)大块：大地；这里可以理解为大自然。</p>
<p>(13)佚（ｙì）：通作“逸”，闲逸的意思。</p>
<p>(14)壑（ｈè）：深深的山谷。</p>
<p>(15)山（ｓｈàｎ）：通作“汕”，捕鱼的用具。旧注就字面讲。</p>
<p>(16)昧：通作“寐”，睡着的意思。一说“昧”当如字面讲，昧者”即愚昧的人。</p>
<p>(17)藏小大：即“藏小于大”。宜：合适，适宜。</p>
<p>(18)遯（ｄùｎ）：“遁”字的异体，逃脱、丢失的意思。</p>
<p>(19)恒：常有、固有的意思。</p>
<p>(20)犯：承受。一说通作“范”，模子的意思。</p>
<p>(21)胜（ｓｈēｎｇ）：禁得起。</p>
<p>(22)妖：或作“夭”，根据上下文意判断，这里应是少小的意思，与“老”字互文。</p>
<p>(23)系：关联、连缀。一：全；“一化”即所有的变化。待：依靠、凭借。“所系”、“所待”这里都是指所谓“道”，庄子认为一切事物、一切变化都离不开“道”，因而人们应当效法它，“宗”之为“师”。</p>
<p>(24)情、信：真实、确凿可信。</p>
<p>(25)传：传递、感染、感受的意思。</p>
<p>(26)得：这里是体会、领悟的意思。</p>
<p>(27)神：这里是引出、产生的意思。</p>
<p>(28)太极：派生万物的本原，即宇宙的初始。先：据上下文理和用词对应的情况看，“先”字当作“上”字，这样“太极之上”对应下句“六极之下”，且不与“先天地”一句重复。</p>
<p>(29)六极：即六合。</p>
<p>(30)狶（ｘī）韦氏：传说中的远古时代的帝王。</p>
<p>(31)挈（ｑｉè）：提挈，含有统领、驾驭的含意。</p>
<p>(32)伏戏氏：即伏羲氏，传说中的古代帝王。</p>
<p>(33) 袭：入。一说讲作“合”。气母：元气之母，即古人心目中宇宙万物初始的物质。</p>
<p>(34)维斗：北斗星。</p>
<p>(35)忒（ｔè）：差错。</p>
<p>(36)堪坏（ｐēｉ）：传说中人面兽身的昆仑山神。</p>
<p>(37)冯夷：传说中的河神。</p>
<p>(38)肩吾：传说中的泰山之神。</p>
<p>(39)黄帝：即轩辕氏，传说中的古代帝王，中原各族的始祖。</p>
<p>(40)颛顼（ｚｈｕāｎｘū）：传说为黄帝之孙，即帝高阳。玄：黑。颛顼又称玄帝，即北方之帝，“玄”为黑色，为北方之色，所以下句说“处玄宫”。</p>
<p>(41)禺强：传说中人面鸟身的北海之神。</p>
<p>(42)西王母：古代神话中的女神，居于少广山。</p>
<p>(43)“五伯”旧指夏伯昆吾、殷伯大彭、豕韦，周伯齐桓、晋文。</p>
<p>(44)傅说（ｙｕè）：殷商时代的贤才，辅佐高宗武丁，成为武丁的相。传说傅说死后成了星精，故下句有“乘东维、骑箕尾”之说。</p>
<p>(45)奄：覆盖、包括。</p>
<p>(16)东维：星名，在箕星、尾星之间。</p>
<p>(47)箕、尾：星名，为二十八宿中的两个星座。</p>
<p>【译文】</p>
<p>死和生均非人为之力所能安排，犹如黑夜和白天交替那样永恒地变化，完全出于自然。有些事情人是不可能参与和干预的，这都是事物自身变化的实情。人们总是把天看作生命之父，而且终身爱戴它，何况那特立高超的“道”呢！人们还总认为国君是一定超越自己的，而且终身愿为国君效死，又何况应该宗为大师的“道”呢？</p>
<p>泉水干涸了，鱼儿困在陆地上相互依偎，互相大口出气来取得一点湿气，以唾沫相互润湿，不如将过去江湖里的生活彻底忘记。与其赞誉唐尧的圣明而非议夏桀的暴虐，不如把他们都忘掉而融化混同于“道”。大地把我的形体托载，并且用生存来劳苦我，用衰老来闲适我，用死亡来安息我。所以，把我的存在看作好事的，也就因此而可以把我的死亡看作是好事。</p>
<p>将船儿藏在大山沟里，将渔具藏在深水里，可以说是十分牢靠了。然而半夜里有个大力士把它们连同山谷和河泽一块儿背着跑了，睡梦中的人们还一点儿也不知道。将小东西藏在大东西里是适宜的，不过还是会有丢失。假如把天下藏在天下里而不会丢失，这就是事物固有的真实之情。人们只要承受了人的形体便十分欣喜，至于像人的形体的情况，在万千变化中从不曾有过穷尽，那快乐之情难道还能够加以计算吗？所以圣人将生活在各种事物都不会丢失的环境里而与万物共存亡。以少为善以老为善，以始为善以终为善，人们尚且加以效法，又何况那万物所联缀、各种变化所依托的“道”呢！</p>
<p>“道”是真实而又确凿可信的，然而它又是无为和无形的；“道”可以感知却不可以口授，可以领悟却不可以面见；“道”自身就是本、就是根，还未出现天地的远古时代“道”就已经存在；它引出鬼帝，产生天地；它在太极之上却并不算高，它在六极之下不算深，它先于天地存在还不算久，它长于上古还不算老。狶韦氏得到它，用来统驭天地；伏羲氏得到它，用来调合元气；北斗星得到它，永远不会改变方位；太阳和月亮得到它，永远不停息地运行；堪坏得到它，用来入主昆仑山；冯夷得到它，用来巡游大江大河；肩吾得到它，用来驻守泰山；黄帝得到它，用来登上云天；颛顼得到它，用来居处玄宫；禹强得到它，用来立足北极；西王母得到它，用来坐阵少广山。没有人能知道它的开始，也没有人能知道它的终结。彭祖得到它，从远古的有虞时代一直活到五伯时代；傅说得到它，用来辅佐武丁，统辖整个天下，乘驾东维星，骑坐箕宿和尾宿，而永远排列在星神的行列里。</p>
<p>【原文】</p>
<p>南伯子葵问乎女偊曰①：“子之年长矣，而色若孺子②，何也？”曰：“吾闻道矣。”南伯子葵曰：“道可得学邪？”曰：“恶③！恶可！子非其人也。夫卜梁倚有圣人之才而无圣人之道④，我有圣人之道而无圣人之才，吾欲以教之，庶几其果为圣人乎⑤！不然，以圣人之道告圣人之才，亦易矣。吾犹守而告之⑥，参日而后能外天下⑦；已外天下矣，吾又守之，七日而后能外物；已外物矣，吾又守之，九日而后能外生；已外生矣，而后能朝彻⑧；朝彻，而后能见独⑨；见独，而后能无古今；无古今，而后能入于不死不生。杀生者不死⑩，生生者不生。其为物，无不将也(11)，无不迎也；无不毁也，无不成也。其名为撄宁(12)。撄宁也者，撄而后成者也。”</p>
<p>南伯子葵曰：“子独恶乎闻之？”曰：“闻诸副墨之子，副墨之子闻诸洛诵之孙，洛诵之孙闻之瞻明，瞻明闻之聂许，聂许闻之需役，需役闻之於讴，於讴闻之玄冥，玄冥闻之参寥，参寥闻之疑始(13)。”</p>
<p>【注释】</p>
<p>①南伯子葵、女偊（ｙǔ）：均为人名。旧注曾疑“南伯子葵”即“南郭子綦”。</p>
<p>②孺子：幼儿，孩童。</p>
<p>③恶（ｗū）这里是批驳、否定对方的言词，义同“不”。</p>
<p>④卜梁倚：人名：圣人之道：指虚淡内凝的心境。圣人之才：指明敏的、外用的才质。</p>
<p>⑤庶几：也许、大概。</p>
<p>⑥守：持守，修守，这里指内心凝寂，善于自持而不容懈怠。</p>
<p>⑦参：三。外：遗忘。“外”是相对于“内”的，思想上、精神上既然能凝寂虚空，身外之物，包括天地、死生都好像虚妄而不存在，故有以天下为外，以物为外，以生为外的说法。</p>
<p>⑧朝彻：“朝”指朝阳，“彻”指明彻，这里用早晨太阳初升时的清新明彻，喻指物我皆忘的凝寂空灵的心境。</p>
<p>⑨独：庄子哲学体系中的又一重要概念，指不受任何事物影响，也不对任何事物有所依待。能够独立而无所依待的就只有所谓的“道”，故这句中的“独”实际指的就是“道”。</p>
<p>⑩杀：灭除，含有摒弃、忘却之意。“杀生者”与下句“生生者”相对为文，分别指忘却生存和眷恋人世的人。</p>
<p>(11)将：送。</p>
<p>(12) </p>
<p>撄（ｙīｎｇ）：扰乱，“撄宁”意思是不受外界事物的纷扰，保持心境的宁静。这是庄子所倡导的极高的修养境界，能够做到这一点也就得到了“道”，所以下一句说“撄而后成”。</p>
<p>(13)“副墨”、“洛诵”、“瞻明”、“聂许”、“需役”、“於（ｗū）讴（ōｕ）”、“玄冥”、“参寥”、“疑始”等，均为假托的寓言人物之名。曾有人就这些人名的用字作过推敲，揣度其间还含有某些特殊的寓意，但均不能确考。大体是，“副墨”指文字，“洛诵”指背诵，“瞻明”指目视明晰，“聂许”指附耳私语，“需役”指勤行不怠，“於讴”指吟咏领会，“玄冥”指深远虚寂，“参寥”指高旷寥远，“疑始”指迷茫而无所本。</p>
<p>【译文】</p>
<p>南伯子葵向女偊问道：“你的岁数已经很大了，可是你的容颜却像孩童，这是什么缘故呢？”女偊回答：“我得‘道’了。”南伯子葵说：“‘道’可以学习吗？”女偊回答说：“不！怎么可以呢！你不是可以学习‘道’的人。卜梁倚有圣人明敏的才气却没有圣人虚淡的心境，我有圣人虚淡的心境却没有圣人明敏的才气，我想用虚淡的心境来教导他，恐怕他果真能成为圣人哩！然而却不是这样，把圣人虚淡的心境传告具有圣人才气的人，应是很容易的。我还是持守着并告诉他，三天之后便能遗忘天下，既已遗忘天下，我又凝寂持守，七天之后能遗忘万物；既已遗忘外物，我又凝寂持守，九天之后便能遗忘自身的存在；既已遗忘存在的生命，而后心境便能如朝阳一般清新明彻；能够心境如朝阳般清新明彻，而后就能够感受那绝无所待的‘道’了；既已感受了‘道’，而后就能超越古今的时限；既已能够超越古今的时限，而后便进入无所谓生、无所谓死的境界。摒除了生也就没有死，留恋于生也就不存在生。作为事物，‘道’无不有所送，也无不有所迎；无不有所毁，也无不有所成，这就叫做‘撄宁’。撄宁，意思就是不受外界事物的纷扰，而后保持心境的宁静。”</p>
<p>南伯子葵又问：“你偏偏是怎么得‘道’的呢？”女偊又回答说：“我从副墨（文字）的儿子那里听到的，副墨的儿子从洛诵（背诵）的孙子那里听到的，洛诵的孙子从瞻明（目视明晰）那里听到的，瞻明从聂许（附耳私语）那里听到的，聂许从需役（勤行不怠）那里听到的，需役从於讴（吟咏领会）那里听到的，於讴从玄冥（深远虚寂）那里听到的，玄冥从参寥（高旷寥远）那里听到的，参寥从疑始（迷茫而无所本）那里听到的。”</p>
<p>【原文】</p>
<p>子祀、子舆、子犁、子来四人相与语曰①：“孰能以无为首，以生为脊，以死为尻②，孰知死生存亡之一体者，吾与之友矣。”四人相视而笑，莫逆于心③，遂相与为友。</p>
<p>俄而子舆有病，子祀往问之④。曰：“伟哉夫造物者，将以予为此拘拘也⑤！曲偻发背⑥，上有五管⑦，颐隐于齐⑧，肩高于顶，句赘指天⑨。”阴阳之气有沴⑩，其心闲而无事，跰而鑑于井(11)，曰：“嗟乎！夫造物者又将以予为此拘拘也！”</p>
<p>子祀曰：“女恶之乎(12)？”曰：“亡(13)，予何恶！浸假而化予之左臂以为鸡(14)，予因以求时夜(15)；浸假而化予之右臂以为弹，予因以求鸮炙(16)。浸假而化予之尻以为轮，以神为马，予因以乘之，岂更驾哉(17)！且夫得者(18)，时也(19)，失者，顺也(20)；安时而处顺，哀乐不能入也。此古之所谓县解也(21)，而不能自解者，物有结之。且夫物不胜天久矣，吾又何恶焉？”</p>
<p>俄而子来有病，喘喘然将死(22)，其妻子环而泣之(23)。子犁往问之，曰：“叱(24)！避！无怛化(25)！”倚其户与之语曰：“伟哉造化！又将奚以汝为(26)，将奚以汝适？以汝为鼠肝乎？以汝为虫臂乎？”</p>
<p>子来曰：“父母于子，东西南北，唯命之从。阴阳于人(27)，不翅于父母(28)；彼近吾死而我不听，我则悍矣，彼何罪焉！夫大块载我以形，劳我以生，佚我以老，息我以死。故善吾生者，乃所以善吾死也。今之大冶铸金(29)，金踊跃曰‘我且必为镆铘’(30)，大冶必以为不祥之金(31)。今一犯人之形(32)，而曰‘人耳人耳’，夫造化者必以为不祥之人。今一以天地为大炉，以造化为大冶，恶乎往而不可哉！”成然寐(33)，蘧然觉(34)。</p>
<p>【注释】</p>
<p>①子祀、子舆、子犁、子来：寓言故事中假托虚构的人名。</p>
<p>②尻（ｋāｏ）：脊骨最下端，也乏指臀部。</p>
<p>③莫逆于心：内心相契，心照不宣。</p>
<p>④问：拜访、问候。</p>
<p>⑤拘拘：曲屈不伸的样子。</p>
<p>⑥曲偻（ｌóｕ）：弯腰。发背：背骨外露。</p>
<p>⑦五管：五脏的穴口。</p>
<p>⑧颐（ｙí）：下巴。齐：肚脐，这个意思后代写作“脐”。</p>
<p>⑨句（ｇōｕ）赘：颈椎隆起状如赘瘤。</p>
<p>⑩沴（ｌì）：阳阳之气不和而生出的灾害。</p>
<p>(11)跰（ｐｉáｎｘｉāｎ）：蹒跚，行步倾倒不稳的样子。</p>
<p>(12)恶（ｗù）：厌恶。</p>
<p>(13)亡：通作“无”，“没有”的意思。</p>
<p>(14)浸：渐渐。假：假令。</p>
<p>(15)时夜：司夜，即报晓的公鸡。</p>
<p>(16)鸮（ｘｉāｏ）：斑鸠。炙（ｚｈì）：烤熟的肉。“鸮炙”即烤熟的斑鸠肉。</p>
<p>(17)更（ｇēｎｇ）：更换。驾：这里指车驾坐骑。</p>
<p>(18)得：指得到生命，与下句的“失”表示死亡相对应，“得”、“失”也即生、死。</p>
<p>(19)时：适时。</p>
<p>(20)顺：指顺应了规律。</p>
<p>(21)县（ｘｕáｎ）：悬挂。“县解”即解脱倒悬。庄子认为人不能超脱物外，就像倒悬人一样其苦不堪，而超脱于物外则像解脱了束缚，七情六欲也就不再成为负担。</p>
<p>(22)喘喘然：气息急促的样子。</p>
<p>(23)妻子：妻子儿女。环：绕。</p>
<p>(24)叱：呵叱之声。</p>
<p>(25)怛（ｄá）：惊扰。化：变化，这里指人之将死。</p>
<p>(26)为：这里是改变、造就的意思。</p>
<p>(27)阴阳：这里指整个自然变化。</p>
<p>(28)翅：这里讲作“啻”，“不翅”就是不啻。</p>
<p>(29)冶：熔炼金属；“大冶”指熔炼金属高超的工匠。金：金属。</p>
<p>(30)踊跃：跃起。镆铘：亦作“莫邪”，宝剑名。相传春秋时代干将、莫邪夫妇两人为楚王铸剑，三年剑成，雄剑取名为“干将”，雌剑取名为“莫邪”。</p>
<p>(31)祥：善。</p>
<p>(32)犯：遇，承受。</p>
<p>(33)成然：安闲熟睡的样子。寐：睡着，这里实指死亡。</p>
<p>(34)蘧（ｑú）然：惊喜的样子。觉：睡醒，这里喻指生还。</p>
<p>【译文】</p>
<p>子祀、子舆、子犁、子来四个人在一块摆谈说：“谁能够把无当作头，把生当作脊柱，把死当作尻尾，谁能够通晓生死存亡浑为一体的道理，我们就可以跟他交朋友。”四个人都会心地相视而笑，心心相契却不说话，于是相互交往成为朋友。</p>
<p>不久子舆生了病，子祀前去探望他。子舆说：“伟大啊，造物者！把我变成如此曲屈不伸的样子！腰弯背驼，五脏穴口朝上，下巴隐藏在肚脐之下，肩部高过头顶，弯曲的颈椎形如赘瘤朝天隆起”。阴阳二气不和酿成如此灾害，可是子舆的心里却十分闲逸好像没有生病似的，蹒跚地来到井边对着井水照看自己，说：“哎呀，造物者竟把我变成如此曲屈不伸！”</p>
<p>子祀说：“你讨厌这曲屈不伸的样子吗？”子舆回答：“没有，我怎么会讨厌这副样子！假令造物者逐渐把我的左臂变成公鸡，我便用它来报晓；假令造物者逐渐把我的右臂变成弹弓，我便用它来打斑鸠烤熟了吃。假令造物者把我的臀部变化成为车轮，把我的精神变化成骏马，我就用来乘坐，难道还要更换别的车马吗？至于生命的获得，是因为适时，生命的丧失，是因为顺应；安于适时而处之顺应，悲哀和欢乐都不会侵入心房。这就是古人所说的解脱了倒悬之苦，然而不能自我解脱的原因，则是受到了外物的束缚。况且事物的变化不能超越自然的力量已经很久很久，我又怎么能厌恶自己现在的变化呢？”</p>
<p>不久子来也生了病，气息急促将要死去，他的妻子儿女围在床前哭泣。子犁前往探望，说：“嘿，走开！不要惊扰他由生而死的变化！”子犁靠着门跟子来说话：“伟大啊，造物者！又将把你变成什么，把你送到何方？把你变化成老鼠的肝脏吗？把你变化成虫蚁的臂膀吗？”</p>
<p>子来说：“父母对于子女，无论东西南北，他们都只能听从吩咐调遣。自然的变化对于人，则不啻于父母；它使我靠拢死亡而我却不听从，那么我就太蛮横了，而它有什么过错呢！大地把我的形体托载，用生存来劳苦我，用衰老来闲适我，用死亡来安息我。所以把我的存在看作是好事，也因此可以把我的死亡看作是好事。现在如果有一个高超的冶炼工匠铸造金属器皿，金属熔解后跃起说‘我将必须成为良剑莫邪’，冶炼工匠必定认为这是不吉祥的金属。如今人一旦承受了人的外形，便说‘成人了成人了’，造物者一定会认为这是不吉祥的人。如今把整个浑一的天地当作大熔炉，把造物者当作高超的冶炼工匠，用什么方法来驱遣我而不可以呢？”于是安闲熟睡似的离开人世，又好像惊喜地醒过来而回到人间。</p>
<p>【原文】</p>
<p>子桑户、孟子反、子琴张三人相与友①，曰：“孰能相与于无相与，相为于无相为？孰能登天游雾，挠挑无极②，相忘以生，无所终穷？”三人相视而笑，莫逆于心，遂相与为友。</p>
<p>莫然有间而子桑户死③，未葬。孔子闻之，使子贡往侍事焉④。或编曲，或鼓琴，相和而歌曰：“嗟来桑户乎⑤！嗟来桑户乎！而已反其真⑥，而我犹为人猗⑦！”子贡趋而进曰：“敢问临尸而歌，礼乎？”二人相视而笑曰：“是恶知礼意！”</p>
<p>子贡反，以告孔子，曰：“彼何人者邪？修行无有⑧，而外其形骸⑨，临尸而歌；颜色不变，无以命之⑩。彼何人者邪？”</p>
<p>孔子曰：“彼，游方之外者也(11)；而丘，游方之内者也。外内不相及，而丘使女往吊之，丘则陋矣(12)。彼方且与造物者为人(13)，而游乎天地之一气(14)。彼以生为附赘县疣(15)，以死为决溃痈(16)，夫若然者，又恶知死生先后之所在！假于异物(17)，托于同体；忘其肝胆，遗其耳目；反覆终始，不知端倪；芒然彷徨乎尘垢之外(18)，逍遥乎无为之业(19)。彼又恶能愦愦然为世俗之礼(20)，以观众人之耳目哉(21)！”</p>
<p>子贡曰：“然则夫子何方之依(22)？”孔子曰：“丘，天之戮民也(23)。虽然，吾与汝共之。”子贡曰：“敢问其方。”孔子曰：“鱼相造乎水(24)，人相造乎道。相造乎水者，穿池而养给(25)；相造乎道者，无事而生定(26)。故曰，鱼相忘乎江湖，人相忘乎道术。”子贡曰：“敢问畸人(27)。”曰：“畸人者，畸于人而侔于天(28)，故曰，天之小人，人之君子；人之君子，天之小人也。”</p>
<p>【注释】</p>
<p>①子桑户、孟子反、子琴张：庄子假托的人名。本句的“友”字可能是“语”字之误；作“相与语”讲前后语意均能串通。</p>
<p>②挠挑：循环升登。无极：这里指没有穷尽的太空。</p>
<p>③莫然有间（ｊｉàｎ）：顷刻之间。一说“莫然”即“漠然”，指相交淡漠。姑备参考。</p>
<p>④侍事：帮助办理丧事。</p>
<p>⑤嗟来：犹如“嗟乎”。</p>
<p>⑥而：你。反：返回。真：本真。“反其真”意思就是返归自然。</p>
<p>⑦猗（ｙī）：表示感叹语气。</p>
<p>⑧修行：培养自己的德行。</p>
<p>⑨外其形骸：以其形骸为外，把自身的形骸置之度外，意思是不把死亡当作一件大事。</p>
<p>⑩命：名，称述。</p>
<p>(11)方：方域，指人类生活的空间。</p>
<p>(12)陋：浅薄，见识不广。</p>
<p>(13)人：偶；“为人”即相互做为伴侣。</p>
<p>(14)一气：元气。</p>
<p>(15)县（ｘｕáｎ）：悬。疣（ｙóｕ）：这里义同“瘤”。“附赘县疣”喻指多余的东西。</p>
<p>(16) （ｈｕàｎ）、痈（ｙōｎｇ）：均为毒疮。“决溃痈”指毒疮化浓而破溃。</p>
<p>(17)假：凭藉。</p>
<p>(18)芒然：即茫然。尘垢：这里喻指人世。</p>
<p>(19)无为之业：无所作为的境界。</p>
<p>(20)愦愦（ｋｕì）然：烦乱的样子。</p>
<p>(21)观：显示。</p>
<p>(22)方：方术，准则。</p>
<p>(23)戮：刑戮。“天之戮民”意思是受到自然惩罚的人，即摆脱不了方内束缚的人。</p>
<p>(24)造：往，适。</p>
<p>(25)给：足。“养给”即给养充裕。</p>
<p>(26)生：通作“性”，“生定”即性情平静安适。一说“定”字为“足”字之误，“生定”则是心性自足之意。</p>
<p>(27) 畸（ｊī）人：即奇异的人，这里指不合于世俗的人。</p>
<p>(28)侔（ｍóｕ）：齐同。</p>
<p>【译文】</p>
<p>子桑户、孟子反、子琴张三人在一起谈话：“谁能够相互交往于无心交往之中，相互有所帮助却像没有帮助一样？谁能登上高天巡游雾里，循环升登于无穷的太空，忘掉自己的存在，而永远没有终结和穷尽？”三人会心地相视而笑，心心相印于是相互结成好友。过不多久子桑户死了，还没有下葬。孔子知道了，派弟子子贡前去帮助料理丧事。孟子反和子琴张却一个在编曲，一个在弹琴，相互应和着唱歌：“哎呀，子桑户啊！哎呀，子桑户啊！你已经返归本真，可是我们还成为活着的人而托载形骸呀！”子贡听了快步走到他们近前，说：“我冒昧地请教，对着死人的尸体唱歌，这合乎礼仪吗？”二人相视笑了笑，不屑地说：“这种人怎么会懂得‘礼’的真实含意！”</p>
<p>子贡回来后把见到的情况告诉给孔子，说：“他们都是些什么样的人呢？不看重德行的培养而无有礼仪，把自身的形骸置于度外，面对着死尸还要唱歌，容颜和脸色一点也不改变，没有什么办法可以用来称述他们。他们究竟是些什么样的人呢？”</p>
<p>孔子说：“他们都是些摆脱礼仪约束而逍遥于人世之外的人，我却是生活在具体的世俗环境中的人。人世之外和人世之内彼此不相干涉，可是我却让你前去吊唁，我实在是浅薄呀！他们正跟造物者结为伴侣，而逍遥于天地浑一的元气之中。他们把人的生命看作像赘瘤一样多余，他们把人的死亡看作是毒痈化脓后的溃破，像这样的人，又怎么会顾及死生优劣的存在！凭借于各各不同的物类，但最终寄托于同一的整体；忘掉了体内的肝胆，也忘掉了体外的耳目；无尽地反复着终结和开始，但从不知道它们的头绪；茫茫然彷徨于人世之外，逍遥自在地生活在无所作为的环境中。他们又怎么会烦乱地去炮制世俗的礼仪，而故意炫耀于众人的耳目之前呢！”</p>
<p>子贡说：“如此，那么先生将遵循什么准则呢？”孔子说：“我孔丘，乃是苍天所惩罚的罪人。即使这样，我仍将跟你们一道去竭力追求至高无尚的‘道’。子贡问：“请问追求‘道’的方法。”孔子回答：“鱼争相投水，人争相求道。争相投水的鱼，掘地成池便给养充裕；争相求道的人，漠然无所作为便心性平适。所以说，鱼相忘于江湖里，人相忘于道术中”。子贡说：“再冒昧地请教‘畸人’的问题”。孔子回答：“所谓‘畸人’，就是不同于世俗而又等同于自然的人。所以说，自然的小人就是人世间的君子；人世间的君子就是自然的小人。”</p>
<p>【原文】</p>
<p>颜回问仲尼曰：“孟孙才①，其母死，哭泣无涕②，中心不戚③，居丧不哀。无是三者④，以善处丧蓋鲁国⑤。固有无其实而得其名者乎⑥？回壹怪之⑦。”</p>
<p>仲尼曰：“夫孟孙氏尽之矣，进于知矣⑧。唯简之而不得，夫已有所简矣⑨。孟孙氏不知所以生，不知所以死；不知就先⑩，不知就后；若化为物(11)，以待其所不知之化已乎！且方将化，恶知不化哉？方将不化，恶知已化哉？吾特与汝，其梦未始觉者邪！且彼有骇形而无损心(12)，有旦宅而无情死(13)。孟孙氏特觉，人哭亦哭，是自其所以乃(14)。且也相与吾之耳矣，庸讵知吾所谓吾之乎？且汝梦为鸟而厉乎天(15)，梦为鱼而没于渊。不识今之言者，其觉者乎，其梦者乎？造适不及笑(16)，献笑不及排(17)，安排而去化(18)，乃入于寥天一(19)。”</p>
<p>【注释】</p>
<p>①孟孙才：人名，复姓孟孙。</p>
<p>②涕：泪水。</p>
<p>③中心：心中。戚：悲痛。</p>
<p>④三者：指上述“哭泣不涕”、“中心不戚”、“居丧不哀”的三种表现。</p>
<p>⑤蓋：覆。</p>
<p>⑥固：竟，难道。</p>
<p>⑦壹：实在，确实。</p>
<p>⑧进：胜，超过。</p>
<p>⑨夫：这里代指孟孙才。</p>
<p>⑩就：趋近，追求。先：这里实指“生”，与下句“后”字实指“死”相应。</p>
<p>(11)若：顺。“若化”即顺应自然变化。</p>
<p>(12)骇形：指人死之后形体必有惊人的改变。心：精神，“损心”指情绪悲哀损伤心神。</p>
<p>(13)旦：日新，朝夕改变的意思。宅：这里喻指精神的寓所，即人的躯体。情死：真实的死亡。</p>
<p>(14) 乃：通作“尔”，如此的意思。</p>
<p>(15)厉：通作“戾”，至、往的意思，这里实指鸟的飞翔。</p>
<p>(16)造：达到。适：快意。</p>
<p>(17)献：发。一说“献”通作“戏”，“献笑”亦即戏笑。排：排解，消泄。</p>
<p>(18)安排：安于自然的推移。去化：忘却死亡的变化。</p>
<p>(19)寥：寂寥，虚空。</p>
<p>【译文】</p>
<p>颜回请教孔子说：“孟孙才这个人，他的母亲死了，哭泣时没有一滴眼泪，心中不觉悲伤，居丧时也不哀痛。这三个方面没有任何悲哀的表现，可是却因善于处理丧事而名扬鲁国。难道真会有无其实而有其名的情况吗？颜回实在觉得奇怪。”</p>
<p>孔子说：“孟孙才处理丧事的作法确实是尽善尽美了，大大超过了懂得丧葬礼仪的人。人们总希望从简治丧却不能办到，而孟孙才已经做到从简办理丧事了。孟孙才不过问人因为什么而生，也不去探寻人因为什么而死；不知道趋赴生，也不知道靠拢死；他顺应自然的变化而成为他应该变成的物类，以期待那些自己所不知晓的变化！况且即将出现变化，怎么知道不变化呢？即将不再发生变化，又怎么知道已经有了变化呢！只有我和你呀，才是做梦似的没有一点儿觉醒的人呢！那些死去了的人惊扰了自身形骸却无损于他们的精神，犹如精神的寓所朝夕改变却并不是精神的真正死亡。唯独孟孙才觉醒，人们哭他也跟着哭，这就是他如此居丧的原因。况且人们交往总借助形骸而称述自我，又怎么知道我所称述的躯体一定就是我呢？而且你梦中变成鸟便振翅直飞蓝天，你梦中变成鱼便摇尾潜入深渊。不知道今天我们说话的人，算是醒悟的人呢，还是做梦的人呢？心境快适却来不及笑出声音，表露快意发出笑声却来不及排解和消泄，安于自然的推移而且忘却死亡的变化，于是就进入到寂寥虚空的自然而浑然成为一体。”</p>
<p>【原文】</p>
<p>意而子见许由①。许由曰：“尧何以资汝②？”意而子曰：“尧谓我：‘汝必躬服仁义而明言是非③’。”许由曰：“而奚来为轵④？夫尧既已黥汝以仁义⑤，而劓汝以是非矣⑥，汝将何以游夫遥荡姿睢转徙之塗乎⑦？”意而子曰：“虽然，吾愿游于其藩⑧。”</p>
<p>许由曰：“不然。夫盲者无以与乎眉目颜色之好⑨，瞽者无以与乎青黄黼黻之观⑩。”意而子曰：“夫无庄之失其美(11)，据梁之失其力(12)，黄帝之亡其知(13)，皆在炉捶之间耳(14)。庸讵知夫造物者之不息我黥而补我劓(15)，使我乘成以随先生邪(16)？”</p>
<p>许由曰：“噫！未可知也。我为汝言其大略。吾师乎(17)！吾师乎！泽及万世而不为仁(18)，长于上古而不为老，覆载天地刻雕众形而不为巧，此所游已。”</p>
<p>【注释】</p>
<p>①意而子：虚拟的人名。</p>
<p>②资：给予。</p>
<p>③躬服：亲身实践，身体力行。</p>
<p>④而：你。轵（ｚｈǐ）：同“只”，句末语气词用法。</p>
<p>⑤黥（ｑíｎｇ）：古代的一种刑法，用刀在受刑人的额上刺刻，而后以墨涂之。</p>
<p>⑥劓（ｙì）：古代的一种刑法，割去了受刑人的鼻子。</p>
<p>⑦遥荡：逍遥放荡。恣睢：放任不拘。转徙：辗转变化。塗：通作“途”，道路的意思。</p>
<p>⑧藩：篱笆，这里喻指受到一定约束的境域。</p>
<p>⑨与：赞许、赏鉴。下句同此解。</p>
<p>⑩瞽（ｇǔ）：瞎眼。一般地说，“盲者”、“瞽者”都指瞎子，细分之，“盲”指有眼无珠，“瞽”指眼瞎而无视力。黼（ｆǔ）黻（ｆú）：古代礼服上绣制的花纹。</p>
<p>(11)无庄：虚构的古代美人之名，寓含不装饰的意思。传说她闻道之后不再装饰而自忘其美。</p>
<p>(12)据梁：虚构的古代勇夫之名，寓含强梁之意。</p>
<p>(13)亡：丢失，忘却。</p>
<p>(14)炉捶：冶炼锻打，这里喻指得到“道”的薰陶而回归本真。</p>
<p>(15)息：养息。</p>
<p>(16)乘：载。成：备。“乘成”的意思就是，托载精神的身躯不再残缺。</p>
<p>(17)师：这里实指“道”。</p>
<p>(18)泽：恩泽。</p>
<p>【译文】</p>
<p>意而子拜访许由。许由说：“尧把什么东西给予了你？”意而子说：“尧对我说：‘你一定得亲身实践仁义并明白无误地阐明是非’”。许由说：“你怎么还要来我这里呢？尧已经用‘仁义’在你的额上刻下了印记，又用‘是非’割下了你的鼻子，你将凭借什么游处于逍遥放荡、纵任不拘、辗转变化的道途呢？”意而子说：“虽然这样，我还是希望能游处于如此的境域。”</p>
<p>许由说：“不对。有眼无珠的盲人没法跟他观赏佼好的眉目和容颜，瞎子没法跟他赏鉴礼服上各种不同颜色的花纹。”意而子说：“无庄不再打扮忘掉自己的美丽，据梁不再逞强忘掉自己的勇力，黄帝闻‘道’之后忘掉自己的智慧，他们都因为经过了‘道’的冶炼和锻打。怎么知道那造物者不会养息我受黥刑的伤痕和补全我受劓刑所残缺的鼻子，使我得以保全托载精神的身躯而跟随先生呢？”</p>
<p>许由说：“唉！这可是不可能知道的。我还是给你说个大概吧。‘道’是我伟大的宗师啊！我伟大的宗师啊！把万物碎成粉末不是为了某种道义，把恩泽施于万世不是出于仁义，长于上古不算老，回天载地、雕创众物之形也不算技巧。这就进入‘道’的境界了。”</p>
<p>【原文】</p>
<p>颜回曰：“回益矣①。”仲尼曰：“何谓也？”曰：回忘仁义矣②。”曰：“可矣，犹未也。”他日复见，曰：“回益矣。”曰：“何谓也？”曰：“回忘礼乐矣。”曰：“可矣，犹未也。”他日复见，曰：“回益矣。”曰：“何谓也？”曰：“回坐忘矣③。”仲尼蹴然曰④：“何谓坐忘？”颜回曰：“堕肢体⑤，黜聪明⑥，离形去知⑦，同于大通，此谓坐忘。”仲尼曰：“同则无好也，化则无常也⑧，而果其贤乎！丘也请从而后也。”</p>
<p>【注释】</p>
<p>①益：多，增加，进步。</p>
<p>②从整段文意推测，“仁义”当与后面的“礼乐”互换，忘掉“礼乐”进一步才可能是忘掉“仁义”，但译文仍从旧述。</p>
<p>③坐忘：端坐静心而物我两忘。</p>
<p>④蹴（ｃù）然：惊奇不安的样子。</p>
<p>⑤堕：毁废。</p>
<p>⑥黜：退除。</p>
<p>⑦去：抛弃。</p>
<p>⑧无常：不执滞于常理。</p>
<p>【译文】</p>
<p>颜回说：“我进步了。”孔子问道：“你的进步指的是什么？”颜回说：“我已经忘却仁义了。”孔子说：“好哇，不过还不够。”过了几天颜回再次拜见孔子，说：“我又进步了。”孔子问：“你的进步指的是什么？”颜回说：“我忘却礼乐了。”孔子说：“好哇，不过还不够。”过了几天颜回又再次拜见孔子，说：“我又进步了。”孔子问：“你的进步指的是什么？”颜回说：“我‘坐忘’了”。孔子惊奇不安地问：“什么叫‘坐忘’？”颜回答道：“毁废了强健的肢体，退除了灵敏的听觉和清晰的视力，脱离了身躯并抛弃了智慧，从而与大道浑同相通为一体，这就叫静坐心空物我两忘的‘坐忘’。”孔子说：“与万物同一就没有偏好，顺应变化就不执滞常理。你果真成了贤人啊！我作为老师也希望能跟随学习而步你的后尘。”</p>
<p>【原文】</p>
<p>子舆与子桑友，而霖雨十日①。子舆曰：“子桑殆病矣②！”裹饭而往食之③。至子桑之门，则若歌若哭，鼓琴曰④：“父邪？母邪？天乎？人乎⑤？”有不任其声而趋举其诗焉⑥。</p>
<p>子舆入，曰：“子之歌诗，何故若是？”曰：“吾思夫使我至此极者而弗得也。父母岂欲吾贫哉？天无私覆，地无私载，天地岂私贫我哉？求其为之者而不得也。然而至此极者，命也夫！”</p>
<p>【注释】</p>
<p>①霖：阴雨三日以上。“霖雨”即连绵不断地下雨。</p>
<p>②殆：恐怕，大概。病：困乏潦倒。</p>
<p>③裹饭：用东西包着饭食。食之：给他吃。“食”字旧读去声。</p>
<p>④鼓琴：弹琴。</p>
<p>⑤以上四句，均为子桑探问自己的困乏是由谁造成的。⑥任：堪。“不任其声”是说声音衰微，禁不住内心感情的表达。趋：急促。“趋举其诗”是说急促地吐露出歌词。</p>
<p>【译文】</p>
<p>子舆和子桑是好朋友，连绵的阴雨下了十日，子舆说：“子桑恐怕已经困乏而饿倒。”便包着饭食前去给他吃。来到子桑门前，就听见子桑好像在唱歌，又好像在哭泣，而且还弹着琴：“是父亲呢？还是母亲呢？是天呢？还是人呢？”声音微弱好像禁不住感情的表达，急促地吐露着歌词。</p>
<p>子舆走进屋子说：“你歌唱的诗词，为什么象这样？”子桑回答说：“我在探寻使我达到如此极度困乏和窘迫的人，然而没有找到。父母难道会希望我贫困吗？苍天没有偏私地覆盖着整个大地，大地没有偏私地托载着所有生灵，天地难道会单单让我贫困吗？寻找使我贫困的东西可是我没能找到。然而已经达到如此极度的困乏，还是‘命’啊！”</p>
<h3 id="德充符"><a href="#德充符" class="headerlink" title="德充符"></a>德充符</h3><p>德充符</p>
<p>【题解】</p>
<p>本篇的中心在于讨论人的精神世界，应该怎样反映宇宙万物的本原观念和一体性观念。庄子在本篇里所说的“德”，并非通常理解的道德或者德行，而是指一种心态。庄子认为宇宙万物均源于“道”，而万事万物尽管千差万别，归根到底又都浑然为一，从这两点出发，体现在人的观念形态上便应是“忘形”与“忘情”。所谓“忘形”就是物我俱化，死生同一；所谓“忘情”就是不存在宠辱、贵贱、好恶、是非。这种“忘形”与“忘情”的精神状态就是庄子笔下的“德”。“充”指充实，“符”则是证验的意思。</p>
<p>为了说明“德”的充实与证验，文章想象出一系列外貌奇丑或形体残缺不全的人，但是他们的“德”又极为充实，这样就组成了自成部分的五个小故事：孔子为王骀所折服，申徒嘉使子产感到羞愧，孔子的内心比叔山无趾更为丑陋，孔子向鲁哀公称颂哀骀它，跂支离无脤和大瘿为国君所喜爱。五个小故事之后又用庄子和惠子的对话作为结尾，即第六部分，在庄子的眼里惠子恰是“德”充符的反证，还赶不上那些貌丑形残的人。</p>
<p>【原文】</p>
<p>鲁有兀者王骀①，从之游者与仲尼相若。常季问于仲尼曰②：“王骀，兀者也。从之游者与夫子中分鲁③。立不教，坐不议；虚而往，实而归。固有不言之教，无形而心成者邪④？是何人也？”仲尼曰：“夫子，圣人也，丘也直后而未往耳⑤。丘将以为师，而况不若丘者乎！奚假鲁国⑥！丘将引天下而与从之。”</p>
<p>常季曰：“彼兀者也，而王先生⑦，其与庸亦远矣⑧。若然者，其用心也独若之何⑨？”仲尼曰：“死生亦大矣，而不得与之变，虽天地覆坠，亦将不与之遗⑩。审乎无假而不与物迁(11)，命物之化而守其宗也(12)。”常季曰：“何谓也？”仲尼曰：“自其异者视之，肝胆楚越也(13)；自其同者视之，万物皆一也(14)。夫若然者，且不知耳目之所宜(15)，而游心乎德之和(16)；物视其所一而不见其所丧(17)，视丧其足犹遗土也(18)。”</p>
<p>常季曰：“彼为己以其知(19)，得其心以其心(20)。得其常心(21)，物何为最之哉(22)？”仲尼曰：“人莫鑑于流水而鑑于止水(23)，唯止能止众止(24)。受命于地(25)，唯松柏独也在冬夏青青；受命于天，唯舜独也正，幸能正生(26)，以正众生。夫保始之征(27)，不惧之实；勇士一人，雄入于九军(28)。将求名而能自要者(29)，而犹若是，而况官天地(30)，府万物(31)，直寓六骸(32)，象耳目(33)，一知之所知(34)，而心未尝死者乎！彼且择日而登假(35)，人则从是也。彼且何肎以物为事乎(36)！”</p>
<p>【注释】</p>
<p>①兀：通作“跀”（ｙｕè），断足的刑法。“兀者”指受过跀刑只有一只脚的人。王骀（ｔáｉ）：假托的人名。</p>
<p>②常季：鲁国贤人，传说为孔子弟子。</p>
<p>③中分鲁：在鲁国平分，意思是在鲁国彼此间差不多，不分上下。</p>
<p>④无形：不具有完整的形体。心成：内心世界达到成熟的境界。一说“无形”指不须用形表，“心成”指潜移默化。</p>
<p>⑤直：通作“特”，仅只的意思。后：意思是落在对方的后面。</p>
<p>⑥奚：何。假：已，只。</p>
<p>⑦王：突出、超过的意思；“王先生”即远远超过了先生。</p>
<p>⑧庸：平庸，这里指平常的人。“其与庸亦远矣”，是说他跟平常人相比也就相差很远很远了。</p>
<p>⑨若之何：如何，怎么样。</p>
<p>⑩遗：失。“不与之遗”是说不会随着天翻地覆的情况而丧失。</p>
<p>(11)审：明悉，通晓。假：凭依；“无假”即是“无待”。旧注“假”通作“瑕”，指审度自己没有一点儿毛病；姑备参考。</p>
<p>(12)命：任。“命物之化”就是听任事物的变化。宗：本，主旨。</p>
<p>(13)肝胆楚越：肝胆两种器官紧紧相连，楚越两国相去甚远，喻指邻近的肝胆同于一体之中也像是楚越那样相去甚远。</p>
<p>(14)一：同一，一样的。</p>
<p>(15)耳目之所宜：指适宜于听觉、视觉的东西。</p>
<p>(16)游心：使心灵自由驰骋遨游。和：混同。</p>
<p>(17)听一：同一的方面。所丧：失去而引起差异的一面。</p>
<p>(18)遗土：失落土块。</p>
<p>(19)以下四句很不好理解，各家断句也不一致，这里取传统的断句方法。为己：即修己。知（ｚｈì）：智慧。“为己以其知”即“以其知为己”，意思是运用自己的才智来修养自己。</p>
<p>(20)得其心以其心：即以其心得其心，大意是，用自己的心智去求取自己的理念。</p>
<p>(21)常心：真常之心，即忘知忘觉，无思无虑的心境。</p>
<p>(22)物：外物，这里指众多的门徒。何为：为何，为什么。最：聚集。</p>
<p>(23)鑑：“鉴”字的异体，照看，审察的意思。远古无镜子，人们对着盛有水的器皿照看就像今天照镜子一样，故有“鉴于止水”而“莫鉴于流水”的说法。</p>
<p>(24)唯止能止众止：唯有静止之物方能照人，方能使别的什么东西也静止下来。</p>
<p>(25)以下四句有的版本为六句：“受命于地，唯松柏独也正，在冬夏青青；受命于天，唯尧舜独也正，在万物之首”，句式要工整得多，姑备参考。</p>
<p>(26)正生：即正己，指端正自己的品行。下句“正众生”即端正他人的品行。</p>
<p>(27)始：本初之态。征：迹象。</p>
<p>(28)九：非实数，“九军”犹言千军万马。一说天子六军，诸侯三军，故名九军。</p>
<p>(29)要：通作“徼”，求取的意思。</p>
<p>(30)官：主宰。</p>
<p>(31)府：包藏。</p>
<p>(32)寓六骸：把自身的躯体当作寓所。</p>
<p>(33)象：表象。</p>
<p>(34)一知：自然赋予的智慧。</p>
<p>(35)假：通作“格”，陟升的意思。</p>
<p>(36)肎：“肯字之古本字。</p>
<p>【译文】</p>
<p>鲁国有个被砍掉一只脚的人，名叫王骀，可是跟从他学习的人却跟孔子的门徒一样多。孔子的学生常季向孔子问道；“王骀是个被砍去了一只脚的人，跟从他学习的人在鲁国却和先生的弟子相当。他站着不能给人教诲，坐着不能议论大事；弟子们却空怀而来，学满而归。难道确有不用言表的教导，身残体秽内心世界也能达到成熟的境界吗？这又是什么样的人呢？”孔子回答说：“王骀先生是一位圣人，我的学识和品行都落后于他，只是还没有前去请教他罢了。我将把他当作老师，何况学识和品行都不如我孔丘的人呢！何止鲁国，我将引领天下的人跟从他学习。”</p>
<p>常季说：“他是一个被砍去了一只脚的人，而学识和品行竟超过了先生，跟平常人相比相差就更远了。像这样的人，他运用心智是怎样与众不同的呢？”仲尼回答说：“死或生都是人生变化中的大事了，可是死或生都不能使他随之变化；即使天翻过来地坠下去，他也不会因此而丧失、毁灭。他通晓无所依凭的道理而不随物变迁，听任事物变化而信守自己的要旨。”常季说：“这是什么意思呢？”孔子说：“从事物千差万别的一面去看，邻近的肝胆虽同处于一体之中也像是楚国和越国那样相距很远；从事物都有相同的一面去看，万事万物又都是同一的。像这样的人，将不知道耳朵眼睛最适宜何种声音和色彩，而让自己的心思自由自在地遨游在忘形、忘情的浑同境域之中。外物看到了它同一的方面却看不到它因失去而引起差异的一面，因而看到丧失了一只脚就像是失落了土块一样。”</p>
<p>常季说：“他运用自己的智慧来提高自己的道德修养，他运用自己的心智去追求自己的理念。如果达到了忘情、忘形的境界，众多的弟子为什么还聚集在他的身边呢？”孔子回答说：“一个人不能在流动的水面照见自己的身影而是要面向静止的水面，只有静止的事物才能使别的事物也静止下来。各种树木都受命于地，但只有松树、柏树无论冬夏都郁郁青青；每个人都受命于天，但只有虞舜道德品行最为端正。幸而他们都善于端正自己的品行，因而能端正他人的品行。保全本初时的迹象，心怀无所畏惧的胆识；勇士只身一人，也敢称雄于千军万马。一心追逐名利而自我索求的人，尚且能够这样，何况那主宰天地，包藏万物，只不过把躯体当作寓所，把耳目当作外表，掌握了自然赋予的智慧所通解的道理，而精神世界又从不曾有过衰竭的人呢！他定将选择好日子升登最高的境界，人们将紧紧地跟随着他。他还怎么会把聚合众多弟子当成一回事呢！”</p>
<p>【原文】</p>
<p>申徒嘉，兀者也，而与郑子产同师于伯昏无人①。子产谓申徒嘉曰：“我先出则子止②，子先出则我止。”其明日，又与合堂同席而坐。子产谓申徒嘉曰：“我先出则子止，子先出则我止。今我将出，子可以止乎，其未邪③？且子见执政而不违④，子齐执政乎⑤？”申徒嘉曰：“先生之门，固有执政焉如此哉⑥？子而说子之执政而后人者也⑦？闻之曰：‘鑑明则尘垢不止，止则不明也。久与贤人处则无过。’今子之所取大者⑧，先生也，而犹出言若是，不亦过乎？”子产曰：“子即若是矣，犹与尧争善，计子之德不足以自反邪⑨？”申徒嘉曰：“自状其过以不当亡者众⑩，不状其过以不当存者寡。知不可奈何而安之若命，唯有德者能之。游于羿之彀中(11)，中央者，中地也(12)，然而不中者，命也。人以其全足笑吾不全足者多矣，我怫然而怒(13)；而适先生之所(14)，则废然而反(15)。不知先生之洗我以善邪(16)？吾与夫子游十九年矣(17)，而未尝知吾兀者也。今子与我游于形骸之内(18)，而子索我于形骸之外(19)，不亦过乎？”子产蹴然改容更貌曰(20)：“子无乃称(21)！”</p>
<p>【注释】</p>
<p>①郑子产：郑国的大政治家。伯昏无人：假托的人名。</p>
<p>②止：停止，留下。</p>
<p>③其：还是、抑或。</p>
<p>④执政：子产曾是郑国执政大臣，故有此说。违：回避。申徒嘉为一兀者，地位低下而子产位尊，不愿与之同步，故有先出、留止的一段话。</p>
<p>⑤齐：跟……齐一、一样，向……看齐；“齐执政”意思是跟执政大臣齐一，即把自己看得跟执政大臣一样。</p>
<p>⑥固：岂。全句大意是，哪有执掌政务的大臣如此拜师从学的呢？言外之意是，伯昏无人门下没有贵贱之分，要分贵贱就不会到这里来拜师从学。</p>
<p>⑦说（ｙｕè）通作“悦，”喜悦。后人：以别人为后，含有瞧不起别人的意思。</p>
<p>⑧大者：这里指广博精深的见识。</p>
<p>⑨计：计算，估量。反：反省。这句语意有所隐含，好像是说受过刑断还不足以使自己有所反省吗？</p>
<p>⑩状：陈述，含有为自己的过失辩解的意思。其过：自己的过失。以：认为。亡：丢失、失去，这里指使身体残缺，与下句“存”字表示保全的含义相对应。</p>
<p>(11)羿：古代神话传说中的善射者。彀（ｇòｕ）：张满弓弩。“彀中”指弓箭射程范围之内，喻指人们生活的社会范围。</p>
<p>(12)中（ｚｈòｎｇ）：地：最易射中的地方。</p>
<p>(13)怫（ｂó）然：勃然，发怒时盛气的样子。</p>
<p>(14)先生：指伯昏无人。所：寓所。</p>
<p>(15)废然：怒气消失的样子。反：返，指回复到原有的正常神态。</p>
<p>(16)洗我以善：即以善洗我，用善道来教诲我。</p>
<p>(17)夫子：指伯昏无人。</p>
<p>(18)形骸之内：指人的精神世界。“游于形骸之内”即以德相交，精神世界相通。</p>
<p>(19)形骸之外：指人的外在形体。索：要求。</p>
<p>(20)蹴（ｃù）然：恭敬不安的样子。更：更改。</p>
<p>(21)乃：仍。称：说。</p>
<p>【译文】</p>
<p>申徒嘉是个被砍掉了一只脚的人，跟郑国的子产同拜伯昏无人为师。子产对申徒嘉说：“我先出去那么你就留下，你先出去那么我就留下。”到了第二天，子产和申徒嘉同在一个屋子里、同在一条席子上坐着。子产又对申徒嘉说：“我先出去那么你就留下，你先出去那么我就留下。现在我将出去，你可以留下吗，抑或是不留下呢？你见了我这执掌政务的大官却不知道回避，你把自己看得跟我执政的大臣一样吗？”</p>
<p>申徒嘉说：“伯昏无人先生的门下，哪有执政大臣拜师从学的呢？你津津乐道执政大臣的地位把别人都不放在眼里吗？我听说这样的话：‘镜子明亮尘垢就没有停留在上面，尘垢落在上面镜子也就不会明亮。长久地跟贤人相处便会没有过错’。你拜师从学追求广博精深的见识，正是先生所倡导的大道。而你竟说出这样的话，不是完全错了吗！”</p>
<p>子产说：“你已经如此形残体缺，还要跟唐尧争比善心，你估量你的德行，受过断足之刑还不足以使你有所反省吗？”申徒嘉说：“自个儿陈述或辩解自己的过错，认为自己不应当形残体缺的人很多；不陈述或辩解自己的过错，认为自己不应当形整体全的人很少。懂得事物之无可奈何，安于自己的境遇并视如命运安排的那样，只有有德的人才能做到这一点。一个人来到世上就象来到善射的后羿张弓搭箭的射程之内，中央的地方也就是最容易中靶的地方，然而却没有射中，这就是命。用完整的双脚笑话我残缺不全的人很多，我常常脸色陡变怒气填胸；可是只要来到伯昏无人先生的寓所，我便怒气消失回到正常的神态。真不知道先生用什么善道来洗刷我的呢？我跟随先生十九年了，可是先生从不曾感到我是个断了脚的人。如今你跟我心灵相通、以德相交，而你却用外在的形体来要求我，这不又完全错了吗？”子产听了申徒嘉一席话深感惭愧，脸色顿改而恭敬地说：“你不要再说下去了！”</p>
<p>【原文】</p>
<p>鲁有兀者叔山无趾，踵见仲尼①。仲尼曰：“子不谨，前既犯患若是矣。虽今来，何及矣②！”无趾曰：“吾唯不知务而轻用吾身③，吾是以亡足。今吾来也，犹有尊足者存④，吾是以务全之也⑤。夫天无不覆⑥，地无不载，吾以夫子为天地，安知夫子之犹若是也！”孔子曰：“丘则陋矣⑦。夫子胡不入乎，请讲以所闻！”无趾出。孔子曰：“弟子勉之！夫无趾，兀者也，犹务学以复补前行之恶，而况全德之人乎⑧！”</p>
<p>无趾语老聃曰⑨：“孔丘之于至人，其未邪？彼何宾宾以学子为⑩？彼且蕲以诡幻怪之名闻(11)，不知至人之以是为己桎梏邪(12)？”老聃曰：胡不直使彼以死生为一条(13)，以可不可为一贯者(14)，解其桎梏，其可乎？”无趾曰：“天刑之(15)，安可解！”</p>
<p>【注释】</p>
<p>①踵：脚后跟，这里指用脚后跟走路。叔山无趾被刑断脚趾，所以只能用脚后跟来走路。</p>
<p>②何及：怎么赶得上。言外之意怎么能够补救。</p>
<p>③不知务：犹言不通晓事理。</p>
<p>④尊足：即尊于足，“尊足者”意思是比脚更尊贵的东西，这里指道德修养。</p>
<p>⑤务：务求，努力做到。</p>
<p>⑥无：莫名，没有什么。</p>
<p>⑦陋：浅薄固陋。</p>
<p>⑧全德：保全了道德修养。一说“全德”即全体，指形体没有残缺。从上下文意看，后说更合理些。</p>
<p>⑨老聃（ｄāｎ）：即老子，姓李，名聃。</p>
<p>⑩宾宾：频频。学子：即学于子，向老聃请教。</p>
<p>(11)蕲（ｑí）：求。（ｃｈù）诡：奇异。“诡幻怪”四字词义相近，都含有奇特、怪异、虚妄的意思。</p>
<p>(12)桎梏：古代的一种刑具，犹如今言脚镣手铐，喻指束缚自己的工具。</p>
<p>(13)一条：一致，一样的。</p>
<p>(14)贯：通。“一贯”即齐一相通。</p>
<p>(15)天：自然。刑：这里讲作“惩罚”的意思。</p>
<p>【译文】</p>
<p>鲁国有个被砍去脚趾的人，名叫叔山无趾，靠脚后跟走路去拜见孔子。孔子对他说：“你极不谨慎，早先犯了过错才留下如此的后果。虽然今天你来到了我这里，可是怎么能够追回以往呢！”叔山无趾说：“我只因不识事理而轻率作践自身，所以才失掉了两只脚趾。如今我来到你这里，还保有比双脚更为可贵的道德修养，所以我想竭力保全它。苍天没有什么不覆盖，大地没有什么不托载，我把先生看作天地，哪知先生竟是这样的人！”孔子说：“我孔丘实在浅薄。先生怎么不进来呢，请把你所知晓的道理讲一讲。”叔山无趾走了。孔子对他的弟子说：“你们要努力啊。叔山无趾是一个被砍掉脚趾的人，他还努力进学来补救先前做过的错事，何况道德品行乃至身形体态都没有什么缺欠的人呢！”</p>
<p>叔山无趾对老子说：“孔子作为一个道德修养至尚的人，恐怕还未能达到吧？他为什么不停地来向你求教呢？他还在祈求奇异虚妄的名声能传扬于外，难道不懂得道德修养至尚的人总是把这一切看作是束缚自己的枷锁吗？”老子说：“怎么不径直让他把生和死看成一样，把可以与不可以看作是齐一的，从而解脱他的枷锁，这样恐怕也就可以了吧？”叔山无趾说：“这是上天加给他的处罚，哪里可以解脱！”</p>
<p>【原文】</p>
<p>鲁哀公问于仲尼曰：“卫有恶人焉①，曰哀骀它②。丈夫与之处者③，思而不能去也④。妇人见之，请于父母曰‘与为人妻，宁为夫子妾’者，十数而未止也。未尝有闻其唱者也⑤，常和人而已矣。无君人之位以济乎人之死⑥，无聚禄以望人之腹⑦。又以恶骇天下⑧，和而不唱，知不出乎四域⑨，且而雌雄合乎前⑩，是必有异乎人者也。寡人召而观之(11)，果以恶骇天下。与寡人处，不至以月数，而寡人有意乎其为人也(12)；不至乎期年(13)，而寡人信之。国无宰(14)，寡人传国焉。闷然而后应(15)。氾而若辞(16)，寡人丑乎，卒授之国。无几何也，去寡人而行，寡人卹焉若有亡也(17)，若无与乐是国也。是何人者也？”</p>
<p>仲尼曰：“丘也尝使于楚矣(18)，适见子食于其死母者(19)，少焉眴若皆弃之而走(20)。不见己焉尔，不得类焉尔。所爱其母者，非爱其形也，爱使其形者也(21)。战而死者，其人之葬也不以翣资(22)；刖者之屦(23)，无为爱之；皆无其本矣。为天子之诸御(24)，不爪翦(25)，不穿耳；取妻者止于外(26)，不得复使。形全犹足以为尔(27)，而况全德之人乎！今哀骀它未言而信，无功而亲，使人授己国，唯恐其不受也，是必才全而德不形者也(28)。”</p>
<p>哀公曰：“何谓才全？”仲尼曰：“死生存亡，穷达贫富(29)，贤与不肖毁誉，饥渴寒暑，是事之变，命之行也(30)；日夜相代乎前(31)，而知不能规乎其始者也(32)。故不足以滑和(33)，不可入于灵府(34)。使之和豫(35)，通而不失于兑(36)，使日夜无郤而与物为春(37)，是接而生时于心者也(38)。是之谓才全。”“何谓德不形？”曰：“平者，水停之盛也。其可以为法也(39)，内保之而外不荡也(40)。德者，成和之脩也(41)。德不形者，物不能离也。”</p>
<p>哀公异日以告闵子曰(42)：“始也吾以南面而君天下，执民之纪而忧其死(43)，吾自以为至通矣。今吾闻至人之言，恐吾无其实，轻用吾身而亡其国。吾与孔丘，非君臣也，德友而已矣。”</p>
<p>【注释】</p>
<p>①恶人：丑陋的人。</p>
<p>②哀骀（ｔáｉ）它（ｔｕō）：虚构的人名。</p>
<p>③丈夫：古代成年男子的通称。</p>
<p>④去：离开。</p>
<p>⑤唱：唱导，前导；跟下句的“和”相对应。</p>
<p>⑥君人之位：即统治别人的地位。济：救助。</p>
<p>⑦禄：俸禄，这里泛指财物。望：月儿满圆；这里引申用其饱满之义，“望人之腹”即使人人都能吃饱。</p>
<p>⑧骇：惊扰。</p>
<p>⑨四域：四周的邻界。</p>
<p>⑩雌雄：这里泛指妇女和男人。合：亲近。</p>
<p>(11)寡人：古代国君的谦称。</p>
<p>(12)意：猜想，意料。“有意乎其为人”意思是，对于他的为人有了了解。</p>
<p>(13)期（ｊī）年：一周年。</p>
<p>(14)—宰：主持政务的官员。</p>
<p>(15)闷然：神情淡漠的样子。</p>
<p>(16)氾：这里形容心不在焉，有口无心的样子。辞：推却。</p>
<p>(17)卹（ｘù）：“恤”字的异体，忧虑。亡：失。</p>
<p>(18)使：出使。一说“出使”即出游。</p>
<p>(19)（ｔúｎ）：同“豚”；小猪。食：这里指吮吸乳汁。</p>
<p>(20)少焉：一会儿。眴（ｓｈùｎ）若：惊惶的样子。走：跑。</p>
<p>(21)使：主使，支配。</p>
<p>(22)翣（ｓｈà）：古代出殡时棺木上的饰物，形同羽扇。资：送。</p>
<p>(23)刖（ｙｕè）：断足的刑罚。屦（ｊù）：用麻、葛等制成的单底鞋，这里泛指鞋子。连续两句都是比喻：战死之人埋葬沙场无须棺木，当然也就用不着棺饰，砍断了脚的人无须穿鞋，当然也就用不着鞋子，意在说明失去了根本外在的东西也就同时失去了可爱的价值。</p>
<p>(24)诸御：宫中御女，即宫女。</p>
<p>(25)翦（ｊｉǎｎ）：“剪”字的异体。联系下一句，不修指甲，不穿耳眼，意在说明不加修饰以显本质。</p>
<p>(26)取：通作“娶”。旧注男女婚娶之后便不再前往宫中服役。</p>
<p>(27)尔：如此。</p>
<p>(28)形：表露在外的意思。</p>
<p>(29)穷：困窘，走头无路。达：通畅、顺利。</p>
<p>(30)命之行：自然的运行，指非人为造成的情况变化。</p>
<p>(31)相代：相互更替。</p>
<p>(32)规：窥。</p>
<p>(33)滑（ｇǔ）：通作“汩”，乱的意思。和：谐和，均衡。</p>
<p>(34)灵府：心灵。</p>
<p>(35)豫：安适。</p>
<p>(36)兑（ｙｕè）：悦，欢乐。</p>
<p>(37)郤（ｘì）：通作“隙”，间隙的意思。</p>
<p>(38)接：接触外物。时：顺时，顺应四时而作的意思。</p>
<p>(39)法：仿效，借鉴。</p>
<p>(40) 荡：动。</p>
<p>(41)成和之脩：事得以成功、物得以顺和的极高修养。“脩”同“修”。</p>
<p>(42)闵子：人名，孔子的弟子。</p>
<p>(43)纪：纲纪。</p>
<p>【译文】</p>
<p>鲁哀公向孔子问道：“卫国有个面貌十分丑陋的人，名叫哀骀它。男人跟他相处，常常想念他而舍不得离去。女人见到他便向父母提出请求，说‘与其做别人的妻子，不如做哀骀它先生的妾，’这样的人已经十多个了而且还在增多。从不曾听说哀骀它唱导什么，只是常常附和别人罢了。他没有居于统治者的地位而拯救他人于临近败亡的境地，他没有聚敛大量的财物而使他人吃饱肚子。他面貌丑陋使天下人吃惊，又总是附和他人而从没首倡什么，他的才智也超不出他所生活的四境，不过接触过他的人无论是男是女都乐于亲近他。这样的人一定有什么不同于常人的地方。我把他召来看了看，果真相貌丑陋足以惊骇天下人。跟我相处不到一个月，我便对他的为人有了了解；不到一年时间，我就十分信任他。国家没有主持政务的官员，我便把国事委托给他。他神情淡漠地回答，漫不经心又好像在加以推辞。我深感羞愧，终于把国事交给了他。没过多久，他就离开我走掉了，我内心忧虑像丢失了什么，好像整个国家没有谁可以跟我一道共欢乐似的。这究竟是什么样的人呢？”</p>
<p>孔子说：“我孔丘也曾出使到楚国，正巧看见一群小猪在吮吸刚死去的母猪的乳汁，不一会又惊惶地丢弃母猪逃跑了。因为不知道自己的同类已经死去，母猪不能像先前活着时那样哺育它们。小猪爱它们的母亲，不是爱它的形体，而是爱支配那个形体的精神。战死沙场的人，他们埋葬时无须用棺木上的饰物来送葬，砍掉了脚的人对于原来穿过的鞋子，没有理由再去爱惜它，这都是因为失去了根本。做天子的御女，不剪指甲不穿耳眼；婚娶之人只在宫外办事，不会再到宫中服役。为保全形体尚且能够做到这一点，何况德性完美而高尚的人呢？如今哀骀它他不说话也能取信于人，没有功绩也能赢得亲近，让人乐意授给他国事，还唯恐他不接受，这一定是才智完备而德不外露的人。”</p>
<p>鲁哀公问：“什么叫做才智完备呢？”孔子说：“死、生、存、亡，穷、达、贫、富，贤能与不肖、诋毁与称誉，饥、渴、寒、暑，这些都是事物的变化，都是自然规律的运行；日夜更替于我们的面前，而人的智慧却不能窥见它们的起始。因此它们都不足以搅乱本性的谐和，也不足以侵扰人们的心灵。要使心灵平和安适，通畅而不失怡悦，要使心境日夜不间断地跟随万物融会在春天般的生气里，这样便会接触外物而萌生顺应四时的感情。这就叫做才智完备。”鲁哀公又问：“什么叫做德不外露呢？”孔子说：“均平是水留止时的最佳状态。它可以作为取而效法的准绳，内心里充满蕴含而外表毫无所动。所谓德，就是事得以成功、物得以顺和的最高修养。德不外露，外物自然就不能离开他了。”</p>
<p>有一天鲁哀公把孔子这番话告诉闵子，说：“起初我认为坐朝当政统治天下，掌握国家的纲纪而忧心人民的死活，便自以为是最通达的了，如今我听到至人的名言，真忧虑没有实在的政绩，轻率作践自身而使国家危亡。我跟孔子不是君臣关系，而是以德相交的朋友呢。”</p>
<p>【原文】</p>
<p>跂支离无脤说卫灵公①，灵公说之②；而视全人，其脰肩肩③。瓮大瘿说齐桓公④，桓公说之；而视全人，其脰肩肩。故德有所长而形有所忘，人不忘其所忘而忘其所不忘，此谓诚忘⑤。故圣人有所游，而知为孽⑥，约为胶⑦，德为接⑧，工为商⑨。圣人不谋，恶用知？不斲⑩，恶用胶？无丧(11)，恶有德？不货(12)，恶用商？四者，天鬻也(13)。天鬻者，天食也(14)。既受食于天，又恶用人！有人之形，无人之情。有人之形，故群于人；无人之情，故是非不得于身。眇乎小哉(15)，所以属于人也！謷乎大哉(16)，独成其天！</p>
<p>【注释】</p>
<p>①（ｙíｎ）：屈曲。跂（ｑǐ）：通作“企”。“跂”指腿脚屈曲常踮起脚尖走路。支离：伛偻病残的样子。脤（ｓｈèｎ）：唇。这里用跛脚，伛腰，无唇来形容一个人的形残貌丑，并以此特征作为这个丑陋之人的名字。说（ｓｈｕì）：游说。</p>
<p>②说（ｙｕè）：通“悦”；喜欢。</p>
<p>③脰（ｄòｕ）：颈项。肩肩：细小的样子。</p>
<p>④瓮（ｗèｎｇ）（àｎｇ）：腹大口小的陶制盛器。“”字亦作“盎”。瘿（ｙǐｎｇ）：瘤。颈下的瘤子大如瓮盎，这里也是用畸形特征作为人名。</p>
<p>⑤诚：真实。</p>
<p>⑥孽（ｎｉè）：祸根。</p>
<p>⑦约：盟誓。胶：粘固，胶着。“约为胶”意思是把盟约当成胶着似的束缚。</p>
<p>⑧德为接：意思是把施德看作交接外物的手段。⑨工：工巧。</p>
<p>⑩斲（ｚｈｕó）：“斫”字的异体，砍削的意思。</p>
<p>(11)丧（ｓｈàｎｇ）：丢失、缺损。</p>
<p>(12)货：意思是买卖东西以谋利。</p>
<p>(13)天：自然。鬻（ｙù）：通作“育”，养育的意思。</p>
<p>(14)天食：禀受自然的饲养和供给。</p>
<p>(15)眇（ｍｉǎｏ）：通作“秒”，微小的意思。</p>
<p>(16)謷（áｏ）：高大的样子。</p>
<p>【译文】</p>
<p>一个跛脚、伛背、缺嘴的人游说卫灵公，卫灵公十分喜欢他；再看看那些体形完整的人，他们的脖颈实在是太细太细了。一个颈瘤大如瓮盎的人游说齐桓公，齐桓公十分喜欢他；再看看那些体形完整的人，他们的脖颈实在是太细太细的了。所以，在德行方面有超出常人的地方而在形体方面的缺陷别人就会有所遗忘，人们不会忘记所应当忘记的东西，而忘记了所不应当忘记的东西，这就叫做真正的遗忘。因而圣人总能自得地出游，把智慧看作是祸根，把盟约看作是禁锢，把推展德行看作是交接外物的手段，把工巧看作是商贾的行为。圣人从不谋虑，哪里用得着智慧？圣人从不砍削，哪里用得着胶着？圣人从不感到缺损，哪里用得着推展德行？圣人从不买卖以谋利，哪里用得着经商？这四种作法叫做天养。所谓天养，就是禀受自然的饲养。既然受养于自然，又哪里用得着人为！有了人的形貌，不一定有人内在的真情。有了人的形体，所以与人结成群体；没有人的真情，所以是与非都不会汇聚在他的身上。渺小呀，跟人同类的东西！伟大呀，只有浑同于自然。</p>
<p>【原文】</p>
<p>惠子谓庄子曰①：“人故无情乎？”庄子曰：“然”。惠子曰：“人而无情，何以谓之人？”庄子曰：“道与之貌②，天与之形，恶得不谓之人？”惠子曰：“既谓之人，恶得无情？”庄子曰：“是非吾所谓情也。吾所谓无情者，言人之不以好恶内伤其身，常因自然而不益生也③。”惠子曰：“不益生，何以有其身？”庄子曰：“道与之貌，天与之形，无以好恶内伤其身。今子外乎子之神，劳乎子之精④，倚树而吟，据槁梧而瞑⑤，天选子之形⑥，子以坚白鸣⑦！”</p>
<p>【注释】</p>
<p>①惠子：即惠施，名家的代表人物。</p>
<p>②道：中国古代哲学中的“道”，含义十分复杂，这里与“天”对应，“天”指事物的自然，“道”可能是指事物的本原，即宇宙万物的本体。</p>
<p>③益：增添。</p>
<p>④劳：耗费。</p>
<p>⑤据：靠，凭依。槁梧：指用梧桐木做成的几案。瞑（ｍｉáｎ）：通作“眠”，假寐的意思。</p>
<p>⑥天选：自然的授予。</p>
<p>⑦坚白：“坚白”论是古代名家的著名言论，它以石为喻，指石之白色与石之坚质都独立于“石”。庄子对于这一类辩论极不赞赏，斥之为无稽之谈。</p>
<p>【译文】</p>
<p>惠子对庄子说：“人原本就是没有情的吗？”庄子说：“是的”。惠子说：“一个人假若没有情，为什么还能称作人呢？”庄子说：“道赋予人容貌，天赋予人形体，怎么能不称作人呢？”惠子说：“既然已经称作了人，又怎么能够没有情？”庄子回答说：“这并不是我所说的情呀。我所说的无情，是说人不因好恶，而致伤害自身的本性，常常顺任自然而不随意增添些什么。”惠子说：“不添加什么，靠什么来保有自己的身体呢？”庄子回答说：“道赋予人容貌，天赋予人形体，可不要因外在的好恶而致伤害了自己的本性。如今你外露你的心神，耗费你的精力，靠着树干吟咏，凭依几案闭目假寐。自然授予了你的形体，你却以‘坚’、‘白’的诡辩而自鸣得意！”</p>
<h3 id="齐物论"><a href="#齐物论" class="headerlink" title="齐物论"></a>齐物论</h3><p>齐物论</p>
<p>【题解】</p>
<p>本篇是《庄子》的又一代表篇目。“齐物论”包含齐物与齐论两个意思。庄子认为世界万物包括人的品性和感情，看起来是千差万别，归根结底却又是齐一的，这就是“齐物”。庄子还认为人们的各种看法和观点，看起来也是千差万别的，但世间万物既是齐一的，言论归根结底也应是齐一的，没有所谓是非和不同，这就是“齐论”。“齐物”和“齐论”合在一起便是本篇的主旨。</p>
<p>全文大体分成七个部分，第一部分至“怒者其谁邪”，从子綦进入无我境界开篇，生动地描写大自然的不同声响，并且指出它们全都出于自身。第二部分至“吾独且奈何哉”，推进一步描述社会各种现象和人的各种不同心态，并指出这些实实在在的东西又都是出自虚无。第三部分至“此之谓以明”，说明是非之争并没有价值。万物都有其对立的一面，也有其统一的一面；万物都在变化之中，而且都在向它自身对立的那一面转化。从这一意义说，万物既然是齐一的，那么区别是与非就没有必要，才智也就成了没有价值的东西。第四部分至“此之谓葆光”，进一步指出大道并不曾有过区分，言论也不曾有过定论，人们所持有的是非与区分并非物之本然，而是主观对外物的偏见，物、我一体，因而是非无别，容藏于一体。第五部分至“而况利害之端乎”，从忘物才能齐物入手，说明认识事物并没有什么绝对客观的尺度，因而人的言论也就没有确定是非区别的必要。第六部分至“故寓诸无竟”，借寓言人物之口阐述齐物与齐论的途径，即忘掉死生、忘掉是非，把自己寄托于无穷的境域，从而遨游于尘埃之外，这也就进一步说明物之不可分、言之不可辩。余下为第七部分，通过两个寓言故事表明“无所凭依”和物我交合、物我俱化的旨意。</p>
<p>“齐物”与“齐论”是庄子哲学思想的又一重要方面，与“逍遥游”一并构成庄子哲学思想体系的主体。庄子看到了客观事物存在这样那样的区别，看到了事物的对立。但出于万物一体的观点，他又认为这一切又都是统一的，浑然一体的，而且都在向其对立的一面不断转化，因而又都是没有区别的。庄子还认为各种各样的学派和论争都是没有价值的。是与非、正与误，从事物本于一体的观点看也是不存在的。这既有宇宙观方面的讨论，也涉及到认识论方面的许多问题，因而在我国古代哲学研究中具有重要地位。篇文充满辩证的观点，但也经常陷入形而上学的泥潭，须得细加体会和分析。</p>
<p>【原文】</p>
<p>南郭子綦隐机而坐①，仰天而嘘②，荅焉似丧其耦③。颜成子游立侍乎前④，曰：“何居乎⑤？形固可使如槁木⑥，而心固可使如死灰乎⑦？今之隐机者，非昔之隐机者也⑧。”子綦曰：“偃⑨，不亦善乎，而问之也⑩？今者吾丧我，汝知之乎？女闻人籁(11)，而未闻地籁，女闻地籁而未闻天籁夫！”子游曰：“敢问其方(12)。”子綦曰：“夫大块噫气(13)，其名为风，是唯无作(14)，作则万窍怒呺(15)，而独不闻之翏翏乎(16)？山林之畏佳(17)，大木百围之窍穴，似鼻，似口，似耳，似枅(18)，似圈，似臼，似洼者，似污者(19)。激者(20)，謞者(21)，叱者，吸者，叫者，譹者(22)，宎者(23)，咬者(24)，前者唱于而随者唱喁(25)。泠风则小和(26)，飘风则大和，厉风济则众窍为虚(27)。而独不见之调调之刁刁乎(28)？”子游曰：“地簌则众窍是已(29)，人簌则比竹是已(30)，敢问天簌。”子綦曰：“夫吹万不同(31)，而使其自己也(32)，咸其自取(33)，怒者其谁邪(34)？”</p>
<p>【注释】</p>
<p>①南郭子綦（ｑí）：楚人，居住南郭，故名南郭子綦。旧说为楚庄王庶出的弟弟，做过楚庄王的司马；疑为庄子中寓托的高士，而非历史人物。隐：凭倚。机：亦作几，案几。</p>
<p>②嘘：吐气。</p>
<p>③荅（ｔà）焉：亦作“嗒焉”，离形去智的样子。耦：匹对。庄子认为人是肉体和精神的对立统一体，“耦”在这里即指与精神相对立的躯体。丧其耦，表示精神超脱躯体达到忘我的境界。</p>
<p>④颜成子游：子綦的学生，姓颜名偃，子游为字，死后谥成，故名颜成子游。</p>
<p>⑤居（ｊī）：表疑问的语气词。</p>
<p>⑥固：诚然。槁：干枯。</p>
<p>⑦心：思想，精神。固：岂，难道。</p>
<p>⑧“今之隐机者”与“昔之隐机者”实指一人，即南郭子綦，意思是南郭子綦今日隐机入神出体与旧时大不一样。</p>
<p>⑨偃：见注④。</p>
<p>⑩而：你，人称代词。“不亦善乎，而问之也”乃是“尔问之不亦善乎”之倒置。</p>
<p>(11)簌（ｌàｉ）：箫，古代的一种管状乐器，这里泛指从孔穴里发出的声响。“人簌”即出自人为的声响，与下两句的“地簌”、“天簌”相对应，所谓“地簌”或“天簌”，即出自自然的声响。</p>
<p>(12)敢：表示谦敬的副词，含有“冒昧地”、“斗胆地”的意思。方：道术，指所言“地簌”、“天簌”的真实含意。</p>
<p>(13)大块：大地。噫（ｙī）气：吐气。</p>
<p>(14)是：此，这里指风。唯：句中语气词，含有仅此的意思。作：兴起。</p>
<p>(15)窍：孔穴。呺（ｈáｏ）：亦作“号”，吼叫。</p>
<p>(16)翏翏（ｌｉú）：亦作飂飂，大风呼呼的声响。</p>
<p>(17)林：通作“陵”，大山。畏佳（ｃｕī）：亦作“嵔佳”，即嵬崔，山陵高峻的样子。</p>
<p>(18)枅（ｊī）：柱头横木。</p>
<p>(19)污：停滞不流的水塘。</p>
<p>(20)激：水流湍急的声音。</p>
<p>(21)謞（ｘｉàｏ）：这里用来形容箭头飞去的声响。</p>
<p>(22)譹（ｈáｏ）：嚎哭声。</p>
<p>(23)宎（ｙǎｏ）深而沉。</p>
<p>(24)咬（ｊｉāｏ）：鸟鸣叫的声音。一说哀切声。</p>
<p>(25)于、喁（ｙú）：风吹树动前后相和的声音。</p>
<p>(26)泠（ｌíｎｇ）风：小风，清风。</p>
<p>(27)厉风：迅猛的暴风。济：止。</p>
<p>(28)调调、刁刁：风吹草木晃动摇曳的样子。“刁刁”亦作“刀刀”。</p>
<p>(29)是：这样。已：矣。</p>
<p>(30)比：并合。竹：这里指并合在一起可以发出声响的、不同形状的竹管。</p>
<p>(31)这句及以下是表述“天簌”的，故有人疑“夫”字之后缺“天簌者”三字。</p>
<p>(32)使其自己：意思是使它们自身发出各种各样的声音。一说“己”当作“已”，是停止的意思，但联系上下文不宜从此解。</p>
<p>(33)咸：全。</p>
<p>(34)怒：这里是发动的意思。</p>
<p>【译文】</p>
<p>南郭子綦靠着几案而坐，仰首向天缓缓地吐着气，那离神去智的样子真好像精神脱出了躯体。他的学生颜成子游陪站在跟前说道：“这是怎么啦？形体诚然可以使它像干枯的树木，精神和思想难道也可以使它像死灰那样吗？你今天凭几而坐，跟往昔凭几而坐的情景大不一样呢。”子綦回答说：“偃，你这个问题不是问得很好吗？今天我忘掉了自己，你知道吗？你听见过‘人籁’却没有听见过‘地籁’，你即使听见过‘地籁’却没有听见过‘天籁’啊！”子游问：“我冒昧地请教它们的真实含意。”子綦说：“大地吐出的气，名字叫风。风不发作则已，一旦发作整个大地上数不清的窍孔都怒吼起来。你独独没有听过那呼呼的风声吗？山陵上陡峭峥嵘的各种去处，百围大树上无数的窍孔，有的像鼻子，有的像嘴巴，有的像耳朵，有的像圆柱上插入横木的方孔，有的像圈围的栅栏，有的像舂米的臼窝，有的像深池，有的像浅池。它们发出的声音，像湍急的流水声，像迅疾的箭镞声，像大声的呵叱声，像细细的呼吸声，像放声叫喊，像嚎啕大哭，像在山谷里深沉回荡，像鸟儿鸣叫叽喳，真好像前面在呜呜唱导，后面在呼呼随和。清风徐徐就有小小的和声，长风呼呼便有大的反响，迅猛的暴风突然停歇，万般窍穴也就寂然无声。你难道不曾看见风儿过处万物随风摇曳晃动的样子吗？”子游说：“地籁是从万种窍穴里发出的风声，人籁是从比并的各种不同的竹管里发出的声音。我再冒昧地向你请教什么是天籁。”子綦说：“天籁虽然有万般不同，但使它们发生和停息的都是出于自身，发动者还有谁呢？”</p>
<p>【原文】</p>
<p>大知闲闲①，小知閒閒②；大言炎炎③，小言詹詹④。其寐也魂交⑤，其觉也形开⑥；与接为搆⑦，日以心斗：缦者⑧，窖者⑨，密者⑩。小恐惴惴(11)，大恐缦缦(12)。其发若机栝(13)，其司是非之谓也(14)；其留如诅盟(15)，其守胜之谓也。其杀若秋冬(16)，以言其日消也；其溺之所为之(17)，不可使复之也；其厌也如缄(18)，以言其老洫也(19)；近死之心，莫使复阳也(20)。喜怒哀乐，虑叹变(21)，姚佚启态(22)。乐出虚(23)，蒸成菌(24)。日夜相代乎前(25)，而莫知其所萌(26)。已乎(27)，已乎！旦暮得此(28)，其所由以生乎(29)！</p>
<p>非彼无我(30)，非我无所取(31)。是亦近矣(32)，而不知其所为使(33)。若有真宰(34)，而特不得其眹(35)，可行已信，而不见其形，有情而无形(36)。百骸(37)、九窍(38)、六藏(39)，赅而存焉(40)，吾谁与为亲(41)？汝皆说之乎(42)？其有私焉(43)？如是皆有为臣妾乎？其臣妾不足以相治乎？其递相为君臣乎？其有真君存焉(44)？如求得其情与不得(45)，无益损乎其真。一受其成形(46)，不亡以待尽(47)。与物相刃相靡(48)，其行尽如驰(49)，而莫之能止，不亦悲乎！终身役役而不见其成功(50)，然疲役而不知其所归(51)，可不哀邪！人谓之不死，奚益！其形化，其心与之然，可不谓大哀乎？人之生也，固若是芒乎(52)？其我独芒，而人亦有不芒者乎？</p>
<p>夫随其成心而师之(53)，谁独且无师乎？奚必知代而心自取者有之(54)？愚者与有焉。未成乎心而有是非，是今日适越而昔至也(55)。是以无有为有。无有为有，虽有神禹且不能知(56)，吾独且奈何哉！</p>
<p>【注释】</p>
<p>①闲闲：广博豁达的样子。</p>
<p>②閒閒（ｊｉàｎ）：“閒”是“”的古体，今简作“间”，“閒閒”即间间，明察细别的样子。</p>
<p>③炎炎：猛烈；这里借猛火炎燎之势，比喻说话时气焰盛人。</p>
<p>④詹詹：言语琐细，说个没完。</p>
<p>⑤寐：睡眠。魂交：心灵驰躁，神魂交接。</p>
<p>⑥觉：睡醒。形开：身形开朗，目开意悟。一说形体不宁。</p>
<p>⑦接：接触，这里指与外界环境接触。搆：“构（搆）”字的异体，交合的意思。</p>
<p>⑧缦（ｍàｎ）：通作“慢”，疏怠迟缓的意思。</p>
<p>⑨窖：深沉，用心不可捉摸。</p>
<p>⑩密：隐秘、谨严。</p>
<p>(11)惴惴（ｚｈｕì）：恐惧不安的样子。</p>
<p>(12)缦缦（ｍàｎ）：神情沮丧的样子。</p>
<p>(13)机：弩机，弩上的发射部位。栝（ｇｕā）：箭杆末端扣弦部位。</p>
<p>(14)司：主。“司是非”犹言主宰是非，意思是“是”与“非”都由此产生。一说“司”通“伺”，窥伺人之是非的意思。</p>
<p>(15)留：守住，指留存内心，与上句的“发”相对应。诅盟：誓约；结盟时的誓言，坚守不渝。</p>
<p>(16)杀（ｓｈàｉ）：肃杀，衰败。</p>
<p>(17)溺：沉湎。“之”疑讲作“于”。</p>
<p>(18)厌（ｙā）：通作“压”，闭塞的意思。缄：绳索，这里是用绳索加以束缚的意思。</p>
<p>(19)洫（ｘù）：败坏。</p>
<p>(20)复阳：复生，恢复生机。</p>
<p>(21)虑：忧虑。叹：感叹。变：反复。（ｚｈè）：通作“慑”，恐惧的意思。</p>
<p>(22)姚：轻浮躁动。佚（ｙì）：奢华放纵。启：这里指放纵情欲而不知收敛。态：这里是故作姿态的意思。</p>
<p>(23)乐：乐声。虚：中空的情态，用管状乐器中空的特点代指乐器本身。</p>
<p>(24)蒸成菌：在暑热潮湿的条件下蒸腾而生各种菌类。</p>
<p>(25)相代：相互对应地更换与替代。</p>
<p>(26)萌：萌发、产生。</p>
<p>(27)已：止，算了。</p>
<p>(28)旦暮：昼夜，这里表示时间很短。此：指上述对立、对应的各种情态形成发生的道理，犹如乐出于虚，菌出于气，一切都形成于“虚”、“无”。</p>
<p>(29)由：从，自。所由：产生的原由。</p>
<p>(30)“彼”就字面上讲指“我”的对立面，也可以理解为非我的大自然，甚至包括上述各种情态。</p>
<p>(31)取：资证，呈现。</p>
<p>(32)近：彼此接近；引申一步，像前两句话（“非彼无我，非我无所取”）那样的认识和处理，就接近于事物的本质，接近于认识事物的真理。</p>
<p>(33)所为使：为……所驱使。</p>
<p>(34)宰：主宰。“真宰”，犹如今日言“造世主”，但也可理解为真我，即我身的主宰。</p>
<p>(35) 特：但，只。眹（ｚｈěｎ）：端倪、征兆。</p>
<p>(36)情：真，指事实上的存在。</p>
<p>(37)百：概数，言其多，非确指。骸：骨节。</p>
<p>(38)九窍：人体上九个可以向外张开的孔穴，指双眼、双耳、双鼻孔、口、生殖器、肛门。</p>
<p>(39)藏：内脏；这个意义后代写作“臓”，简化成“脏”。心、肺、肝、脾、肾俗称五脏，但也有把左右两肾分别称谓的，这就成了“六脏”。</p>
<p>(40)赅：齐备。</p>
<p>(41)谁与：与谁。</p>
<p>(42)说（ｙｕè）：喜悦，这个意义后代写作“悦”。</p>
<p>(43)私：偏私，偏爱。</p>
<p>(44)真君：对待“我”来说，“真君”即“真我”、“真心”，对待社会的各种情态说，“真君”就是“真宰”。</p>
<p>(45)情：究竟，真实情况。</p>
<p>(46)一：一旦。</p>
<p>(47)亡：亦作“忘”，忘记。一说“亡”为“代”字之讹，变化的意思。尽：耗竭、消亡。</p>
<p>(48)刃：刀口，这里喻指针锋相对的对立面。靡：倒下，这里是顺应的意思。</p>
<p>(49)驰：迅疾奔跑。</p>
<p>(50)役役：相当于“役于役”。意思是为役使之物所役使。一说劳苦不休的样子。</p>
<p>(51)（ｎｉé）然：疲倦困顿的样子。疲役：犹言疲于役，为役使所疲顿。</p>
<p>(52)芒：通作“茫”，迷昧无知。</p>
<p>(53)成心：业已形成的偏执之见。</p>
<p>(54)代：更改，变化。“知代”意思是懂得变化更替的道理。取：资证、取信的意思。</p>
<p>(55)这句是比喻，说明没有成见就已经出现是非观念。</p>
<p>(56)神禹：神明的夏禹。</p>
<p>【译文】</p>
<p>才智超群的人广博豁达，只有点小聪明的人则乐于细察、斤斤计较；合于大道的言论就像猛火烈焰一样气焰凌人，拘于智巧的言论则琐细无方、没完没了。他们睡眠时神魂交构，醒来后身形开朗；跟外界交接相应，整日里勾心斗角。有的疏怠迟缓，有的高深莫测，有的辞慎语谨。小的惧怕惴惴不安，大的惊恐失魂落魄。他们说话就好像利箭发自弩机快疾而又尖刻，那就是说是与非都由此而产生；他们将心思存留心底就好像盟约誓言坚守不渝，那就是说持守胸臆坐待胜机。他们衰败犹如秋冬的草木，这说明他们日益消毁；他们沉缅于所从事的各种事情，致使他们不可能再恢复到原有的情状；他们心灵闭塞好像被绳索缚住，这说明他们衰老颓败，没法使他们恢复生气。他们欣喜、愤怒、悲哀、欢乐，他们忧思、叹惋、反复、恐惧，他们躁动轻浮、奢华放纵、情张欲狂、造姿作态。好像乐声从中空的乐管中发出，又像菌类由地气蒸腾而成。这种种情态日夜在面前相互对应地更换与替代，却不知道是怎么萌生的。算了吧，算了吧！一旦懂得这一切发生的道理，不就明白了这种种情态发生、形成的原因？</p>
<p>没有我的对应面就没有我本身，没有我本身就没法呈现我的对应面。这样的认识也就接近于事物的本质，然而却不知道这一切受什么所驱使。仿佛有“真宰”，却又寻不到它的端倪。可以去实践并得到验证，然而却看不见它的形体，真实的存在而又没有反映它的具体形态。</p>
<p>众多的骨节，眼耳口鼻等九个孔窍和心肺肝肾等六脏，全都齐备地存在于我的身体，我跟它们哪一部分最为亲近呢？你对它们都同样喜欢吗？还是对其中某一部分格外偏爱呢？这样，每一部分都只会成为臣妾似的仆属吗？难道臣妾似的仆属就不足以相互支配了吗？还是轮流做为君臣呢？难道又果真有什么“真君”存在其间？无论寻求到它的究竟与否，那都不会对它的真实存在有什么增益和损坏。人一旦禀承天地之气而形成形体，就不能忘掉自身而等待最后的消亡。他们跟外界环境或相互对立、或相互顺应，他们的行动全都像快马奔驰，没有什么力量能使他们止步，这不是很可悲吗！他们终身承受役使却看不到自己的成功，一辈子困顿疲劳却不知道自己的归宿，这能不悲哀吗！人们说这种人不会死亡，这又有什么益处！人的形骸逐渐衰竭，人的精神和感情也跟着一块儿衰竭，这能不算是最大的悲哀吗？人生在世，本来就像这样迷昧无知吗？难道只有我才这么迷昧无知，而世人也有不迷昧无知的吗！</p>
<p>追随业已形成的偏执己见并把它当作老师，那么谁会没有老师呢？为什么必须通晓事物的更替并从自己的精神世界里找到资证的人才有老师呢？愚味的人也会跟他们一样有老师哩。还没有在思想上形成定见就有是与非的观念，这就像今天到越国去而昨天就已经到达。这就是把没有当作有。没有就是有，即使圣明的大禹尚且不可能通晓其中的奥妙，我偏偏又能怎么样呢？</p>
<p>【原文】</p>
<p>夫言非吹也①。言者有言，其所言者特未定也②。果有言邪？其未尝有言邪？其以为异于音③，亦有辩乎④？其无辩乎？</p>
<p>道恶乎隐而有真伪？言恶乎隐而有是非⑤？道恶乎往而不存？言恶乎存而不可？道隐于小成⑥，言隐于荣华⑦。故有儒墨之是非⑧，以是其所非而非其所是。欲是其所非而非其所是，则莫若以明⑨。</p>
<p>物无非彼，物无非是。自彼则不见，自知则知之⑩。故曰：彼出于是，是亦因彼。彼是，方生之说也(11)。虽然，方生方死，方死方生；方可方不可，方不可方可(12)；因是因非，因非因是(13)。是以圣人不由而照之于天(14)，亦因是(15)也。是亦彼也，彼亦是也。彼亦一是非，此亦一是非(16)。果且有彼是乎哉？果且无彼是乎哉(17)？彼是莫得其偶(18)，谓之道枢(19)。枢始得其环中(20)，以应无穷(21)。是亦一无穷，非亦一无穷也。故曰莫若以明。</p>
<p>以指喻指之非指，不若以非指喻指之非指也(22)；以马喻马之非马(23)，不若以非马喻马之非马也。天地一指也，万物一马也。</p>
<p>可乎可，不可乎不可。道行之而成，物谓之而然(24)。恶乎然？然于然。恶乎不然？不然于不然(25)。恶乎可？可于可。恶乎不可？不可于不可(26)。物固有所然，物固有所可；无物不然，无物不可。故为是举莛与楹(27)、厉与西施(28)、恢恑憰怪(29)，道通为一(30)。其分也(31)，成也(32)；其成也，毁也(33)。凡物无成与毁，复通为一。唯达者知通为一(34)，为是不用而寓诸庸(35)。庸也者，用也(36)；用也者，通也；通也者，得也(37)；适得而几矣(38)。因是已(39)，已而不知其然(40)，谓之道。劳神明为一而不知其同也(41)，谓之朝三(42)。何谓朝三？狙公赋芧曰(43)：“朝三而暮四”。众狙皆怒。曰：“然则朝四而暮三”。众狙皆悦。名实未亏而喜怒为用(44)，亦因是也。是以圣人和之以是非而休乎天钧(45)，是之谓两行(46)。</p>
<p>古之人，其知有所至矣。恶乎至(47)？有以为未始有物者，至矣，尽矣，不可以加矣。其次以为有物矣，而未始有封也(48)。其次以为有封焉，而未始有是非也。是非之彰也，道之所以亏也。道之所以亏，爱之所以成(49)。果且有成与亏乎哉？果且无成与亏乎哉？有成与亏，故昭氏之鼓琴也(50)。无成与亏，故昭氏之不鼓琴也。昭文之鼓琴也，师旷之枝策也(51)，惠子之据梧也(52)，三子之知几乎(53)！皆其盛者也，故载之末年(54)。唯其好之也(55)，以异于彼；其好之也，欲以明之(56)。彼非所明而明之，故以坚白之昧终(57)。而其子又以文之纶终(58)，终身无成。若是而可谓成乎？虽我亦成也(59)。若是而不可谓成乎？物与我无成也。是故滑疑之耀(60)，圣人之所图也(61)。为是不用而寓诸庸，此之谓以明。</p>
<p>【注释】</p>
<p>①吹：风吹。根据本段大意看，“言”似有所指，不宜看作一般所谓的说话、言谈，而指“辩论”；下句的“言者”则当指善辩的人。辩言之是非出于己见，而风吹出于自然，所以说“言非吹”。</p>
<p>②特：但，只。</p>
<p>③（ｇòｕ）音：刚刚破卵而出的鸟的叫声。</p>
<p>④辩：通作“辨”，分辨、区别。</p>
<p>⑤恶（ｗū）：何，怎么。隐：隐秘，藏匿。</p>
<p>⑥成：成就。“小成”这里指一时的、局部的成功。</p>
<p>⑦荣华：木草之花，这里喻指华丽的词藻。</p>
<p>⑧儒墨：儒家和墨家，战国时期两个政治和哲学流派。</p>
<p>⑨莫若以明：传统的解释为“莫如即以本然之明照之”，意思是“不如用其自然加以观察”。姑存此说。</p>
<p>⑩“自知”疑为“自是”之误，与上句之“自彼”互文；若按“自知”讲，语义亦不通达。</p>
<p>(11)方生：并存。一说“方”通作“旁”，依的意思。</p>
<p>(12)方：始，随即。</p>
<p>(13)因：遵循，依托。</p>
<p>(14)由：自，经过。一说用，“不由”就是不用。照：观察。天：这里指事物的自然，即本然。</p>
<p>(15)因：顺着。</p>
<p>(16) 一：同一，同样。</p>
<p>(17)果：果真。</p>
<p>(18)偶：对，对立面。</p>
<p>(19)枢：枢要。道枢：大道的关键之处；庄子认为，彼和此是事物对立的两个方面，如果彼和此都失去了相对立的一面，那么这就是道的枢要，即齐物以至齐论的关键。一切都出自虚无、一切都归于虚无，还有不“齐物”和“齐论”的吗？</p>
<p>(20)环中：环的中心；“得其环中”喻指抓住要害。</p>
<p>(21)应：适应，顺应。穷：尽。</p>
<p>(22)指：不宜讲作手指之指，战国名家学派公孙龙子著《指物论》，这里应是针对该篇内容而言，所谓“指”，即组成事物的要素。联系下一句，事物的要素并非事物本身，而事物的要素只有在事物内才有它的存在，故有“指之非指”的说法。喻：说明。</p>
<p>(23)马：跟上句的“指”一样，同是当时论辩的主要论题。名家公孙龙子就曾作《白马篇》，阐述了“白马非马”的观点。</p>
<p>(24)谓：称谓、称呼。然：这样。</p>
<p>(25)然：对的、正确的。</p>
<p>(26)以上十二句历来认为有错简或脱落现象，句子序列暂取较通行的校勘意见。</p>
<p>(27)莛（ｔíｎｇ）：草茎。楹（ｙíｎｇ）：厅堂前的木柱。“莛”、“楹”对文，代指物之细小者和巨大者。</p>
<p>(28)厉：通作“疠”，指皮肤溃烂，这里用表丑陋的人。西施：吴王的美姬，古代著名的美人。</p>
<p>(29)恢：宽大。恑（ｇｕǐ）：奇变。憰（ｊｕé）：诡诈。怪：怪异。恢恑憰怪四字连在一起，概指千奇百怪的各种事态。</p>
<p>(30)一：浑一，一体。联系上文，庄子认为世上一切小与大、丑与美、千差万别的各种情态或各种事物，都是相通而又处在对立统一体内，从这一观点出发，世上一切事物就不会不“齐”，不会不具有某种共同性。</p>
<p>(31)分：分开、分解。</p>
<p>(32)成：生成、形成。“成”和“分”也是相对立的，一个事物被分解了，这就意味生成一新的事物。</p>
<p>(33)毁：毁灭，指失去了原有的状态。“毁”与“成”也是相对立的，一个新事物通过分解而生成了，这就意味原事物的本有状态必定走向毁灭。</p>
<p>(34)达：通达，“达者”这里指通晓事理的人。</p>
<p>(35)为是不用：为了这个缘故不用固执己见；“不用”之后有所省略，即一定把物“分”而“成”的观点，也就是不“齐”的观点。寓：寄托。诸：讲作“之于”。庸：指平常之理。一说讲作“用”，含有功用的意思。</p>
<p>(36)以下四句至“适得而几矣”，有人认为是衍文，是前人作注的语言，并非庄子的原文。姑备一说。</p>
<p>(37)得：中，合乎常理的意思。一说自得。</p>
<p>(38)适：恰。几：接近。</p>
<p>(39)因：顺应。是：此，这里指上述“为一”的观点，即物之本然而不要去加以分别的观点。</p>
<p>(40)已：这里是一种特殊的省略，实指前面整个一句话，“已”当讲作“因是已”。</p>
<p>(41)劳：操劳、耗费。神明：心思，指精神和才智。为一：了解、认识事物浑然一体、不可分割的道理。言外之意，事物本来就是浑然一体，并不需要去辨求。同：具有同一的性状和特点。</p>
<p>(42)朝三：“朝三”、“暮四”的故事《列子.黄帝篇》亦有记载。朝是早晨，暮是夜晚，三和四表示数量，即三升、四升。“朝三”、“暮四”或者“朝四”、“暮三”，其总和皆为“七”，这里借此譬喻名虽不一，实却无损，总都归结为“一”。</p>
<p>(43)狙（ｊū）：猴子。狙公：养猴子的人。赋：给予。芧（ｘù）：橡子。</p>
<p>(44)亏：亏损。为用：为之所用，意思是喜怒因此而有所变化。</p>
<p>(45)和：调和、混用。“和之以是非”即“以是非和之”，把是和非混同起来。休：本指休息，这里含有优游自得地生活的意思。钧：通作“均”；“天钧”即自然而又均衡。</p>
<p>(46)两行：物与我，即自然界与自我的精神世界都能各得其所，自行发展。</p>
<p>(47)至：造极，最高的境界。</p>
<p>(48)封：疆界、界线。</p>
<p>(49) 以：原本作“之”据文义改。</p>
<p>(50)昭氏：即昭文，以善于弹琴著称。庄子认为，音本是一个整体，没有高低长短之分就无法演奏，任何高明的琴师都不可能同时并奏各种各样的声音。正因为分出音的高低长短才能在琴弦上演奏出来。</p>
<p>(51)师旷：晋平公时的著名乐师。枝策：用如动词，用枝或策叩击拍节，犹如今天的打拍子。一说举杖击节。</p>
<p>(52)惠子：惠施，古代名家学派的著名人物。据：依；梧：树名。惠施善辩，“据梧”意思就是靠着桐树高谈阔论。一说“梧”当讲作桐木几案，“据梧”则是靠着几案的意思。</p>
<p>(53)几：尽，意思是达到了顶点。</p>
<p>(54)载：记载；一说载誉。末年，晚年。</p>
<p>(55)好（ｈàｏ）：喜好；“好之”意思是各自喜好自己的专长和学识。</p>
<p>(56)明：明白、表露。</p>
<p>(57)坚白：指石的颜色白而质地坚，但“白”和“坚”都独立于“石”之外。公孙龙子曾有“坚白论”之说，庄子是极不赞成的。昧：迷昧。</p>
<p>(58)其子：指昭文之子。一说指惠施之子。纶：绪，这里指继承昭文的事业。</p>
<p>(59)这句语意有所隐含，意思是“虽我无成亦成也”，即如果上述情况都叫有所成就的话，即使是我没有什么成就也可说有了成就了。</p>
<p>(60)滑（ｇǔ）疑：纷乱的样子，这里指各种迷乱人心的辩说。</p>
<p>(61)图（圖）：亦写作“啚”，疑为“鄙”字之误，瞧不起，摒弃的意思。</p>
<p>【译文】</p>
<p>说话辩论并不像是吹风。善辩的人辩论纷纭，他们所说的话也不曾有过定论。果真说了些什么吗？还是不曾说过些什么呢？他们都认为自己的言谈不同于雏鸟的鸣叫，真有区别，还是没有什么区别呢？</p>
<p>大道是怎么隐匿起来而有了真和假呢？言论是怎么隐匿起来而有了是与非呢？大道怎么会出现而又不复存在？言论又怎么存在而又不宜认可？大道被小小的成功所隐蔽，言论被浮华的词藻所掩盖。所以就有了儒家和墨家的是非之辩，肯定对方所否定的东西而否定对方所肯定的东西。想要肯定对方所否定的东西而非难对方所肯定的东西，那么不如用事物的本然去加以观察而求得明鉴。</p>
<p>各种事物无不存在它自身对立的那一面，各种事物也无不存在它自身对立的这一面。从事物相对立的那一面看便看不见这一面，从事物相对立的这一面看就能有所认识和了解。所以说：事物的那一面出自事物的这一面，事物的这一面亦起因于事物的那一面。事物对立的两个方面是相互并存、相互依赖的。虽然这样，刚刚产生随即便是死亡，刚刚死亡随即便会复生；刚刚肯定随即就是否定，刚刚否定随即又予以肯定；依托正确的一面同时也就遵循了谬误的一面，依托谬误的一面同时也就遵循了正确的一面。因此圣人不走划分正误是非的道路而是观察比照事物的本然，也就是顺着事物自身的情态。事物的这一面也就是事物的那一面，事物的那一面也就是事物的这一面。事物的那一面同样存在是与非，事物的这一面也同样存在正与误。事物果真存在彼此两个方面吗？事物果真不存在彼此两个方面的区分吗？彼此两个方面都没有其对立的一面，这就是大道的枢纽。抓住了大道的枢纽也就抓住了事物的要害，从而顺应事物无穷无尽的变化。“是”是无穷的，“非”也是无穷的。所以说不如用事物的本然来加以观察和认识。</p>
<p>用组成事物的要素来说明要素不是事物本身，不如用非事物的要素来说明事物的要素并非事物本身；用白马来说明白马不是马，不如用非马来说明白马不是马。整个自然界不论存在多少要素，但作为要素而言却是一样的，各种事物不论存在多少具体物象，但作为具体物象而言也都是一样的。</p>
<p>能认可吗？一定有可以加以肯定的东西方才可以认可；不可以认可吗？一定也有不可以加以肯定的东西方才不能认可。道路是行走而成的，事物是人们称谓而就的。怎样才算是正确呢？正确在于其本身就是正确的。怎样才算是不正确呢？不正确的在于其本身就是不正确的。怎样才能认可呢？能认可在于其自身就是能认可的。怎样才不能认可呢？不能认可在于其本身就是不能认可的。事物原本就有正确的一面，事物原本就有能认可的一面，没有什么事物不存在正确的一面，也没有什么事物不存在能认可的一面。所以可以列举细小的草茎和高大的庭柱，丑陋的癞头和美丽的西施，宽大、奇变、诡诈、怪异等千奇百怪的各种事态来说明这一点，从“道”的观点看它们都是相通而浑一的。旧事物的分解，亦即新事物的形成，新事物的形成亦即旧事物的毁灭。所有事物并无形成与毁灭的区别，还是相通而浑一的特点。只有通达的人方才知晓事物相通而浑一的道理，因此不用固执地对事物作出这样那样的解释，而应把自己的观点寄托于平常的事理之中。所谓平庸的事理就是无用而有用；认识事物无用就是有用，这就算是通达；通达的人才是真正了解事物常理的人；恰如其分地了解事物常理也就接近于大道。顺应事物相通而浑一的本来状态吧，这样还不能了解它的究竟，这就叫做“道”。耗费心思方才能认识事物浑然为一而不知事物本身就具有同一的性状和特点，这就叫“朝三”。什么叫做“朝三”呢？养猴人给猴子分橡子，说：“早上分给三升，晚上分给四升”。猴子们听了非常愤怒。养猴人便改口说</p>
<p>：“那么就早上四升晚上三升吧。”猴子们听了都高兴起来。名义和实际都没有亏损，喜与怒却各为所用而有了变化，也就是因为这样的道理。因此，古代圣人把是与非混同起来，优游自得地生活在自然而又均衡的境界里，这就叫物与我各得其所、自行发展。</p>
<p>古时候的人，他们的智慧达到了最高的境界。如何才能达到最高的境界呢？那时有人认为，整个宇宙从一开始就不存在什么具体的事物，这样的认识是最了不起，最尽善尽美，而无以复加了。其次，认为宇宙之始是存在事物的，可是万事万物从不曾有过区分和界线。再其次，认为万事万物虽有这样那样的区别，但是却从不曾有过是与非的不同。是与非的显露，对于宇宙万物的理解也就因此出现亏损和缺陷，理解上出现亏损与缺陷，偏私的观念也就因此形成。果真有形成与亏缺吗？果真没有形成与亏缺吗？事物有了形成与亏缺，所以昭文才能够弹琴奏乐。没有形成和亏缺，昭文就不再能够弹琴奏乐。昭文善于弹琴，师旷精于乐律，惠施乐于靠着梧桐树高谈阔论，这三位先生的才智可说是登峰造极了！他们都享有盛誉，所以他们的事迹得到记载并流传下来。他们都爱好自己的学问与技艺，因而跟别人大不一样；正因为爱好自己的学问和技艺，所以总希望能够表现出来。而他们将那些不该彰明的东西彰明于世，因而最终以石之色白与质坚均独立于石头之外的迷昧而告终；而昭文的儿子也继承其父亲的事业，终生没有什么作为。像这样就可以称作成功吗？那即使是我虽无成就也可说是成功了。像这样便不可以称作成功吗？外界事物和我本身就都没有成功。因此，各种迷乱人心的巧说辩言的炫耀，都是圣哲之人所鄙夷、摒弃的。所以说，各种无用均寄托于有用之中，这才是用事物的本然观察事物而求得真实的理解。</p>
<p>【原文】</p>
<p>今且有言于此，不知其与是类乎？其与是不类乎？类与不类，相与为类①，则与彼无以异矣。虽然，请尝言之②。有始也者，有未始有始也者，有未始有夫未始有始也者。有有也者，有无也者，有未始有无也者，有未始有夫未始有无也者。俄而有无矣③，而未知有无之果孰有孰无也。今我则已有谓矣④，而未知吾所谓之其果有谓乎，其果无谓乎？天下莫大于秋豪之末⑤，而大山为小⑥；莫寿于殇子⑦，而彭祖为夭⑧。天地与我并生，而万物与我为一。既已为一矣，且得有言乎？既已谓之一矣，且得无言乎？一与言为二，二与一为三。自此以往，巧历不能得⑨，而况其凡乎⑩！故自无适有以至于三(11)，而况自有适有乎！无适焉，因是已(12)。</p>
<p>夫道未始有封(13)，言未始有常(14)，为是而有畛也(15)。请言其畛：有左有右，有伦有义(16)，有分有辩，有竞有争，此之谓八德(17)，六合之外(18)，圣人存而不论；六合之内，圣人论而不议(19)。春秋经世先王之志(20)，圣人议而不辩。故分也者，有不分也；辩也者，有不辩也。曰：何也？圣人怀之(21)，众人辩之以相示也(22)。故曰辩也者有不见也。</p>
<p>夫大道不称(23)，大辩不言，大仁不仁，不廉不嗛(24)，不勇不忮(25)。道昭而不道(26)，言辩而不及(27)，仁常而不成，廉清而不信，勇忮而不成。五者圆而几向方矣(28)。故知止其所不知，至矣。孰知不言之辩、不道之道？若有能知，此之谓天府(29)。注焉而不满(30)，酌焉而不竭(31)，而不知其所由来，此之谓葆光(32)。</p>
<p>【注释】</p>
<p>①类：同类、相同。</p>
<p>②尝：试。</p>
<p>③俄而：突然。</p>
<p>④谓：评说、议论。以下几句同此解。</p>
<p>⑤于：比。豪：通作“毫”，细毛。末：末稍。秋毫之末比喻事物的细小。</p>
<p>⑥大山：一说读如泰山。</p>
<p>⑦殤子：未成年而死的人。</p>
<p>⑧夭：夭折，短命。</p>
<p>⑨历（曆）：历数，计算。</p>
<p>⑩凡：平凡，这里指普通的人。</p>
<p>(11)适：往，到。</p>
<p>(12) 因：顺应。已：矣。</p>
<p>(13)封：界线，分别。</p>
<p>(14)常：定见，定论。</p>
<p>(15)是：对的，正确的；“为是”，意思是各自认为自己是正确的。畛（ｚｈěｎ）：田地里的界路，这里泛指事物、事理间的界线和区分。</p>
<p>(16)伦：次序。义：仪，等别。一说本句当作“有论有议”，姑备参考。</p>
<p>(17)八德：八类、八种。</p>
<p>(18)六合：天、地和东、西、南、北四方。</p>
<p>(19)论：研究。议：评说。</p>
<p>(20)春秋：这里泛指古代历史，并非指战国以前的那一段历史年代。经世：经纶世事，这是用调理织物来喻指治理社会。志：记载；这个意义后代写作“誌”。</p>
<p>(21)怀：囊括于胸，指不去分辨物我和是非，把物与我、是与非都容藏于身。</p>
<p>(22)示：显示，这里含有夸耀于外的意思。</p>
<p>(23)称：举称。一说通作“偁”，宣扬的意思。</p>
<p>(24)嗛（ｑｉāｎ）：通“谦”，谦逊。</p>
<p>(25)忮（ｚｈì）：伤害。</p>
<p>(26)昭：明；这里指明白无误地完全表露出来。</p>
<p>(27)不及：达不到，这里指言论表达不到的地方。</p>
<p>(28)圆：这里作做圆、求圆解。几：近，近似。“圆而几向方”，意思是求圆却近似于方，比喻事与愿违。</p>
<p>(29)府：储存财物的地方。天府，指自然生成的府库，也就是整个宇宙。</p>
<p>(30)注：注入。焉：讲作“于之”。</p>
<p>(31)酌：舀取。竭：尽。</p>
<p>(32)葆（ｂǎｏ）：藏，隐蔽。“葆光”即潜隐光亮而不露。</p>
<p>【译文】</p>
<p>现在暂且在这里说一番话，不知道这些话跟其他人的谈论是相同的呢，还是不相同的呢？相同的言论与不相同的言论，既然相互间都是言谈议论，从这一意义说，不管其内容如何也就是同类的了。虽然这样，还是请让我试着把这一问题说一说。宇宙万物有它的开始，同样有它未曾开始的开始，还有它未曾开始的未曾开始的开始。宇宙之初有过这样那样的“有”，但也有个“无”，还有个未曾有过的“无”，同样也有个未曾有过的未曾有过的“无”。突然间生出了“有”和“无”，却不知道“有”与“无”谁是真正的“有”、谁是真正的“无”。现在我已经说了这些言论和看法，但却不知道我听说的言论和看法是我果真说过的言论和看法呢，还是果真没有说过的言论和看法呢？天下没有什么比秋毫的末端更大，而泰山算是最小；世上没有什么人比夭折的孩子更长寿，而传说中年寿最长的彭祖却是短命的。天地与我共生，万物与我为一体。既然已经浑然为一体，还能够有什么议论和看法？既然已经称作一体，又还能够没有什么议论和看法？客观存在的一体加上我的议论和看法就成了“二”，“二”如果再加上一个“一”就成了“三”，以此类推，最精明的计算也不可能求得最后的数字，何况大家都是凡夫俗子！所以，从无到有乃至推到“三”，又何况从“有”推演到“有”呢？没有必要这样地推演下去，还是顺应事物的本然吧。</p>
<p>所谓真理从不曾有过界线，言论也不曾有过定准，只因为各自认为只有自己的观点和看法才是正确的，这才有了这样那样的界线和区别。请让我谈谈那些界线和区别：有左有右，有序列有等别，有分解有辩驳，有竞比有相争，这就是所谓八类。天地四方宇宙之外的事，圣人总是存而不论；宇宙之内的事，圣人虽然细加研究，却不随意评说。至于古代历史上善于治理社会的前代君王们的记载，圣人虽然有所评说却不争辩。可知有分别就因为存在不能分别，有争辩也就因为存在不能辩驳。有人会说，这是为什么呢？圣人把事物都囊括于胸、容藏于己，而一般人则争辩不休夸耀于外，所以说，大凡争辩，总因为有自己所看不见的一面。</p>
<p>至高无尚的真理是不必称扬的，最了不起的辩说是不必言说的，最具仁爱的人是不必向人表示仁爱的，最廉洁方正的人是不必表示谦让的，最勇敢的人是从不伤害他人的。真理完全表露于外那就不算是真理，逞言肆辩总有表达不到的地方，仁爱之心经常流露反而成就不了仁爱，廉洁到清白的极点反而不太真实，勇敢到随处伤人也就不能成为真正勇敢的人。这五种情况就好像着意求圆却几近成方一样。因此懂得停止于自己所不知晓的境域，那就是绝顶的明智。谁能真正通晓不用言语的辩驳、不用称说的道理呢？假如有谁能够知道，这就是所说的自然生成的府库。无论注入多少东西，它不会满盈，无论取出多少东西，它也不会枯竭，而且也不知这些东西出自哪里，这就叫做潜藏不露的光亮。</p>
<p>【原文】</p>
<p>故昔者尧问于舜曰：“我欲伐宗、脍、胥敖①，南面而不释然②，其故何也？”舜曰：“夫三子者③，犹存乎蓬艾之间④。若不释然⑤，何哉？昔者十日并出⑥，万物皆照，而况德之进乎日者乎⑦！”</p>
<p>齧缺问乎王倪曰⑧：“子知物之所同是乎⑨？”曰：“吾恶乎知之！”“子知子之所不知邪？”曰：“吾恶乎知之！”“然则物无知邪？”曰：“吾恶乎知之！虽然，尝试言之。庸讵知吾所谓知之非不知邪？庸讵知吾所谓不知之非知邪⑩？且吾尝试问乎女(11)：民湿寝则腰疾偏死(12)，然乎哉(13)？木处则惴慄恂惧(14)，猨猴然乎哉(15)？三者孰知正处？民食刍豢(16)，麋鹿食荐(17)，蝍蛆甘带(18)，鸱鸦耆鼠(19)，四者孰知正味？猨猵狙以为雌(20)，麋与鹿交，与鱼游(21)。毛嫱丽姬(22)，人之所美也，鱼见之深入，鸟见之高飞，麋鹿见之决骤(23)。四者孰知天下之正色哉？自我观之，仁义之端(24)，是非之塗(25)，樊然殽乱(26)，吾恶能知其辩(27)！”</p>
<p>齧缺曰：“子不知利害，则至人固不知利害乎(28)？”王倪曰：“至人神矣(29)！大泽焚而不能热(30)，河汉沍而不能寒(31)，疾雷破山飘风振海而不能惊(32)。若然者，乘云气，骑日月，而游乎四海之外。死生无变于己(33)，而况利害之端乎！”</p>
<p>【注释】</p>
<p>①宗、脍、胥敖：三个小国国名。</p>
<p>②南面：君主临朝；古代帝王上朝理事总坐北朝南。释然：不耿介于怀的样子。一说“释”通作“怿”，喜悦的意思。</p>
<p>③三子者：指上述三国的国君。</p>
<p>④蓬艾：两种草名。“存乎蓬艾之间”比喻国微君卑，不足与之计较。</p>
<p>⑤若：你。</p>
<p>⑥十日并出：指古代寓言中十个太阳一并出来的故事，庄子借此比喻阳光普照到每一个地方。</p>
<p>⑦进：进了一步，具有超过、胜过的意思。</p>
<p>⑧齧（ｎｉè）缺、王倪：传说中的古代贤人，实为庄子寓言故事中虚拟的人物。</p>
<p>⑨所同是：意思是相互间共同的地方。</p>
<p>⑩庸讵：怎么、哪里。</p>
<p>(11)女：汝，你。</p>
<p>(12)湿寝：在潮湿的地方寝卧。偏死：偏瘫，即半身不遂。</p>
<p>(13)（ｑｉū）：“鳅”字的异体，即泥鳅。</p>
<p>(14)木处：在高高的树木上居住。惴：慄、恂（ｘúｎ）、惧：四字都是恐惧、惧怕的意思。</p>
<p>(15)猨：“猿”字的异体，“猨猴”即“猿猴”。</p>
<p>(16)刍（ｃｈú）：草。豢（ｈｕàｎ）：养。“刍豢”，用草喂养，这里代指家畜、牲口。</p>
<p>(17)麋（ｍí）：一种食草的珍贵兽类，与鹿同科。荐（ｊｉàｎ）：美草。</p>
<p>(18)蝍（ｊí）蛆（ｊū）：蜈蚣。甘：甜美，嗜好；这里作动词。带：小蛇。“甘带”意思是以小蛇为美食。</p>
<p>(19)鸱（ｃｈí）：猫头鹰。耆：亦写作“嗜”，嗜好。</p>
<p>(20)猵（ｂｉāｎ）狙（ｊū）：一种类似猿猴的动物。“猨猵狙以为雌”，即“猿以狙猵为雌”。旧注猵狙喜与雌猿交配，“以猿为雌”，但与句法不合，姑备参考。</p>
<p>(21)游：戏游，即交尾。</p>
<p>(22)毛嫱（ｑｉáｎ）、丽姬：古代著名的美人。</p>
<p>(23)决（ｘｕè）：通作“”，迅疾的样子。骤：快速奔跑。</p>
<p>(24)端：端绪。</p>
<p>(25)塗：通作“途”，道路，途径。</p>
<p>(26)樊然：杂乱的样子。殽（ｙáｏ）：这里讲作“淆”，混杂的意思。</p>
<p>(27)辩：通作辨，分别、区分的意思。</p>
<p>(28)至人：这里指能够达到忘我境界的、道德修养极高的人。</p>
<p>(29)神：神妙不测。</p>
<p>(30)泽：聚水的洼地。泽地水源充足，林木灌丛生长茂密。</p>
<p>(31)沍（ｈù）河水冻结。</p>
<p>(32) 根据前两句的句式结构分析，这一句似应分别成两个七字句，故有人认为此处有脱落，疑为“疾雷破山不能伤，飘风振海不能惊”，姑备参考。</p>
<p>(33)无变于己：意思是对于他自己全无变化。</p>
<p>【译文】</p>
<p>从前尧曾向舜问道：“我想征伐宗、脍、胥敖三个小国，每当上朝理事总是心绪不宁，是什么原因呢？”舜回答说：“那三个小国的国君，就像生存于蓬蒿艾草之中。你总是耿耿于怀心神不宁，为什么呢？过去十个太阳一块儿升起，万物都在阳光普照之下，何况你崇高的德行又远远超过了太阳的光亮呢！”</p>
<p>齧缺问王倪：“你知道各种事物相互间总有共同的地方吗？”王倪说：“我怎么知道呢！”齧缺又问：“你知道你所不知道的东西吗？”王倪回答说：“我怎么知道呢！”齧缺接着又问：“那么各种事物便都无法知道了吗？”王倪回答：“我怎么知道呢！虽然这样，我还是试着来回答你的问题。你怎么知道我所说的知道不是不知道呢？你又怎么知道我所说的不知道不是知道呢？我还是先问一问你：人们睡在潮湿的地方就会腰部患病甚至酿成半身不遂，泥鳅也会这样吗？人们住在高高的树木上就会心惊胆战、惶恐不安，猿猴也会这样吗？人、泥鳅、猿猴三者究竟谁最懂得居处的标准呢？人以牲畜的肉为食物，麋鹿食草芥，蜈蚣嗜吃小蛇，猫头鹰和乌鸦则爱吃老鼠，人、麋鹿、蜈蚣、猫头鹰和乌鸦这四类动物究竟谁才懂得真正的美味？猿猴把猵狙当作配偶，麋喜欢与鹿交配，泥鳅则与鱼交尾。毛嫱和丽姬，是人们称道的美人了，可是鱼儿见了她们深深潜入水底，鸟儿见了她们高高飞向天空，麋鹿见了她们撤开四蹄飞快地逃离。人、鱼、鸟和麋鹿四者究竟谁才懂得天下真正的美色呢？以我来看，仁与义的端绪，是与非的途径，都纷杂错乱，我怎么能知晓它们之间的分别！”</p>
<p>齧缺说：“你不了解利与害，道德修养高尚的至人难道也不知晓利与害吗？”王倪说：“进入物我两忘境界的至人实在是神妙不测啊！林泽焚烧不能使他感到热，黄河、汉水封冻了不能使他感到冷，迅疾的雷霆劈山破岩、狂风翻江倒海不能使他感到震惊。假如这样，便可驾驭云气，骑乘日月，在四海之外遨游，死和生对于他自身都没有变化，何况利与害这些微不足道的端绪呢！”</p>
<p>【原文】</p>
<p>瞿鹊子问乎长梧子曰①：“吾闻诸夫子②，圣人不从事于务③，不就利④；不违害⑤，不喜求，不缘道⑥；无谓有谓⑦，有谓无谓，而游乎尘垢之外。夫子以为孟浪之言⑧，而我以为妙道之行也。吾子以为奚若⑨？”</p>
<p>长梧子曰：“是黄帝之所听荧也⑩，而丘也何足以知之！且女亦大早计(11)，见卵而求时夜(12)，见弹而求鸮炙(13)。予尝为女妄言之，女以妄听之。奚旁日月(14)，挟宇宙？为其脗合(15)，置其滑涽(16)，以隶相尊(17)。众人役役(18)，圣人愚芚(19)，参万岁而一成纯(20)。万物尽然(21)，而以是相蕴(22)。</p>
<p>“予恶乎知说生之非惑邪(23)！予恶乎知恶死之非弱丧而不知归者邪(24)！丽之姬(25)，艾封人之子也(26)。晋国之始得之也，涕泣沾襟，及其至于王所(27)，与王同筐床(28)，食刍豢，而后悔其泣也。予恶乎知夫死者不悔其始之蕲生乎(29)！梦饮酒者，旦而哭泣；梦哭泣者，旦而田猎(30)。方其梦也(31)，不知其梦也。梦之中又占其梦焉，觉而后知其梦也。且有大觉而后知此其大梦也，而愚者自以为觉，窃窃然知之(32)。君乎、牧乎，固哉(33)！丘也与女，皆梦也；予谓女梦，亦梦也。是其言也，其名为吊诡(34)。万世之后而一遇大圣，知其解者，是旦暮遇之也(35)！</p>
<p>“既使我与若辩矣(36)，若胜我，我不若胜(37)，若果是也，我果非也邪？我胜若，若不吾胜，我果是也，而果非也邪(38)？其或是也，其或非也邪？其俱是也，其俱非也邪？我与若不能相知也，则人固受其黮(39)，吾谁使正之(40)？使同乎若者正之？既与若同矣，恶能正之！使同乎我者正之？既同乎我矣，恶能正之！使异乎我与若者正之？既异乎我与若矣，恶能正之！使同乎我与若者正之？既同乎我与若矣，恶能正之！然则我与若与人，俱不能相知也，而待彼也邪(41)？化声之相待(42)，若其不相待，和之以天倪(43)，因之以曼衍(44)，所以穷年也(45)。</p>
<p>“何谓和之以天倪？曰：是不是，然不然。是若果是也，则是之异乎不是也亦无辩；然若果然也，则然之异乎不然也亦无辩。忘年忘义(46)，振于无竟(47)，故寓诸无竟(48)”。</p>
<p>【注释】</p>
<p>①瞿鹊子、长梧子：杜撰的人名。</p>
<p>②夫子：孔子，名丘，字仲尼，儒家创始人。</p>
<p>③务：事，含有琐细事务的意思。</p>
<p>④就：趋赴，追求。</p>
<p>⑤违：避开。</p>
<p>⑥缘：因循。“不缘道”即不拘于道。</p>
<p>⑦谓：说，言谈。</p>
<p>⑧孟浪：言语轻率不当。</p>
<p>⑨奚若：何如，怎么样。</p>
<p>⑩听荧（ｙíｎｇ）：疑惑不明。</p>
<p>(11)大早：过早。计：考虑。</p>
<p>(12)时夜：司夜，即报晓的鸡。</p>
<p>(13)鸮（ｘｉāｏ）：一种肉质鲜美的鸟，俗名斑鸠。炙：烤肉。</p>
<p>(14)奚：这里用同“盍”，意思是“怎么不”。旁（ｂàｎｇ）：依傍。</p>
<p>(15)脗：“吻”字的异体。</p>
<p>(16)滑（ｇǔ）：通作“汩”，淆乱的意思。涽（ｈūｎ）：乱。一说讲作暗。</p>
<p>(17)隶：奴仆，这里指地位卑贱，与“尊”相对。</p>
<p>(18)役役：驰鹜于是非之境，意思是一心忙于分辨所谓是与非。</p>
<p>(19)芚（ｃｈūｎ）：浑然无所觉察和识别的样子。</p>
<p>(20)参：糁糅。万岁：年代久远。“参万岁”意思是糅合历史的长久变异与沉浮。纯：精粹不杂，指不为纷乱和差异所乱。</p>
<p>(21)尽：皆、全。</p>
<p>(22)以是：因此，因为这个缘故。蕴：积。</p>
<p>(23)说（ｙｕè）：通“悦”；喜悦。</p>
<p>(24)恶死：讨厌死亡。弱：年少。丧（ｓàｎｇ）：丧失，这里指流离失所。</p>
<p>(25)丽：丽戎，春秋时的小国。姬：美女。“丽之姬”即丽姬，宠于晋献公，素以美貌称于世。</p>
<p>(26)艾：地名。封人，封疆守土的人。子：女儿。</p>
<p>(27)及：等到。</p>
<p>(28)筐床：亦写作“匡床”，方正而又安适的床。</p>
<p>(29)蕲（ｑí）：祈，求的意思。</p>
<p>(30)田：打猎。这个意义后代写作“畋”。“田猎”即畋猎。</p>
<p>(31)方：正当。</p>
<p>(32)窃窃然：明察的样子。</p>
<p>(33)牧：牧夫，用指所谓卑贱的人，与高贵的“君”相对。固：鄙陋。</p>
<p>(34)吊（ｄì）诡：奇特、怪异。</p>
<p>(35)旦暮：很短的时间，含有偶然的意思。</p>
<p>(36)若：你，即说话人的对方瞿鹊子；“我”则为说话人长梧子。</p>
<p>(37)不若胜：即不胜你。</p>
<p>(38)而：你。</p>
<p>(39)黮（ｄǎｎ）：昏暗不明的样子。“”是“暗”字的异体。</p>
<p>(40)谁使：使谁。</p>
<p>(41)彼：这里讲作另外的什么人。</p>
<p>(42)化声：变化的声音，这里指是非不同的言论。这一句及至“所以穷年也”，计五句二十五字，旧本原在下段中部“然若果然也”之前，今据上下文意和多本校勘意见前移于此。</p>
<p>(43)倪：分，“天倪”即天然的分际。</p>
<p>(44)因：顺应。曼衍：变化发展。</p>
<p>(45)所以：这里讲作“用这样的办法来……”。穷：尽，终了。</p>
<p>(46)年：概指生死。义：概指是非。</p>
<p>(47)振：畅。竟：通“境”；境界、境地。</p>
<p>(48)寓：寄托。</p>
<p>【译文】</p>
<p>瞿鹊子向长梧子问道：“我从孔夫子那里听到这样的谈论：圣人不从事琐细的事务，不追逐私利，不回避灾害，不喜好贪求，不因循成规；没说什么又好像说了些什么，说了些什么又好像什么也没有说，因而遨游于世俗之外。孔夫子认为这些都是轻率不当的言论，而我却认为是精妙之道的实践和体现。先生你认为怎么样呢？”</p>
<p>长梧子说：“这些话黄帝也会疑惑不解的，而孔丘怎么能够知晓呢！而且你也谋虑得太早，就好像见到鸡蛋便想立即得到报晓的公鸡，见到弹子便想立即获取烤熟的斑鸠肉。我姑且给你胡乱说一说，你也就胡乱听一听。怎么不依傍日月，怀藏宇宙？跟万物吻合为一体，置各种混乱纷争于不顾，把卑贱与尊贵都等同起来。人们总是一心忙于去争辩是非，圣人却好像十分愚昧无所觉察，糅合古往今来多少变异、沉浮，自身却浑成一体不为纷杂错异所困扰。万物全都是这样，而且因为这个缘故相互蕴积于浑朴而又精纯的状态之中。</p>
<p>“我怎么知道贪恋活在世上不是困惑呢？我又怎么知道厌恶死亡不是年幼流落他乡而老大还不知回归呢？丽姬是艾地封疆守土之人的女儿，晋国征伐丽戎时俘获了她，她当时哭得泪水浸透了衣襟；等她到晋国进入王宫，跟晋侯同睡一床而宠为夫人，吃上美味珍馐，也就后悔当初不该那么伤心地哭泣了。我又怎么知道那些死去的人不会后悔当初的求生呢？睡梦里饮酒作乐的人，天亮醒来后很可能痛哭饮泣；睡梦中痛哭饮泣的人，天亮醒来后又可能在欢快地逐围打猎。正当他在做梦的时候，他并不知道自己是在做梦。睡梦中还会卜问所做之梦的吉凶，醒来以后方知是在做梦。人在最为清醒的时候方才知道他自身也是一场大梦，而愚昧的人则自以为清醒，好像什么都知晓什么都明了。君尊牧卑，这种看法实在是浅薄鄙陋呀！孔丘和你都是在做梦，我说你们在做梦，其实我也在做梦。上面讲的这番话，它的名字可以叫作奇特和怪异。万世之后假若一朝遇上一位大圣人，悟出上述一番话的道理，这恐怕也是偶而遇上的吧！</p>
<p>“倘使我和你展开辩论，你胜了我，我没有胜你，那么，你果真对，我果真错吗？我胜了你，你没有胜我，我果真对，你果真错吗？难道我们两人有谁是正确的，有谁是不正确的吗？难道我们两人都是正确的，或都是不正确的吗？我和你都无从知道，而世人原本也都承受着蒙昧与晦暗，我们又能让谁作出正确的裁定？让观点跟你相同的人来判定吗？既然看法跟你相同，怎么能作出公正的评判！让观点跟我相同的人来判定吗？既然看法跟我相同，怎么能作出公正的评判！让观点不同于我和你的人来判定吗？既然看法不同于我和你，怎么能作出公正的评判！让观点跟我和你都相同的人来判定吗？既然看法跟我和你都相同，又怎么能作出公正的评判！如此，那么我和你跟大家都无从知道这一点，还等待别的什么人呢？辩论中的不同言辞跟变化中的不同声音一样相互对立，就像没有相互对立一样，都不能相互作出公正的评判。用自然的分际来调和它，用无尽的变化来顺应它，还是用这样的办法来了此一生吧。</p>
<p>“什么叫调和自然的分际呢？对的也就像是不对的，正确的也就像是不正确的。对的假如果真是对的，那么对的不同于不对的，这就不须去争辩；正确的假如果真是正确的，那么正确的不同于不正确的，这也不须去争辩。忘掉死生忘掉是非，到达无穷无尽的境界，因此圣人总把自己寄托于无穷无尽的境域之中。”</p>
<p>【原文】</p>
<p>罔两问景曰①：“曩子行②，今子止；曩子坐，今子起。何其无特操与③？”景曰：“吾有待而然者邪④？吾所待又有待而然者邪？吾待蛇蚹蜩翼邪⑤？恶识所以然？恶识所以不然？”</p>
<p>昔者庄周梦为胡蝶⑥，栩栩然胡蝶也⑦，自喻适志与⑧！不知周也。俄然觉⑨，则蘧蘧然周也⑩。不知周之梦为胡蝶与，胡蝶之梦为周与？周与胡蝶，则必有分矣。此之谓物化(11)。</p>
<p>【注释】</p>
<p>①罔两：影子之外的微阴。景：影子；这个意义后代写作“影”。</p>
<p>②曩（ｎǎｎｇ）：以往，从前。</p>
<p>③特：独。操：操守。</p>
<p>④待：依靠，凭借。</p>
<p>⑤蚹（ｆù）：蛇肚腹下的横鳞，蛇赖此行走。蜩：蝉。</p>
<p>⑥胡蝶：亦作蜩蝶。</p>
<p>⑦栩（ｘǔ）栩然：欣然自得的样子。</p>
<p>⑧喻：通作“愉”，愉快。适志：合乎心意，心情愉快。</p>
<p>⑨俄然：突然。</p>
<p>⑩蘧（ｑú）蘧然：惊惶的样子。</p>
<p>(11)物化：事物自身的变化。根据本段文意，所谓变化即外物与自我的交合，推进一步，一切事物也都将浑而为一。</p>
<p>【译文】</p>
<p>影子之外的微阴问影子：“先前你行走，现在又停下；以往你坐着，如今又站了起来。你怎么没有自己独立的操守呢？”影子回答说：“我是有所依凭才这样的吗？我所依凭的东西又有所依凭才这样的吗？我所依凭的东西难道像蛇的蚹鳞和鸣蝉的翅膀吗？我怎么知道因为什么缘故会是这样？我又怎么知道因为什么缘故而不会是这样？”</p>
<p>过去庄周梦见自己变成蝴蝶，欣然自得地飞舞着的一只蝴蝶，感到多么愉快和惬意啊！不知道自己原本是庄周。突然间醒起来，惊惶不定之间方知原来是我庄周。不知是庄周梦中变成蝴蝶呢，还是蝴蝶梦见自己变成庄周呢？庄周与蝴蝶那必定是有区别的。这就可叫做物、我的交合与变化。</p>
<h3 id="人间世"><a href="#人间世" class="headerlink" title="人间世"></a>人间世</h3><p>人间世</p>
<p>【题解】</p>
<p>《人间世》的中心是讨论处世之道，既表述了庄子所主张的处人与自处的人生态度，也揭示出庄子处世的哲学观点。</p>
<p>全文可分为前后两大部分，前一部分至“可不惧邪”，以下为后一部分。前一部分假托三个故事：孔子在颜回打算出仕卫国时对他的谈话，叶公子高将出使齐国时向孔子的求教，颜阖被请去做卫太子师傅时向蘧伯玉的讨教，以此来说明处世之难，不可不慎。怎样才能应付艰难的世事呢？《庄子》首先提出要“心斋”，即“虚以待物”。再则提出要“知其不可奈何而安之若命”，第三提出要“正女身”，并“形莫若就”，“心莫若和”。归结到一点仍旧是“无己”。第二部分着力表达“无用”之为有用，用树木不成材却终享天年和支离疏形体不全却避除了许多灾祸来比喻说明，最后一句“人皆知有用之用，而莫知无用之用”，便是整个第二部分的结语。前后两部分是互补的，世事艰难推出了“无用”之用的观点，“无用”之用正是“虚以待物”的体现。“无用”之用决定了庄子“虚无”的人生态度，但也充满了辩证法，有用和无用是客观的，但也是相对的，而且在特定环境里还会出现转化。</p>
<p>【原文】</p>
<p>颜回见仲尼①，请行。曰：“奚之②？”曰：“将之卫。”曰：“奚为焉？”曰：“回闻卫君，其年壮，其行独③；轻用其国，而不见其过；轻用民死，死者以国量乎泽若蕉④，民其无如矣⑤。回尝闻之夫子曰：‘治国去之⑥，乱国就之⑦，医门多疾’。愿以所闻思其则⑧，庶几其国有瘳乎⑨！”</p>
<p>仲尼曰：“！若殆往而刑耳⑩！夫道不欲杂，杂则多，多则扰，扰则忧，忧而不救。古之至人，先存诸己而后存诸人(11)。所存于己者未定，何暇至于暴人之所行(12)！</p>
<p>“且若亦知夫德之所荡而知之所为出乎哉(13)？德荡乎名，知出乎争。名也者，相轧也(14)；知也者，争之器也。二者凶器，非所以尽行也。</p>
<p>“且德厚信矼(15)，未达人气(16)，名闻不争，未达人心。而强以仁义绳墨之言术暴人之前者(17)，是以人恶有其美也(18)，命之曰菑人(19)。菑人者，人必反菑之，若殆为人菑夫？且苟为悦贤而恶不肖(20)，恶用而求有以异(21)？若唯无诏(22)，王公必将乘人而斗其捷(23)。而目将荧之(24)，而色将平之(25)，口将营之(26)，容将形之(27)，心且成之(28)。是以火救火，以水救水，名之曰益多。顺始无穷，若殆以不信厚言，必死于暴人之前矣！</p>
<p>“且昔者桀杀关龙逢(29)，纣杀王子比干(30)，是皆修其身以下伛拊人之民(31)，以下拂其上者也(32)，故其君因其修以挤之(33)。是好名者也。昔者尧攻丛枝、胥敖(34)，禹攻有扈(35)，国为虚厉(36)，身为刑戳；其用兵不止，其求实无已(37)。是皆求名实者也，而独不闻之乎？名实者，圣人之所不能胜也，而况若乎！虽然，若必有以也(38)，尝以语我来(39)！”</p>
<p>【注释】</p>
<p>①颜回：孔子的弟子，姓颜名回字子渊，鲁国人。仲尼：孔子，仲尼为字。孔子与颜回的这段谈话完全出自假托。</p>
<p>②之：往。</p>
<p>③独：专断。</p>
<p>④蕉：草芥。</p>
<p>⑤如：往。“无如”意思是没有归往的地方。</p>
<p>⑥去：离。</p>
<p>⑦就：趋赴，前往。</p>
<p>⑧以：用，根据。则：准则，办法。</p>
<p>⑨庶几：也许可以；含有希望的意思。瘳（ｃｈōｕ）：病愈，这里指国家恢复了元气。</p>
<p>⑩殆：恐怕，大概。刑：遭受刑戳。</p>
<p>(11)存：存立，这里指道德修养的建立。</p>
<p>(12)暴人：施政暴虐的人，这里指卫国国君。</p>
<p>(13)荡：丧失，毁坏。所为：讲作“……的原因”。</p>
<p>(14)轧：倾轧。</p>
<p>(15)矼（ｑｉāｎｇ）：坚实、笃厚。</p>
<p>(16)人气：犹言民情、民心，与下句的“人心”意思相近。“未达人气”、“未达人心”，意思是未能得到人们广泛的理解。</p>
<p>(17) 绳墨：喻指规矩、规范。术（術）：通作“述”。一说“術”字是“衒”字之误，卖弄的意思。</p>
<p>(18)此句就上下文意看很难串通。一说“有”字乃是“育”字之误，讲作“卖”，即“鬻”的意思。其：己；三人称代词变用为己称。</p>
<p>(19)命之：名之，称谓它。菑（ｚāｉ）：“災”字的异体，“災”字今简化为“灾”。</p>
<p>(20)悦：喜好。不肖：不像，这里指不学好。</p>
<p>(21)而：汝，你。</p>
<p>(22)唯：只。诏：告，这里指向卫君进言。</p>
<p>(23)王公：指卫君。乘：趁；“乘人”就是抓住说话人说漏了嘴的机会。一说讲作借助国君的威势。捷：形容言语快捷善辩，不让说话对方有喘息思考的机会。</p>
<p>(24)荧（ｙíｎｇ）：眩，迷惑。</p>
<p>(25)色：脸色。平：平和。</p>
<p>(26)营：营救，这里指用言语自我解脱。</p>
<p>(27)容：容颜、态度。形：显露，表现。</p>
<p>(28)成之：以之为成，把对方的作为加以认可。</p>
<p>(29)桀：夏代最后一个国君，素以暴虐称著于史。关龙逢：夏桀时代的贤臣，因直言劝谏而被夏桀杀害。</p>
<p>(30)纣：商代最后一个国君，史传又一个暴君。比干：商纣王的庶出叔叔，也因力谏而被纣王杀害。</p>
<p>(31) 下：下位，居于臣下之位。伛（ｙǔ）拊（ｆǔ）：怜爱抚育。人：人君的省称。</p>
<p>(32)拂：违反。上：居于上位的人，这里指国君。</p>
<p>(33)修：美好，这里专指很有道德修养。挤：排斥。</p>
<p>(34)丛枝、胥敖：帝尧时代的两个部落小国的国名。《齐物论》中有宗、脍、胥敖之称，“丛枝”疑即“宗”、“脍”，姑备参考。</p>
<p>(35)有扈：古国名。</p>
<p>(36)虚：墟所，这个意义后代写作“墟”。厉：人死而无后代。</p>
<p>(37)实：实利。已：止。</p>
<p>(38)有以：有所依凭。</p>
<p>(39)以语我：把它告诉给我。来：句末语气词，表示感叹。</p>
<p>【译文】</p>
<p>颜回拜见老师仲尼，请求同意他出远门。孔子说：“到哪里去呢？”颜回回答：“打算去卫国。”孔子说：“去卫国干什么呢？”颜回说：“我听说卫国的国君，他正年轻，办事专断；轻率地处理政事，却看不到自己的过失；轻率地役使百姓使人民大量死亡，死人遍及全国不可称数，就像大泽中的草芥一样，百姓都失去了可以归往的地方。我曾听老师说：‘治理得好的国家可以离开它。治理得不好的国家却要去到那里，就好像医生门前病人多一样’。我希望根据先生的这些教诲思考治理卫国的办法，卫国也许还可以逐步恢复元气吧！”</p>
<p>孔子说：“嘻！你恐怕去到卫国就会遭到杀害啊！推行大道是不宜掺杂的，杂乱了就会事绪繁多，事绪繁多就会心生扰乱，心生扰乱就会产生忧患，忧患多了也就自身难保，更何况拯救国家。古时候道德修养高尚的至人，总是先使自己日臻成熟方才去扶助他人。如今在自己的道德修养方面还没有什么建树，哪里还有什么工夫到暴君那里去推行大道！</p>
<p>“你懂得道德毁败和智慧表露的原因吗？道德的毁败在于追求名声，智慧的表露在于争辩是非。名声是互相倾轧的原因，智慧是互相争斗的工具。二者都像是凶器，不可以将它推行于世。</p>
<p>“一个人虽然德行纯厚诚实笃守，可未必能和对方声气相通，一个人虽然不争名声，可未必能得到广泛的理解。而勉强把仁义和规范之类的言辞述说于暴君面前，这就好比用别人的丑行来显示自己的美德，这样的做法可以说是害人。害人的人一定会被别人所害，你这样做恐怕会遭到别人的伤害的呀！况且，假如说卫君喜好贤能而讨厌恶人，那么，哪里还用得着等待你去才有所改变？你果真去到卫国也只能是不向卫君进言，否则卫君一定会紧紧抓住你偶然说漏嘴的机会快捷地向你展开争辩。你必将眼花缭乱，而面色将佯作平和，你说话自顾不暇，容颜将被迫俯就，内心也就姑且认同卫君的所作所为了。这样做就像是用火救火，用水救水，可以称之为错上加错。有了依顺他的开始，以后顺从他的旨意便会没完没了，假如你未能取信便深深进言，那么一定会死在这位暴君面前。</p>
<p>“从前，夏桀杀害了敢于直谏的关龙逢，商纣王杀害了力谏的叔叔比干，这些贤臣他们都十分注重自身的道德修养而以臣下的地位抚爱人君的百姓，同时也以臣下的地位违逆了他们的国君，所以他们的国君就因为他们道德修养高尚而排斥他们、杀害了他们。这就是喜好名声的结果。当年帝尧征伐丛枝和胥敖，夏禹攻打有扈，三国的土地变成废墟，人民全都死尽，而国君自身也遭受杀戳，原因就是三国不停地使用武力，贪求别国的土地和人口。这些都是求名求利的结果，你偏偏就没有听说过吗？名声和实利，就是圣人也不可能超越，何况是你呢？虽然这样，你必定有所依凭，你就试着把它告诉我吧！”</p>
<p>【原文】</p>
<p>颜回曰：“端而虚①，勉而一②。则可乎？”曰：“恶③，恶可！夫以阳为充孔扬④，采色不定⑤，常人之所不违，因案人之所感⑥，以求容与其心⑦，名之曰日渐之德不成⑧，而况大德乎！将执而不化⑨，外合而内不訾⑩，其庸讵可乎(11)！”</p>
<p>“然则我内直而外曲(12)，成而上比(13)。内直者，与天为徒(14)。与天为徒者，知天子之与己皆天之所子(15)。而独以己言蕲乎而人善之(16)，蕲乎而人不善之邪？若然者，人谓之童子(17)，是之谓与天为徒。外曲者，与人之为徒也。擎跽曲拳(18)，人臣之礼也，人皆为之，吾敢不为邪？为人之所为者，人亦无疵焉(19)，是之谓与人为徒。成而上比者，与古为徒，其言虽教，讁之实也(20)；古之有也，非吾有也。若然者，虽直而不病(21)，是之谓与古为徒。若是则可乎？”仲尼曰：“恶，恶可！大多政法而不谍(22)，虽固亦无罪(23)。虽然，止是耳矣(24)，夫胡可以及化(25)！犹师心者也(26)。”</p>
<p>颜回曰：“吾无以进矣，敢问其方(27)。”仲尼曰：“斋(28)，吾将语若！有心而为之(29)，其易邪？易之者，暤天不宜(30)。”颜回曰：“回之家贫，唯不饮酒不茹荤者数月矣(31)。如此，则可以为斋乎？”曰：“是祭祀之斋，非心斋也(32)。”回曰：“敢问心斋。”仲尼曰：“若一志(33)，无听之以耳而听之以心，无听之以心而听之以气(34)！听止于耳(35)，心止于符(36)。气也者，虚而待物者也。唯道集虚(37)。虚者，心斋也。”</p>
<p>颜回曰：“回之未始得使(38)，实自回也(39)；得使之也，未始有回也。可谓虚乎？”夫子曰：“尽矣(40)。吾语若！若能入游其樊而无感其名(41)，入则鸣(42)，不入则止。无门无毒(43)，一宅而寓于不得已(44)，则几矣(45)。绝迹易，无行地难(46)。为人使易以伪(47)，为天使难以伪。闻以有翼飞者矣，未闻以无翼飞者也；闻以有知知者矣，未闻以无知知者也(48)。瞻彼阕者(49)，虚室生白(50)，吉祥止止(51)。夫且不止，是之谓坐驰(52)，夫徇耳目内通而外于心知(53)，鬼神将来舍，而况人乎！是万物之化也，禹舜之所纽也(54)，伏戏几蘧之所行终(55)，而况散焉者乎(56)！”</p>
<p>【注释】</p>
<p>①端：端庄、正派。虚：虚豁、谦逊。“端”指外表，“虚”指内心。</p>
<p>②勉：勤恳努力。一：这里是始终如一，忠贞不二的意思。</p>
<p>③恶（ｗū）：叹词，驳斥之声；与下句疑问代词用法的“恶”不同。</p>
<p>④阳：指刚猛之盛气。充：满，充斥于心。孔：甚，很。扬：露于外表。</p>
<p>⑤采色：这里指面部表情。“采色不定”犹言“喜怒无常”。</p>
<p>⑥案：压抑，压制。</p>
<p>⑦容与：放纵。</p>
<p>⑧渐：浸渍，润泽。</p>
<p>⑨执：固守己见。</p>
<p>⑩外合：外表赞同。訾（ｚǐ）：非议。“不訾”意思是不愿对自己的言行作出反省。</p>
<p>(11)其：那，那样。庸讵：怎么。</p>
<p>(12)直：正直，光明正大。曲：弯曲，含有俯首曲就的意思。</p>
<p>(13)成：成就，指心中有数，已有成熟的主张和看法。一说引用现成的话。上：上世，指古代。“上比”意思是跟古代的作法相比较。</p>
<p>(14)天：自然。</p>
<p>(15)所子：所养育的子女。</p>
<p>(16)蕲：祈求，希望得到。善之：以之为善，把这样的言论看作是正确的。</p>
<p>(17)童子：未成年的人。</p>
<p>(18)擎：举，这里指手里拿着朝笏（ｈù）。跽：长跪。曲拳：躬身屈体。</p>
<p>(19)疵（ｃī）：诽谤。</p>
<p>(20)讁（ｚｈé）：“谪”字的异体；谴责、责备。</p>
<p>(21)病：怨恨、祸害。</p>
<p>(22)大：太。政：通作“正”，端正、纠正的意思。谍：当。</p>
<p>(23)固：固陋，执着而不通达。</p>
<p>(24)止是：只此。耳矣：罢了。</p>
<p>(25) 胡：何，怎么。</p>
<p>(26)师：讲作以……为师。心：这里指内心的定见。</p>
<p>(27)敢：表示谦敬之词，相当于今天“斗胆地”、“冒昧地”之意。方：办法。</p>
<p>(28)斋：斋戒，指祭祀前的清心洁身，这里专指清心。</p>
<p>(29)有心：指怀有积极用世之心。</p>
<p>(30)暤（ｈàｏ）：通作“昊”，广大的意思。“暤天”就是“大天”。宜：当，合适。</p>
<p>(31)茹：吃。荤：旧注指荤辛，即葱蒜之类的菜。</p>
<p>(32)心斋：内心的斋戒。</p>
<p>(33)一：专一。“一志”意思是凝寂虚忘，摒除杂念，心思高度专一。</p>
<p>(34)气：“气”在中国古代哲学中是一极为重要的概念，指构成宇宙万物的本原。但这里是指虚以待物的心境。</p>
<p>(35)“听止于耳”一句，联系下句当是“耳止于听”之误倒。</p>
<p>(36)符：合。</p>
<p>(37)虚：这里指纯净、空明的境界。</p>
<p>(38)得使：意思是禀受了心斋的教诲。</p>
<p>(39)自：疑是“有”字之误。</p>
<p>(40)尽：详尽，指颜回的上述言论对于“心斋”的理解，说得十分深透。</p>
<p>(41)樊：篱笆，喻指卫君统治的范围，并暗含追名逐利之场所的意思。感其名：为名利地位所动。</p>
<p>(42)入：采纳进谏。</p>
<p>(43)毒：通作“壔”（ｄǎｏ），累积土石用作保卫门栏的土台，喻指索求门径的标的。</p>
<p>(44)一：心思高度集中。宅：这里用指心灵的位置。“一宅”意思就是心灵安于凝聚专一，全无杂念。</p>
<p>(45)几：近，意思是做到了这一步就接近于大道，符合“心斋”的要求了。</p>
<p>(46)无行地：行走却不践地，喻指做了什么事都不留下痕迹。</p>
<p>(47)使：驱使。伪：假。</p>
<p>(48)有知知者：前者读ｚｈì，智慧、才能之意。后者读ｚｈī，意即认识、了解。</p>
<p>(49)瞻（ｚｈāｎ）：望。阕（ｑｕè）：空虚。</p>
<p>(50)虚室：空灵的精神世界。白：洁净，指什么也不存在的虚无的心理状态。</p>
<p>(51)止止：意思是止于凝静的心境。</p>
<p>(52)坐驰：形体坐在那里而心理却驰骋于他处。</p>
<p>(53)徇：使。内通，向内通达。外：这里是排除的意思。心知：心智。</p>
<p>(54)纽：枢纽，关键。</p>
<p>(55)伏戏、几蘧（ｑú）：传说时代的远古帝王。“伏戏”多写为“伏羲”。终：到底，遵循始终。</p>
<p>(56)“散焉者”指疏散的人，即普通、平常的人。</p>
<p>【译文】</p>
<p>颜回说：“我外表端庄内心虚豁，勤奋努力终始如一，这样就可以了吗？”孔子说：“唉，这怎么可以呢！卫君刚猛暴烈盛气露于言表，而且喜怒无常，人们都不敢有丝毫违背他的地方，他也借此压抑人们的真实感受和不同观点，以此来放纵他的欲望。这真可以说是每日用道德来感化都不会有成效，更何况用大德来劝导呢？他必将固守己见而不会改变，表面赞同而内心里也不会对自己的言行作出反省，你那样的想法怎么能行得通呢？”</p>
<p>颜回说：“如此，那我就内心秉正诚直而外表俯首曲就，内心自有主见并处处跟古代贤人作比较。内心秉正诚直，这就是与自然为同类。跟自然为同类，可知国君与自己都是上天养育的子女。又何必把自己的言论宣之于外而希望得到人们的赞同，还是希望人们不予赞同呢？象这样做，人们就会称之为未失童心，这就叫跟自然为同类。外表俯首曲就的人，是跟世人为同类。手拿朝笏躬身下拜，这是做臣子的礼节，别人都这样去做，我敢不这样做吗？做一般人臣都做的事，人们也就不会责难了吧，这就叫跟世人为同类。心有成见而上比古代贤人，是跟古人为同类。他们的言论虽然很有教益，指责世事才是真情实意。这样做自古就有，并不是从我才开始的。像这样做，虽然正直不阿却也不会受到伤害，这就叫跟古人为同类。这样做便可以了吗？”孔子说：“唉，怎么可以呢？太多的事情需要纠正，就是有所效法也会出现不当，虽然固陋而不通达也没有什么罪责。即使这样，也不过如此而已，又怎么能感化他呢！你好像是太执着于自己内心成见的人哩。”</p>
<p>颜回说：“我没有更好的办法了，冒昧地向老师求教方策。”孔子说：“斋戒清心，我将告诉你！如果怀着积极用世之心去做，难道是容易的吗？如果这样做也很容易的话，苍天也会认为是不适宜的。”颜回说：“我颜回家境贫穷，不饮酒浆、不吃荤食已经好几个月了，像这样，可以说是斋戒了吧？”孔子说：“这是祭祀前的所谓斋戒，并不是‘心斋。’颜回说：“我请教什么是‘心斋’。”孔子说：“你必须摒除杂念，专一心思，不用耳去听而用心去领悟，不用心去领悟而用凝寂虚无的意境去感应！耳的功用仅只在于聆听，心的功用仅只在于跟外界事物交合。凝寂虚无的心境才是虚弱柔顺而能应待宇宙万物的，只有大道才能汇集于凝寂虚无的心境。虚无空明的心境就叫做‘心斋’。”</p>
<p>颜回说：“我不曾禀受过‘心斋’的教诲，所以确实存在一个真实的颜回；我禀受了‘心斋’的教诲，我便顿时感到不曾有过真实的颜回。这可以叫做虚无空明的境界吗？”孔子说：“你对‘心斋’的理解实在十分透彻。我再告诉你，假如能够进入到追名逐利的环境中遨游而又不为名利地位所动，卫君能采纳你阐明你的观点，不能采纳你就停止不说，不去寻找仕途的门径，也不向世人提示索求的标的，心思凝聚全无杂念，把自己寄托于无可奈何的境域，那么就差不多合于‘心斋’的要求了。一个人不走路容易，走了路不在地上留下痕迹就很难。受世人的驱遣容易伪装，受自然的驱遣便很难作假。听说过凭借翅膀才能飞翔，不曾听说过没有翅膀也能飞翔；听说过有智慧才能了解事物，不曾听说过没有智慧也可以了解事物。看一看那空旷的环宇，空明的心境顿时独存精白，而什么也都不复存在，一切吉祥之事都消逝于凝静的境界。至此还不能凝止，这就叫形坐神驰。倘若让耳目的感观向内通达而又排除心智于外，那么鬼神将会前来归附，何况是人呢！这就是万物的变化，是禹和舜所把握的要领，也是伏羲、几蘧所遵循始终的道理，何况普通的人呢！”</p>
<p>【原文】</p>
<p>叶公子高将使于齐①，问于仲尼曰：“王使诸梁也甚重②，齐之待使者，盖将甚敬而不急，匹夫犹未可动，而况诸侯乎！吾甚慄之③。子常语诸梁也曰：‘凡事若小若大④，寡不道以懽成⑤。事若不成，则必有人道之患⑥；事若成，则必有阴阳之患⑦。若成若不成而后无患者，唯有德者能之。’吾食也执粗而不臧⑧，爨无欲清之人⑨。今吾朝受命而夕饮冰，我其内热与⑩！吾未至乎事之情(11)，而既有阴阳之患矣；事若不成，必有人道之患。是两也，为人臣者不足以任之(12)，子其有以语我来！”</p>
<p>仲尼曰：“天下有大戒二(13)：其一命也，其一义也。子之爱亲，命也，不可解于心；臣之事君，义也，无适而非君也(14)，无所逃于天地之间。是之谓大戒。是以夫事其亲者，不择地而安之，孝之至也；夫事其君者，不择事而安之，忠之盛也(15)；自事其心者(16)，哀乐不易施乎前(17)，知其不可奈何而安之若命，德之至也。为人臣子者，固有所不得已。行事之情而忘其身，何暇至于悦生而恶生！夫子其行可矣！</p>
<p>“丘请复以所闻：凡交近则必相靡以信(18)，远则必忠之以言(19)，言必或传之。夫传两喜两怒之言(20)，天下之难者也。夫两喜必多溢美之言(21)，两怒必多溢恶之言。凡溢之类妄(22)，妄则其信之也莫(23)，莫则传言者殃。故法言曰(24)：‘传其常情，无传其溢言，则几乎全’(25)。且以巧斗力者(26)，始乎阳(27)，常卒乎阴(28)，秦至则多奇巧(29)；以礼饮酒者，始乎治(30)，常卒乎乱，秦至则多奇乐(31)。凡事亦然：始乎谅(32)，常卒乎鄙(33)；其作始也简，其将毕也必巨。</p>
<p>“言者，风波也；行者，实丧也(34)。夫风波易以动，实丧易以危。故忿设无由(35)，巧言偏辞(36)。兽死不择音，气息茀然(37)，于是并生心厉(38)。剋核大至(39)，则必有不肖之心应之(40)，而不知其然也。苟为不知其然也，孰知其所终！故法言曰：‘无迁令(41)，无劝成(42)，过度益也(43)’。迁令劝成殆事(44)，美成在久(45)，恶成不及改，可不慎与！且夫乘物以游心(46)，讬不得已以养中(47)，至矣。何作为报也(48)！莫若为致命(49)，此其难者！”</p>
<p>【注释】</p>
<p>①叶公子高：楚庄王玄孙尹成子，名诸梁，字子高。为楚大夫，封于叶（旧注读为ｓｈè），自僭（ｊｉàｎ）为“公”，故有“叶公子高”之称。使：出使。</p>
<p>②使诸梁：以诸梁为使。</p>
<p>③慄：恐惧。</p>
<p>④若：或者。</p>
<p>⑤寡：少。道：由，通过。懽：“歡”字的异体，今简作“欢”。“欢成”，指圆满的结果。</p>
<p>⑥人道之患：人为的祸害，指国君的惩罚。</p>
<p>⑦阴：事未办成时的忧惧。阳：事已办成时的喜悦。这里是说忽忧忽喜而交集于心，势必失调以致病患。</p>
<p>⑧执粗：食用粗茶淡饭。臧：好。“不臧”指不精美的食品。</p>
<p>⑨爨（ｃｕàｎ）：炊，烹饪食物。这句话颇费解，联系上下文大意是，烹饪食物也就无须解凉散热的人。</p>
<p>⑩内热：内心烦躁和焦虑。</p>
<p>(11)情：真实。</p>
<p>(12)任：承担。</p>
<p>(13)戒：法。“大戒”指人生足以为戒的大法。</p>
<p>(14)无适而非君也：适，往、到。全句是说，天下虽大，但所到之处，没有不受国君统治的地方。</p>
<p>(15)盛：极点、顶点。</p>
<p>(16)自事其心：侍奉自己的心思，意思是注意培养自己的道德修养。</p>
<p>(17)施（ｙí）：移动，影响。</p>
<p>(18)靡（ｍō）：通作“摩”，爱抚顺从的意思。一说通作“縻”，维系的意思。“相靡以信”，用诚信相互和顺与亲近。</p>
<p>(19)忠之以言：用忠实的语言相交。一说“忠”字为“怘”字之误，“怘”为固字之古体。</p>
<p>(20)两喜两怒之言：两国国君或喜或怒的言辞。</p>
<p>(21)溢：满，超出。“溢美之言”指过分夸赞的言辞。下句“溢恶之言”对文，指过分憎恶的话。</p>
<p>(22)妄：虚假。</p>
<p>(23)莫：薄。“信之以莫”意思是真实程度值得怀疑。</p>
<p>(24)法言：古代的格言。</p>
<p>(25)全：保全。</p>
<p>(26)斗力：相互较力，犹言相互争斗。</p>
<p>(27)阳：指公开地争斗。</p>
<p>(28)卒：终。阴：指暗地里使计谋。</p>
<p>(29)泰至：大至，达到极点。奇巧：指玩弄阴谋。</p>
<p>(30)治：指合乎常理和规矩。</p>
<p>(31)奇乐：放纵无度。</p>
<p>(32)谅：取信，相互信任。</p>
<p>(33)鄙：恶，欺诈。</p>
<p>(34)实丧：得失。这句话是说，传递语言总会有得有失。</p>
<p>(35)设：置，含有发作、产生的意思。</p>
<p>(36)巧：虚浮不实。偏：片面的。</p>
<p>(37)茀（ｂó）：通作“勃”；“茀然”，气息急促的样子。</p>
<p>(38)厉：狠虐；“心厉”，指伤害人的恶念。</p>
<p>(39)剋：“克”字的异体。“剋核”，即苛责。</p>
<p>(40)不肖：不善，不正。</p>
<p>(41)迁：改变。</p>
<p>(42)劝：勉力；这里含有力不能及却勉强去做的意思。成：指办成功什么事。“劝成”，意思是勉强让人去做成某一件事。</p>
<p>(43)益：添加。一说“益”就是“溢”的意思，即前面所说的“溢之类妄”的含意。</p>
<p>(44)殆：危险。“殆事”犹言“坏事”。</p>
<p>(45)美成：意思是美好的事情要做成功。下句“恶成”对文，意思是坏事做成了。</p>
<p>(46)乘物：顺应客观事物。</p>
<p>(47)中：中气，这里指神智。</p>
<p>(48)作：作意。大意是何必为齐国作意其间。</p>
<p>(49) 为致命：原原本本地传达国君的意见。一说“命”当讲作天命，即自然的意思，则全句大意是不如顺应自然。</p>
<p>【译文】</p>
<p>叶公子高将要出使齐国，他向孔子请教：“楚王派我诸梁出使齐国，责任重大。齐国接待外来使节，总是表面恭敬而内心怠慢。平常老百姓尚且不易说服，何况是诸侯呢！我心里十分害怕。您常对我说：‘事情无论大小，很少有不通过言语的交往可以获得圆满结果的。事情如果办不成功，那么必定会受到国君惩罚；事情如果办成功了，那又一定会忧喜交集酿出病害。事情办成功或者办不成功都不会留下祸患，只有道德高尚的人才能做到。’我每天吃的都是粗糙不精美的食物，烹饪食物的人也就无须解凉散热。我今天早上接受国君诏命到了晚上就得饮用冰水，恐怕是因为我内心焦躁担忧吧！我还不曾接触到事的真情，就已经有了忧喜交加所导致的病患；事情假如真办不成，那一定还会受到国君惩罚。成与不成这两种结果，做臣子的我都不足以承担，先生你大概有什么可以教导我吧！”</p>
<p>孔子说：“天下有两个足以为戒的大法：一是天命，一是道义。做儿女的敬爱双亲，这是自然的天性，是无法从内心解释的；臣子侍奉国君，这是人为的道义，天地之间无论到什么地方都不会没有国君的统治，这是无法逃避的现实。这就叫做足以为戒的大法。所以侍奉双亲的人，无论什么样的境遇都要使父母安适，这是孝心的最高表现；侍奉国君的人，无论办什么样的事都要让国君放心，这是尽忠的极点。注重自我修养的人，悲哀和欢乐都不容易使他受到影响，知道世事艰难，无可奈何却又能安于处境、顺应自然，这就是道德修养的最高境界。做臣子的原本就会有不得已的事情，遇事要能把握真情并忘掉自身，哪里还顾得上眷恋人生、厌恶死亡呢！你这样去做就可以了！</p>
<p>“不过我还是把我所听到的道理再告诉你：不凡与邻近国家交往一定要用诚信使相互之间和顺亲近，而与远方国家交往则必定要用语言来表示相互间的忠诚。国家间交往的语言总得有人相互传递。传递两国国君喜怒的言辞，乃是天下最困难的事。两国国君喜悦的言辞必定添加了许多过分的夸赞，两国国君愤怒的言辞必定添加了许多过分的憎恶。大凡过度的话语都类似于虚构，虚构的言辞其真实程度也就值得怀疑，国君产生怀疑传达信息的使者就要遭殃。所以古代格言说：‘传达平实的言辞，不要传达过分的话语，那么也就差不多可以保全自己了’。况且以智巧相互较量的人，开始时平和开朗，后来就常常暗使计谋，达到极点时则大耍阴谋、倍生诡计。按照礼节饮酒的人，开始时规规矩矩合乎人情，到后来常常就一片混乱大失礼仪，达到极点时则荒诞淫乐、放纵无度。无论什么事情恐怕都是这样：开始时相互信任，到头来互相欺诈；开始时单纯细微，临近结束时便变得纷繁巨大。</p>
<p>“言语犹如风吹的水波，传达言语定会有得有失。风吹波浪容易动荡，有了得失容易出现危难。所以愤怒发作没有别的什么缘由，就是因为言辞虚浮而又片面失当。猛兽临死时什么声音都叫得出来，气息急促喘息不定，于是迸发伤人害命的恶念。大凡过分苛责，必会产生不好的念头来应付，而他自己也不知道这是怎么回事。假如做了些什么而他自己却又不知道那是怎么回事，谁还能知道他会有怎样的结果！所以古代格言说：‘不要随意改变已经下达的命令，不要勉强他人去做力不从心的事，说话过头一定是多余、添加的’。改变成命或者强人所难都是危险，成就一桩好事要经历很长的时间，坏事一旦做出悔改是来不及的。行为处世能不审慎吗！至于顺应自然而使心志自在遨游，一切都寄托于无可奈何以养蓄神智，这就是最好的办法。有什么必要作意回报！不如原原本本地传达国君所给的使命，这样做有什么困难呢！”</p>
<p>【原文】</p>
<p>颜阖将傅卫灵公大子①，而问于蘧伯玉曰②：“有人于此，其德天杀③。与之为无方④，则危吾国；与之为有方，则危吾身。其知适足以知人之过⑤，而不知其所以过⑥。若然者，吾奈之何？”</p>
<p>蘧伯玉曰：“善哉问乎！戒之慎之，正女身也哉！形莫若就⑦，心莫若和⑧。虽然，之二者有患⑨。就不欲入⑩，和不欲出(11)。形就而入，且为颠为灭(12)，为崩为蹶(13)。心和而出，且为声为名(14)，为妖为孽(15)。彼且为婴儿，亦与之为婴儿；彼且为无町畦(16)，亦与之为无町畦；彼且为无崖(17)，亦与之为无崖。达之(18)，入于无疵(19)。</p>
<p>“汝不知夫螳螂乎？怒其臂以当车辙(20)，不知其不胜任也，是其才之美者也(21)。戒之，慎之！积伐而美者以犯之(22)，几矣(23)。汝不知夫养虎者乎？不敢以生物与之(24)，为其杀之之怒也(25)；不敢以全物与之，为其决之之怒也(26)。时其饥饱，达其怒心(27)。虎之与人异类而媚养己者(28)，顺也；故其杀者，逆也(29)。</p>
<p>夫爱马者，以筐盛矢(30)，以蜄盛溺(31)。适有蚉仆缘(32)，而拊之不时(33)，则缺衔毁首碎胸(34)。意有所至而爱有所亡(35)，可不慎邪！”</p>
<p>【注释】</p>
<p>①颜阖：鲁国的贤人。傅卫灵公大子：给卫灵公太子作师傅。大（ｔàｉ）子：太子。</p>
<p>②蘧（ｑú）伯玉：卫国的贤大夫，名瑗，字伯玉。</p>
<p>③天杀：生就的凶残嗜杀。</p>
<p>④与之：朝夕与共的意思。方：法度、规范。</p>
<p>⑤其知（ｚｈì）：他们的智慧。⑥其：“其”字的指代含意旧注指前句之有过者，认为公子自身无道，致使百姓有过，全句意思是，却不知道人们为什么出现过错。“其”字一说作反身自代讲，全句意思则是，却不知道自己为什么会出现过错。姑备参考。译文从前一说。</p>
<p>⑦形：外表；与下句“心”相对文。就：靠拢，亲近。</p>
<p>⑧和：顺，含有顺其本性的意思，近似于疏导的含意。</p>
<p>⑨之：这。</p>
<p>⑩入：关系太深。</p>
<p>(11)出：超出，过于显露，与上句“入”字对文。</p>
<p>(12)颠：仆倒，坠落。</p>
<p>(13)崩：毁坏。蹶：失败，挫折。联系前一句，“颠”、“灭”、“崩”、“蹶”均用指“形就而入”可能造成的恶果。</p>
<p>(14)为（ｗèｉ）：为了。本句两个“为”字跟上下三句的另六个“为”字含意不同，其他六个“为”字均是造成、招致的意思。</p>
<p>(15)孽（ｎｉè）：灾害。</p>
<p>(16)町（ｔǐｎｇ）畦（ｑí）：田间的界路，喻指分界、界线。</p>
<p>(17)崖：山边或岸边，“无崖”喻指无边，没有约束。</p>
<p>(18)达：通达，指通过疏导与卫太子思想相通，逐步地使他走上正途。</p>
<p>(19)疵：病，这里指行动上的过失。</p>
<p>(20)怒：奋起。当：阻挡；这个意义后代写作“擋”，简化为“挡”。辙：车轮行过的印记。“车辙”犹言“车轮”。</p>
<p>(21)是其才之美：即“以其才之美为是”，即自恃才能太高。</p>
<p>(22)积：长期不断地。伐：夸耀。而：你。</p>
<p>(23)几：危险。</p>
<p>(24)生物：活物。</p>
<p>(25)为其杀之之怒也：唯恐它扑杀活物时而诱发残杀生物的怒气。</p>
<p>(26)决：裂，撕开。</p>
<p>(27)达：通晓、了解。</p>
<p>(28)异类：不同类。媚：喜爱。</p>
<p>(29)逆：反，触犯。</p>
<p>(30)矢：屎，粪便。</p>
<p>(31)蜄（ｓｈèｎ）：大蛤，这里指蛤壳。溺：尿。</p>
<p>(32)蚉：“蚊”、“虻”两字之异体，即牛虻。仆缘：附着，指叮在马身上。</p>
<p>(33)拊（ｆǔ）：拍击。</p>
<p>(34)衔：马勒口，“缺衔”指咬断了勒口。首：辔头，“毁首”指挣断了辔头。胸：胸饰，“碎胸”指弄坏了络饰。</p>
<p>(35)亡：失。“意有所至”是说本意在于爱马；“爱有所亡”是说失其所爱，适得其反。</p>
<p>【译文】</p>
<p>颜阖将被请去做卫国太子的师傅，他向卫国贤大夫蘧伯玉求教：“如今有这样一个人，他的德行生就凶残嗜杀。跟他朝夕与共如果不符合法度与规范，势必危害自己的国家；如果合乎法度和规范，那又会危害自身。他的智慧足以了解别人的过失，却不了解别人为什么会出现过错。像这样的情况，我将怎么办呢？”</p>
<p>蘧伯玉说：“问得好啊！要警惕，要谨慎，首先要端正你自己！表面上不如顺从依就以示亲近，内心里不如顺其秉性暗暗疏导。即使这样，这两种态度仍有隐患。亲附他不要关系过密，疏导他不要心意太露。外表亲附到关系过密，会招致颠仆毁灭，招致崩溃失败。内心顺性疏导显得太露，将被认为是为了名声，也会招致祸害。他如果像个天真的孩子一样，你也姑且跟他一样像个无知无识的孩子；他如果同你不分界线，那你也就跟他不分界线。他如果跟你无拘无束，那么你也姑且跟他一样无拘无束。慢慢地将他思想疏通引入正轨，便可进一步达到没有过错的地步。</p>
<p>你不了解那螳螂吗？奋起它的臂膀去阻挡滚动的车轮，不明白自己的力量全然不能胜任，还自以为才高智盛很有力量。警惕呀，谨慎呀！经常夸耀自己的才智而触犯了他，就危险了！你不了解那养虎的人吗？他从不敢用活物去喂养老虎，因为他担心扑杀活物会激起老虎凶残的怒气；他也从不敢用整个的动物去喂养老虎，因为他担心撕裂动物也会诱发老虎凶残的怒气。知道老虎饥饱的时刻，通晓老虎暴戾凶残的秉性。老虎与人不同类却向饲养人摇尾乞怜，原因就是养老虎的人能顺应老虎的性子，而那些遭到虐杀的人，是因为触犯了老虎的性情。</p>
<p>爱马的人，以精细的竹筐装马粪，用珍贵的蛤壳接马尿。刚巧一只牛虻叮在马身上，爱马之人出于爱惜随手拍击，没想到马儿受惊便咬断勒口、挣断辔头、弄坏胸络。意在爱马却失其所爱，能够不谨慎吗！”</p>
<p>【原文】</p>
<p>匠石之齐①，至于曲辕，见栎社树②。其大蔽数千牛，絜之百围③，其高临山④，十仞而后有枝⑤，其可以为舟者旁十数⑥。观者如市，匠伯不顾⑦，遂行不辍⑧。弟子厌观之⑨，走及匠石⑩，曰：“自吾执斧斤以随夫子(11)，未尝见材如此其美也。先生不肯视，行不辍，何邪？”曰：“已矣(12)，勿言之矣！散木也(13)，以为舟则沈(14)，以为棺槨则速腐(15)，以为器则速毁，以为门户则液樠(16)，以为柱则蠹(17)。是不材之木也，无所可用，故能若是之寿(18)。”</p>
<p>匠石归，栎社见梦曰(19)：“女将恶乎比予哉(20)？若将比予于文木邪(21)？夫柤梨橘柚(22)，果蓏之属(23)，实熟则剥(24)，剥则辱(25)；大枝折，小枝泄(26)。此以其能若其生者也(27)，故不终其天年而中道夭，自掊击于世俗者也(28)。物莫不若是。且予求无所可用久矣，几死，乃今得之，为予大用(29)。使予也而有用，且得有此大也邪？且也若与予也皆物也，奈何哉其相物也(30)？而几死之散人(31)，又恶知散木！”</p>
<p>匠石觉而诊其梦(32)。弟子曰：“趣取无用(33)，则为社何邪(34)？”曰：“密(35)！若无言！彼亦直寄焉(36)，以为不知己者诟厉也(37)。不为社者，且几有翦乎(38)！且也彼其所保与众异，而以义喻之(39)，不亦远乎！”</p>
<p>【注释】</p>
<p>①匠石：名叫“石”的匠人。之：往。</p>
<p>②栎（ｌì）：树名。社：土神。“栎社树”意思是把栎树当作社神。</p>
<p>③絜（ｘｉé）：用绳子计量周围。围：周长一尺。</p>
<p>④临山：接近山巅。</p>
<p>⑤仞：八尺。</p>
<p>⑥旁：通作“方”，且：将的意思。</p>
<p>⑦匠伯：即匠石。“伯”这里用指工匠之长。</p>
<p>⑧辍（ｃｈｕò）：中止，停。</p>
<p>⑨厌：（厭）：满足，这个意义后代写作“餍”，今简化为“餍”。“厌观”意思是看了个够。</p>
<p>⑩走：跑。及：赶上。</p>
<p>(11)斤：斧之一种，后称“锛”，即横口斧。</p>
<p>(12)已：止。“已矣”犹言“算了”。</p>
<p>(13)散木：指不成材的树木。</p>
<p>(14)以为：即“以之为”，把它做成。沈（ｃｈéｎ）：同“沉”。</p>
<p>(15)槨（ｇｕǒ）：“椁”字的异体，指棺外的套棺。</p>
<p>(16)户：单扇的门。液：浸渍。樠（ｍáｎ）：松木心；“液樠”意思是像松木心那样液出树脂。一说为一树名，其心似松。</p>
<p>(17)蠹（ｄù）：蛀蚀。</p>
<p>(18)若是之寿：像这样的长寿。</p>
<p>(19)见（ｘｉàｎ）：拜见。“见梦”即梦中会见。</p>
<p>(20)比：比并，相提并论。“比予”即跟我相提并论。</p>
<p>(21)文：纹理，这个意义后代写作“纹”。“文木”即可用之木。</p>
<p>(22)柤（ｚｈā）：楂。</p>
<p>(23)蓏（ｌｕǒ）：瓜类植物的果实。属：类。</p>
<p>(24)实：果实。剥：通作“攴（ｐō）”，用器物轻轻打落在地。</p>
<p>(25)辱：屈；意思是果树摘落果实后枝干就随意受人摧残。</p>
<p>(26)泄（ｙè）：通作“抴”；“抴”亦写作“拽”，用力拉的意思。</p>
<p>(27)以：因。苦其一生：使其一生受苦。</p>
<p>(28)掊（ｐǒｕ）：打。</p>
<p>(29)为予大用：这里隐含有“积无用而为大用”的哲理。正因为被人们视为无用之材，所以才保全了自身，这才成就我最大的用处。</p>
<p>(30)相：看待。</p>
<p>(31)散人：不成材的人，相对“散木”说的。</p>
<p>(32) 诊：通作“畛”，告诉的意思。</p>
<p>(33)趣：意趣。“趣取”就是意在求取。</p>
<p>(34)为社何：意思是为什么做社树而让世人供奉。</p>
<p>(35)密：默，犹言“闭嘴”。</p>
<p>(36)直：通作“特”，仅只的意思。</p>
<p>(37)诟厉：辱骂、伤害。</p>
<p>(38)翦（ｊｉǎｎ）：斩伐。</p>
<p>(39)义：常理。喻：了解。</p>
<p>【译文】</p>
<p>匠人石去齐国，来到曲辕这个地方，看见一棵被世人当作神社的栎树。这棵栎树树冠大到可以遮蔽数千头牛，用绳子绕着量一量树干，足有头十丈粗，树梢高临山巅，离地面八十尺处方才分枝，用它来造船可造十余艘。观赏的人群像赶集似地涌来涌去，而这位匠人连瞧也不瞧一眼，不停步地往前走。他的徒弟站在树旁看了个够，跑着赶上了匠人石，说：“自我拿起刀斧跟随先生，从不曾见过这样壮美的树木。可是先生却不肯看一眼，不住脚地往前走，为什么呢？”匠人石回答说：“算了，不要再说它了！这是一棵什么用处也没有的树，用它做成船定会沉没，用它做成棺椁定会很快朽烂，用它做成器皿定会很快毁坏，用它做成屋门定会流脂而不合缝，用它做成屋柱定会被虫蛀蚀。这是不能取材的树。没有什么用处，所以它才能有如此寿延。”</p>
<p>匠人石回到家里，梦见社树对他说：“你将用什么东西跟我相提并论呢？你打算拿可用之木来跟我相比吗？那楂、梨、橘、柚都属于果树，果实成熟就会被打落在地，打落果子以后枝干也就会遭受摧残，大的枝干被折断，小的枝丫被拽下来。这就是因为它们能结出鲜美果实才苦了自己的一生，所以常常不能终享天年而半途夭折，自身招来了世俗人们的打击。各种事物莫不如此。而且我寻求没有什么用处的办法已经很久很久了，几乎被砍死，这才保全住性命，无用也就成就了我最大的用处。假如我果真是有用，还能够获得延年益寿这一最大的用处吗？况且你和我都是‘物’，你这样看待事物怎么可以呢？你不过是几近死亡的没有用处的人，又怎么会真正懂得没有用处的树木呢！”</p>
<p>匠人石醒来后把梦中的情况告诉给他的弟子。弟子说：“旨意在于求取无用，那么又做什么社树让世人瞻仰呢？”匠人石说：“闭嘴，别说了！它只不过是在寄托罢了，反而招致不了解自己的人的辱骂和伤害。如果它不做社树的话，它还不遭到砍伐吗？况且它用来保全自己的办法与众不同，而用常理来了解它，可不就相去太远了吗！”</p>
<p>【原文】</p>
<p>南伯子綦游乎商之丘①，见大木焉有异，结驷千乘②，隐将芘其所藾③。子綦曰：“此何木也哉？此必有异材夫！”仰而视其细枝，则拳曲而不可以为栋梁④；俯而视其大根，则轴解而不可以为棺槨⑤；咶其叶⑥，则口烂而为伤；嗅之，则使人狂酲⑦，三日而不已⑧。</p>
<p>子綦曰：“此果不材之木也，以至于此其大也。嗟乎神人⑨，以此不材⑩！”宋有荆氏者(11)，宜楸柏桑。其拱把而上者(12)，求狙猴之杙者斩之(13)；三围四围(14)，求高明之丽者斩之(15)；七围八围，贵人富商之家求椫傍者斩之(16)。故未终其天年，而中道之夭于斧斤，此材之患也。故解之以牛之白颡者与豚之亢鼻者(17)，与人有痔病者不可以适河(18)。此皆巫祝以知矣(19)，所以为不祥也(20)。此乃神人之所以为大祥也。</p>
<p>【注释】</p>
<p>①南伯子綦：人名，庄子寓言中人物。商之丘：即商丘，在今河南省，地名。</p>
<p>②驷（ｓì）：一辆车套上四匹马。</p>
<p>③芘（ｐí）：通作“庇”，荫庇的意思。藾（ｌàｉ）：荫蔽。</p>
<p>④拳曲：弯弯曲曲的样子。</p>
<p>⑤轴：指木心。解：裂开。“轴解”意思是从木心向外裂开。一说“解”讲作“散”，指纹理松散不可用。槨：“椁”字的异体，外棺。</p>
<p>⑥咶（ｓｈì）：通作“舐”，用舌添。</p>
<p>⑦酲（ｃｈéｎｇ）：酒醉。</p>
<p>⑧已：止。</p>
<p>⑨嗟乎：感叹声。</p>
<p>⑩以：如，这个意义后代写作“似”。</p>
<p>(11)荆氏：地名。</p>
<p>(12)拱：两手相合。把：一手所握。</p>
<p>(13)杙（ｙì）：小木桩，用来系牲畜的。斩：指砍伐。</p>
<p>(14) 围：一说指两臂合抱的长度。一说两手拇指和食指合拢起来的长度。</p>
<p>(15)高名：指地位高贵名声显赫的人家。丽：通作“”，栋，即屋之中梁。</p>
<p>(16)椫（ｓｈàｎ）傍：指由独幅做成的棺木左右扇。</p>
<p>(17)解之：指祈祷神灵以消灾。颡（ｓｈǎｎｇ）：额。亢：高；“亢鼻”指鼻孔上仰。古人以高鼻折额、毛色不纯的牲畜和痔漏的人为不洁净，因而不用于祭祀。</p>
<p>(18)适：沉入河中以祭神。</p>
<p>(19)巫祝：巫师。</p>
<p>(20)以为：认为。</p>
<p>【译文】</p>
<p>南伯子綦在商丘一带游乐，看见长着一棵出奇的大树，上千辆驾着四马的大车，荫蔽在大树树荫下歇息。子綦说：“这是什么树呢？这树一定有特异的材质啊！”仰头观看大树的树枝，弯弯扭扭的树枝并不可以用来做栋梁；低头观看大树的主干，树心直到表皮旋着裂口并不可以用来做棺椁；用舌舔一舔树叶，口舌溃烂受伤；用鼻闻一闻气味，使人像喝多了酒，三天三夜还醒不过来。</p>
<p>子綦说：“这果真是什么用处也没有的树木，以至长到这么高大。唉，精神世界完全超脱物外的‘神人’，就像这不成材的树木呢！”宋国有个叫荆氏的地方，很适合楸树、柏树、桑树的生长。树干长到一两把粗，做系猴子的木桩的人便把树木砍去；树干长到三、四围粗，地位高贵名声显赫的人家寻求建屋的大梁便把树木砍去；树干长到七、八围粗，达官贵人富家商贾寻找整幅的棺木又把树木砍去。所以它们始终不能终享天年，而是半道上被刀斧砍伐而短命。这就是材质有用带来的祸患。因此古人祈祷神灵消除灾害，总不把白色额头的牛、高鼻折额的猪以及患有痔漏疾病的人沉入河中去用作祭奠。这些情况巫师全都了解，认为他们都是很不吉祥的。不过这正是“神人”所认为的世上最大的吉祥。</p>
<p>【原文】</p>
<p>支离疏者①，颐隐于脐②，肩高于顶，会撮指天③，五管在上④，两髀为胁⑤。挫鍼治繲⑥，足以口；鼓播精⑦，足以食十人。上征武士⑧，则支离攘臂而游于其间⑨；上有大役，则支离以有常疾不受功⑩；上与病者粟，则受三钟与十束薪(11)。夫支离其形者，犹足以养其身，终其天年，又况支离其德者乎？</p>
<p>【注释】</p>
<p>①支离疏：假托的人名。“支离”隐含形体不全的意思，“疏”隐含泯灭其智的意思。</p>
<p>②颐：下巴。脐：肚脐。</p>
<p>③会撮：发髻。因为脊背弯曲，所以发髻朝天。</p>
<p>④五管：五官。旧说指五脏的腧穴。</p>
<p>⑤髀（ｂì）：股骨，这里指大腿。胁（ｘｉé）：腋下肋骨所在的部位。</p>
<p>⑥鍼（ｚｈēｎ）：“针”字的异体。“挫鍼”即缝衣。繲（ｘｉè）：洗衣。</p>
<p>⑦鼓：簸动。：小簸箕。播：扬去灰土与糠屑。</p>
<p>⑧上：指国君、统治者。</p>
<p>⑨攘（ｒǎｎｇ）：捋。“攘臂”指捋起衣袖伸长手臂。</p>
<p>⑩以：因。常疾：残疾。功：通作“工”，指劳役之事。</p>
<p>(11)钟：古代粮食计量单位，合六斛四斗。</p>
<p>【译文】</p>
<p>有个名叫支离疏的人，下巴隐藏在肚脐下，双肩高于头顶，后脑下的发髻指向天空，五官的出口也都向上，两条大腿和两边的胸肋并生在一起。他给人缝衣浆洗，足够口度日；又替人筛糠簸米，足可养活十口人。国君征兵时，支离疏捋袖扬臂在征兵人面前走来走去；国君有大的差役，支离疏因身有残疾而免除劳役；国君向残疾人赈济米粟，支离疏还领得三钟粮食十捆柴草。像支离疏那样形体残缺不全的人，还足以养活自己，终享天年，又何况像形体残缺不全那样的德行呢！</p>
<p>【原文】</p>
<p>孔子适楚①，楚狂接舆游其门曰②：“凤兮凤兮③，何如德之衰也④！来世不可待，往世不可追也。天下有道⑤，圣人成焉⑥；天下无道，圣人生焉。方今之时，仅免刑焉。福轻乎羽⑦，莫之知载⑧；祸重乎地，莫之知避。已乎已乎⑨。临人以德！殆乎殆乎，画地而趋⑩！迷阳迷阳(11)，无伤吾行！吾行郤曲(12)，无伤吾足。”</p>
<p>山木自寇也(13)，膏火自煎也(14)。桂可食(15)，故伐之；漆可用，故割之。人皆知有用之用，而莫知无用之用也。</p>
<p>【注释】</p>
<p>①适：往。</p>
<p>②楚狂接舆：楚国的隐士，相传姓陆名通，接舆为字。</p>
<p>③凤：凤鸟，这里用来比喻孔子。</p>
<p>④何如：如何，怎么。之：往。全句大意是，怎么怀有圣德却来到这衰乱之国。一说“如”通作“尔”，全句讲作怎么你的德行衰败了。姑备参考。</p>
<p>⑤有道：指顺应规律使社会得到治理。下句的“无道”则与此相反。</p>
<p>⑥成：指成就了事业。</p>
<p>⑦乎：于，比。</p>
<p>⑧莫：不。载：取。</p>
<p>⑨已矣：即“算了”。</p>
<p>⑩画地：在地面上画出道路来。喻指人为的规范让人们去遵循。</p>
<p>(11)迷阳：指荆棘。</p>
<p>(12)郤（ｘì）曲：屈曲，指道路曲折难行。根据上句结构特点，“吾行郤曲”当与“迷阳迷阳”结构相同，而“吾行”很可能是传抄时误迭，则全句当是“郤曲郤曲”。</p>
<p>(13)寇：侵犯，掠夺。“自寇”意思是自取砍伐。</p>
<p>(14)膏：油脂。“自煎”意思是自取熔煎。</p>
<p>(15)桂：树名，其皮可作香料。</p>
<p>【译文】</p>
<p>孔子去到楚国，楚国隐士接舆有意来到孔子门前，说“凤鸟啊，凤鸟啊！你怎么怀有大德却来到这衰败的国家！未来的世界不可期待，过去的时日无法追回。天下得到了治理，圣人便成就了事业；国君昏暗天下混乱，圣人也只得顺应潮流苟全生存。当今这个时代，怕就只能免遭刑辱。幸福比羽毛还轻，而不知道怎么取得；祸患比大地还重，而不知道怎么回避。算了吧，算了吧！不要在人前宣扬你的德行！危险啊，危险啊！人为地划出一条道路让人们去遵循！遍地的荆棘啊，不要妨碍我的行走！曲曲弯弯的道路啊，不要伤害我的双脚！”</p>
<p>山上的树木皆因材质可用而自身招致砍伐，油脂燃起烛火皆因可以燃烧照明而自取熔煎。桂树皮芳香可以食用，因而遭到砍伐，树漆因为可以派上用场，所以遭受刀斧割裂。人们都知道有用的用处，却不懂得无用的更大用处。</p>
<h3 id="逍遥游"><a href="#逍遥游" class="headerlink" title="逍遥游"></a>逍遥游</h3><p>逍遥游</p>
<p>【题解】</p>
<p>“逍遥”也写作“消摇”，意思是优游自得的样子；“逍遥游”就是没有任何束缚地、自由自在地活动。</p>
<p>全文可分为三个部分，第一部分至“圣人无名”，是本篇的主体，从对比许多不能“逍遥”的例子说明，要得真正达到自由自在的境界，必须“无己”、“无功”、“无名”。第二部分至“窅然丧其天下焉”，紧承上一部分进一步阐述，说明“无己”是摆脱各种束缚和依凭的唯一途径，只要真正做到忘掉自己、忘掉一切，就能达到逍遥的境界，也只有“无己”的人才是精神境界最高的人。余下为第三部分，论述什么是真正的有用和无用，说明不能为物所滞，要把无用当作有用，进一步表达了反对积极投身社会活动，志在不受任何拘束，追求优游自得的生活旨趣。</p>
<p>本篇是《庄子》的代表篇目之一，充满奇特的想象和浪漫的色彩，寓说理于寓言和生动的比喻中，形成独特的风格。“逍遥游”也是庄子哲学思想的一个重要方面。全篇一再阐述无所依凭的主张，追求精神世界的绝对自由。在庄子的眼里，客观现实中的一事一物，包括人类本身都是对立而又相互依存的，这就没有绝对的自由，要想无所依凭就得无己。因而他希望一切顺乎自然，超脱于现实，否定人在社会生活中的一切作用，把人类的生活与万物的生存混为一体；提倡不滞于物，追求无条件的精神自由。</p>
<p>【原文】</p>
<p>北冥有鱼①，其名曰鲲②。鲲之大，不知其几千里也；化而为鸟，其名为鹏③。鹏之背，不知其几千里也；怒而飞④，其翼若垂天之云⑤。是鸟也，海运则将徙于南冥⑥。南冥者，天池也⑦。齐谐者⑧，志怪者也⑨。谐之言曰：“鹏之徙于南冥也，水击三千里⑩，抟扶摇而上者九万里(11)，去以六月息者也(12)。”野马也(13)，尘埃也(14)，生物之以息相吹也(15)。天之苍苍，其正色邪？其远而无所至极邪(16)？其视下也，亦若是则已矣。且夫水之积也不厚，则其负大舟也无力。覆杯水于坳堂之上(17)，则芥为之舟(18)；置杯焉则胶，水浅而舟大也。风之积也不厚，则其负大翼也无力，故九万里则风斯在下矣(19)。而后乃今培风(20)，背负青天而莫之夭阏者(21)，而后乃今将图南。蜩与学鸠笑之曰(22)：“我决起而飞(23)，抢榆枋(24)，时则不至，而控于地而已矣(25)；奚以之九万里而南为(26)？”适莽苍者(27)，三飡而反(28)，腹犹果然(29)；适百里者，宿舂粮(30)；适千里者，三月聚粮。之二虫又何知(31)？小知不及大知(32)，小年不及大年。奚以知其然也？朝菌不知晦朔(33)，蟪蛄不知春秋(34)，此小年也。楚之南有冥灵者(35)，以五百岁为春，五百岁为秋；上古有大椿者(36)，以八千岁为春，八千岁为秋(37)。而彭祖乃今以久特闻(38)，众人匹之(39)，不亦悲乎？</p>
<p>汤之问棘也是已(40)：“穷发之北有冥海者(41)，天池也。有鱼焉，其广数千里，未有知其修者(42)，其名曰鲲。有鸟焉，其名为鹏，背若太山(43)，翼若垂天之云；抟扶摇、羊角而上者九万里(44)，绝云气(45)，负青天，然后图南，且适南冥也。斥鴳笑之曰(46)：‘彼且奚适也？我腾跃而上，不过数仞而下(47)，翱翔蓬蒿之间，此亦飞之至也(48)。而彼且奚适也？’”此小大之辩也(49)。</p>
<p>故夫知效一官(50)、行比一乡(51)、德合一君、而徵一国者(52)，其自视也亦若此矣。而宋荣子犹然笑之(53)。且举世而誉之而不加劝(54)，举世而非之而不加沮(55)，定乎内外之分(56)，辩乎荣辱之境(57)，斯已矣。彼其于世，未数数然也(58)。虽然，犹有未树也。夫列子御风而行(59)，泠然善也(60)，旬有五日而后反(61)。彼于致福者(62)，未数数然也。此虽免乎行，犹有所待者也(63)。若夫乘天地之正(64)，而御六气之辩(65)，以游无穷者，彼且恶乎待哉(66)？故曰：至人无己(67)，神人无功(68)，圣人无名(69)。</p>
<p>【注释】</p>
<p>①冥：亦作溟，海之意。“北冥”，就是北方的大海。下文的“南冥”仿此。传说北海无边无际，水深而黑。</p>
<p>②鲲（ｋūｎ）：本指鱼卵，这里借表大鱼之名。</p>
<p>③鹏：本为古“凤”字，这里用表大鸟之名。</p>
<p>④怒：奋起。</p>
<p>⑤垂：边远；这个意义后代写作“陲”。一说遮，遮天。</p>
<p>⑥海运：海水运动，这里指汹涌的海涛；一说指鹏鸟在海面飞行。徙：迁移。</p>
<p>⑦天池：天然的大池。</p>
<p>⑧齐谐：书名。一说人名。</p>
<p>⑨志：记载。</p>
<p>⑩击：拍打，这里指鹏鸟奋飞而起双翼拍打水面。</p>
<p>(11)抟（ｔｕáｎ）：环绕而上。一说“抟”当作“搏”（ｂó），拍击的意思。扶摇：又名叫飙，由地面急剧盘旋而上的暴风。</p>
<p>(12)去：离，这里指离开北海。息：停歇。</p>
<p>(13)野马：春天林泽中的雾气。雾气浮动状如奔马，故名“野马”。</p>
<p>(14)尘埃：扬在空中的土叫“尘”，细碎的尘粒叫“埃”。</p>
<p>(15)生物：概指各种有生命的东西。息：这里指有生命的东西呼吸所产生的气息。</p>
<p>(16)极：尽。</p>
<p>(17)覆：倾倒。坳（àｏ）：坑凹处，“坳堂”指厅堂地面上的坑凹处。</p>
<p>(18)芥：小草。</p>
<p>(19)斯：则，就。</p>
<p>(20)而后乃今：意思是这之后方才；以下同此解。培：通作“凭”，凭借。</p>
<p>(21)莫：这里作没有什么力量讲。夭阏（è）：又写作“夭遏”，意思是遏阻、阻拦。“莫之夭阏”即“莫夭阏之”的倒装。</p>
<p>(22)蜩（ｔｉáｏ）：蝉。学鸠：一种小灰雀，这里泛指小鸟。</p>
<p>(23)决（ｘｕè）：通作“翅”，迅疾的样子。</p>
<p>(24)抢（ｑｉāｎｇ）：突过。榆枋：两种树名。</p>
<p>(25) 控：投下，落下来。</p>
<p>(26) 奚以：何以。之：去到。为：句末疑问语气词。</p>
<p>(27) 适：往，去到。莽苍：指迷茫看不真切的郊野。</p>
<p>(28)飡（ｃāｎ）：同餐。反：返回。</p>
<p>(29)犹：还。果然：饱的样子。</p>
<p>(30)宿：这里指一夜。</p>
<p>(31)之：这。二虫：指上述的蜩与学鸠。</p>
<p>(32)知（ｚｈì）：通“智”，智慧。</p>
<p>(33)朝：清晨。晦朔：一个月的最后一天和最初天。一说“晦”指黑夜，“朔”指清晨。</p>
<p>(34)蟪蛄（ｈｕìｇū）：即寒蝉，春生复死或复生秋死。</p>
<p>(35)冥灵：传说中的大龟，一说树名。</p>
<p>(36)大椿：传说中的古树名。</p>
<p>(37)根据前后用语结构的特点，此句之下当有“此大年也”一句，但传统本子均无此句。</p>
<p>(38)彭祖：古代传说中年寿最长的人。乃今：而今。以：凭。特：独。闻：闻名于世。</p>
<p>(39)匹：配，比。</p>
<p>(40)汤：商汤。棘：汤时的贤大夫。已：矣。</p>
<p>(41)穷发：不长草木的地方。</p>
<p>(42)修：长。</p>
<p>(43)太山：大山。一说即泰山。</p>
<p>(44)羊角：旋风，回旋向上如羊角状。</p>
<p>(45)绝：穿过。</p>
<p>(46)斥鴳（ｙàｎ）：一种小鸟。</p>
<p>(47)仞：古代长度单位，周制为八尺，汉制为七尺；这里应从周制。</p>
<p>(48)至：极点。</p>
<p>(49)辩：通作“辨”，辨别、区分的意思。</p>
<p>(50)效：功效；这里含有胜任的意思。官：官职。</p>
<p>(51)行（ｘìｎｇ）：品行。比：比并。</p>
<p>(52)而：通作“能”，能力。徵：取信。</p>
<p>(53)宋荣子：一名宋钘，宋国人，战国时期的思想家。犹然：讥笑的样子。</p>
<p>(54)举：全。劝：劝勉，努力。</p>
<p>(55)非：责难，批评。沮（ｊǔ）：沮丧。</p>
<p>(56)内外：这里分别指自身和身外之物。在庄子看来，自主的精神是内在的，荣誉和非难都是外在的，而只有自主的精神才是重要的、可贵的。</p>
<p>(57)境：界限。</p>
<p>(58)数数（ｓｈｕò）然：急急忙忙的样子。</p>
<p>(59)列子：郑国人，名叫列御寇，战国时代思想家。御：驾驭。</p>
<p>(60)泠（ｌíｎｇ）然：轻盈美好的样子。</p>
<p>(61)旬：十天。有：又。</p>
<p>(62)致：罗致，这里有寻求的意思。</p>
<p>(63)待：凭借，依靠。</p>
<p>(64)乘：遵循，凭借。天地：这里指万物，指整个自然线。正：本；这里指自然的本性。</p>
<p>(65)御：含有因循、顺着的意思。六气：指阴、阳、风、雨、晦、明。辩：通作“变”，变化的意思。</p>
<p>(66)恶（ｗū）：何，什么。</p>
<p>(67)至人：这里指道德修养最高尚的人。无己：清除外物与自我的界限，达到忘掉自己的境界。</p>
<p>(68)神人：这里指精神世界完全能超脱于物外的人。无功：不建树功业。</p>
<p>(69)圣人：这里指思想修养臻于完美的人。无名：不追求名誉地位。</p>
<p>【译文】</p>
<p>北方的大海里有一条鱼，它的名字叫做鲲。鲲的体积，真不知道大到几千里；变化成为鸟，它的名字就叫鹏。鹏的脊背，真不知道长到几千里；当它奋起而飞的时候，那展开的双翅就像天边的云。这只鹏鸟呀，随着海上汹涌的波涛迁徙到南方的大海。南方的大海是个天然的大池。《齐谐》是一部专门记载怪异事情的书，这本书上记载说：“鹏鸟迁徙到南方的大海，翅膀拍击水面激起三千里的波涛，海面上急骤的狂风盘旋而上直冲九万里高空，离开北方的大海用了六个月的时间方才停歇下来”。春日林泽原野上蒸腾浮动犹如奔马的雾气，低空里沸沸扬扬的尘埃，都是大自然里各种生物的气息吹拂所致。天空是那么湛蓝湛蓝的，难道这就是它真正的颜色吗？抑或是高旷辽远没法看到它的尽头呢？鹏鸟在高空往下看，不过也就像这个样子罢了。</p>
<p>再说水汇积不深，它浮载大船就没有力量。倒杯水在庭堂的低洼处，那么小小的芥草也可以给它当作船；而搁置杯子就粘住不动了，因为水太浅而船太大了。风聚积的力量不雄厚，它托负巨大的翅膀便力量不够。所以，鹏鸟高飞九万里，狂风就在它的身下，然后方才凭借风力飞行，背负青天而没有什么力量能够阻遏它了，然后才像现在这样飞到南方去。寒蝉与小灰雀讥笑它说：“我从地面急速起飞，碰着榆树和檀树的树枝，常常飞不到而落在地上，为什么要到九万里的高空而向南飞呢？”到迷茫的郊野去，带上三餐就可以往返，肚子还是饱饱的；到百里之外去，要用一整夜时间准备干粮；到千里之外去，三个月以前就要准备粮食。寒蝉和灰雀这两个小东西懂得什么！小聪明赶不上大智慧，寿命短比不上寿命长。怎么知道是这样的呢？清晨的菌类不会懂得什么是晦朔，寒蝉也不会懂得什么是春秋，这就是短寿。楚国南边有叫冥灵的大龟，它把五百年当作春，把五百年当作秋；上古有叫大椿的古树，它把八千年当作春，把八千年当作秋，这就是长寿。可是彭祖到如今还是以年寿长久而闻名于世，人们与他攀比，岂不可悲可叹吗？</p>
<p>商汤询问棘的话是这样的：“在那草木不生的北方，有一个很深的大海，那就是‘天池’。那里有一种鱼，它的脊背有好几千里，没有人能够知道它有多长，它的名字叫做鲲，有一种鸟，它的名字叫鹏，它的脊背像座大山，展开双翅就像天边的云。鹏鸟奋起而飞，翅膀拍击急速旋转向上的气流直冲九万里高空，穿过云气，背负青天，这才向南飞去，打算飞到南方的大海。斥鴳讥笑它说：‘它打算飞到哪儿去？我奋力跳起来往上飞，不过几丈高就落了下来，盘旋于蓬蒿丛中，这也是我飞翔的极限了。而它打算飞到什么地方去呢？’”这就是小与大的不同了。</p>
<p>所以，那些才智足以胜任一个官职，品行合乎一乡人心愿，道德能使国君感到满意，能力足以取信一国之人的人，他们看待自己也像是这样哩。而宋荣子却讥笑他们。世上的人们都赞誉他，他不会因此越发努力，世上的人们都非难他，他也不会因此而更加沮丧。他清楚地划定自身与物外的区别，辩别荣誉与耻辱的界限，不过如此而已呀！宋荣子他对于整个社会，从来不急急忙忙地去追求什么。虽然如此，他还是未能达到最高的境界。列子能驾风行走，那样子实在轻盈美好，而且十五天后方才返回。列子对于寻求幸福，从来没有急急忙忙的样子。他这样做虽然免除了行走的劳苦，可还是有所依凭呀。至于遵循宇宙万物的规律，把握“六气”的变化，遨游于无穷无尽的境域，他还仰赖什么呢！因此说，道德修养高尚的“至人”能够达到忘我的境界，精神世界完全超脱物外的“神人”心目中没有功名和事业，思想修养臻于完美的“圣人”从不去追求名誉和地位。</p>
<p>【原文】</p>
<p>尧让天下于许由①，曰：“日月出矣，而爝火不息②；其于光也，不亦难乎？时雨降矣③，而犹浸灌④；其于泽也⑤，不亦劳乎⑥？夫子立而天下治⑦，而我犹尸之⑧；吾自视缺然⑨，请致天下⑩。”许由曰：“子治天下(11)，天下既已治也；而我犹代子，吾将为名乎？名者，实之宾也(12)；吾将为宾乎？鹪鹩巢于深林(13)，不过一枝；偃鼠饮河(14)，不过满腹。归休乎君(15)，予无所用天下为(16)！庖人虽不治庖(17)，尸祝不越樽俎而代之矣(18)！”</p>
<p>肩吾问于连叔曰(19)：“吾闻言于接舆(20)，大而无当(21)，往而不反(22)。吾惊怖其言。犹河汉而无极也(23)；大有迳庭(24)，不近人情焉。”连叔曰：“其言谓何哉？”曰：“藐姑射之山(25)，有神人居焉。肌肤若冰雪，淖约若处子(26)，不食五谷，吸风饮露，乘云气，御飞龙，而游乎四海之外；其神凝(27)，使物不疵疠而年谷熟(28)。吾以是狂而不信也(29)。”连叔曰：“然。瞽者无以与乎文章之观(30)，聋者无以与乎钟鼓之声。岂唯形骸有聋盲哉？夫知亦有之！是其言也犹时女也(31)。之人也，之德也，将旁礴万物以为一(32)，世蕲乎乱(33)，孰弊弊焉以天下为事(34)！之人也，物莫之伤：大浸稽天而不溺(35)，大旱金石流，土山焦而不热。是其尘垢秕穅将犹陶铸尧舜者也(36)，孰肯以物为事？”</p>
<p>宋人资章甫而适诸越(37)，越人断发文身(28)，无所用之。尧治天下之民，平海内之政，往见四子藐姑射之山，汾水之阳(39)，窅然丧其天下焉(40)。</p>
<p>【注释】</p>
<p>①尧：我国历史上传说时代的圣明君主。许由：古代传说中的高士，宇仲武，隐于箕山。相传尧要让天下给他，他自命高洁而不受。②爝（ｊｕé）火：炬火，木材上蘸上油脂燃起的火把。</p>
<p>③时雨：按时令季节及时降下的雨。</p>
<p>④浸灌：灌溉。</p>
<p>⑤泽：润泽。</p>
<p>⑥劳：这里含有徒劳的意思。</p>
<p>⑦立：位，在位。</p>
<p>⑧尸：庙中的神主，这里用其空居其位，虚有其名之义。</p>
<p>⑨缺然：不足的样子。</p>
<p>⑩致：给与。</p>
<p>(11)子：对人的尊称。</p>
<p>(12)宾：次要的、派生的东西。</p>
<p>(13)鹪鹩（ｊｉāｏｌｉáｏ）：一种善于筑巢的小鸟。</p>
<p>(14)偃鼠：鼹鼠。</p>
<p>(15)休：止，这里是算了的意思。</p>
<p>(16)为：句末疑问语气词。</p>
<p>(17)庖人：厨师。</p>
<p>(18)尸祝：祭祀时主持祭祀的人。樽：酒器。俎：盛肉的器皿。“樽俎”这里代指各种厨事。成语“越俎代庖”出于此。</p>
<p>(19)肩吾、连叔：旧说皆为有道之人，实是庄子为表达的需要而虚构的人物。</p>
<p>(20)接舆：楚国的隐士，姓陆名通，接舆为字。</p>
<p>(21)当（ｄàｎｇ）：底，边际。</p>
<p>(22)反：返。</p>
<p>(23)河汉：银河。极：边际，尽头。</p>
<p>(24)迳：门外的小路。庭：堂外之地。“迳庭”连用，这里喻指差异很大。成语“大相迳庭”出于此。</p>
<p>(25)藐（ｍｉǎｏ）：遥远的样子。姑射（ｙè）：传说中的山名。</p>
<p>(26)淖（ｃｈｕò）约：柔弱、美好的样子。处子：处女。</p>
<p>(27)凝：指神情专一。</p>
<p>(28)疵疠（ｌì）：疾病。</p>
<p>(29)以：认为。狂：通作“诳”，虚妄之言。信：真实可靠。</p>
<p>(30)瞽（ｇǔ）：盲。文章：花纹、色彩。</p>
<p>(31)时：是。女：汝，你。旧注指时女为处女，联系上下文实是牵强，故未从。</p>
<p>(32)旁礴：混同的样子。</p>
<p>(33)蕲（ｑí）：祈；求的意思。乱：这里作“治”讲，这是古代同词义反的语言现象。</p>
<p>(34)弊弊焉：忙忙碌碌、疲惫不堪的样子。</p>
<p>(35)大浸：大水。稽：至。</p>
<p>(36)秕：瘪谷。穅：“糠”字之异体。陶：用土烧制瓦器。铸：熔炼金属铸造器物。</p>
<p>(37)资：贩卖。章甫：古代殷地人的一种礼帽。适：往。</p>
<p>(38) 断发：不蓄头发。文身：在身上刺满花纹。越国处南方，习俗与中原的宋国不同。</p>
<p>(39)四子：旧注指王倪、齧缺、被衣、许由四人，实为虚构的人物。阳：山的南面或水流的北面。</p>
<p>(40)窅（ｙǎｏ）然：怅然若失的样子。丧（ｓｈàｎｇ）：丧失、忘掉。</p>
<p>【译文】</p>
<p>尧打算把天下让给许由，说：“太阳和月亮都已升起来了，可是小小的炬火还在燃烧不熄；它要跟太阳和月亮的光亮相比，不是很难吗？季雨及时降落了，可是还在不停地浇水灌地；如此费力的人工灌溉对于整个大地的润泽，不显得徒劳吗？先生如能居于国君之位天下一定会获得大治，可是我还空居其位；我自己越看越觉得能力不够，请允许我把天下交给你。”许由回答说：“你治理天下，天下已经获得了大治，而我却还要去替代你，我将为了名声吗？‘名’是‘实’所派生出来的次要东西，我将去追求这次要的东西吗？鹪鹩在森林中筑巢，不过占用一棵树枝；鼹鼠到大河边饮水，不过喝满肚子。你还是打消念头回去吧，天下对于我来说没有什么用处啊！厨师即使不下厨，祭祀主持人也不会越俎代庖的！”</p>
<p>肩吾向连叔求教：“我从接舆那里听到谈话，大话连篇没有边际，一说下去就回不到原来的话题上。我十分惊恐他的言谈，就好像天上的银河没有边际，跟一般人的言谈差异甚远，确实是太不近情理了。”连叔问：“他说的是些什么呢？”肩吾转述道：“在遥远的姑射山上，住着一位神人，皮肤润白像冰雪，体态柔美如处女，不食五谷，吸清风饮甘露，乘云气驾飞龙，遨游于四海之外。他的神情那么专注，使得世间万物不受病害，年年五谷丰登。我认为这全是虚妄之言，一点也不可信。”连叔听后说：“是呀！对于瞎子没法同他们欣赏花纹和色彩，对于聋子没法同他们聆听钟鼓的乐声。难道只是形骸上有聋与瞎吗？思想上也有聋和瞎啊！这话似乎就是说你肩吾的呀。那位神人，他的德行，与万事万物混同一起，以此求得整个天下的治理，谁还会忙忙碌碌把管理天下当成回事！那样的人呀，外物没有什么能伤害他，滔天的大水不能淹没他，天下大旱使金石熔化、土山焦裂，他也不感到灼热。他所留下的尘埃以及瘪谷糠麸之类的废物，也可造就出尧舜那样的圣贤人君来，他怎么会把忙着管理万物当作己任呢！”</p>
<p>北方的宋国有人贩卖帽子到南方的越国，越国人不蓄头发满身刺着花纹，没什么地方用得着帽子。尧治理好天下的百姓，安定了海内的政局，到姑射山上、汾水北面，去拜见四位得道的高士，不禁怅然若失，忘记了自己居于治理天下的地位。</p>
<p>【原文】</p>
<p>惠子谓庄子曰①：“魏王贻我大瓠之种②，我树之成③，而实五石④。以盛水浆，其坚不能自举也⑤。剖之以为瓢，则瓠落无所容⑥。非不呺然大也⑦，吾为其无用而掊之⑧。”庄子曰：“夫子固拙于用大矣⑨！宋人有善为不龟手之药者⑩，世世以洴澼为事(11)。客闻之，请买其方百金(12)。聚族而谋曰：‘我世世为洴澼，不过数金；今一朝而鬻技百金(13)，请与之。’客得之，以说吴王(14)。越有难(15)，吴王使之将(15)，冬与越人水战，大败越人，裂地而封之(17)。能不龟手一也(18)，或以封(19)，或不免于洴澼，则所用之异也。今子有五石之瓠，何不虑以为大樽(20)，而浮于江湖，而忧其瓠落无所容？则夫子犹有蓬之心也夫(21)！”</p>
<p>惠子谓庄子曰：“吾有大树，人谓之樗(22)。其大本拥肿而不中绳墨(23)，其小枝卷曲而不中规矩(24)，立之塗(25)，匠人不顾。今子之言大而无用，众所同去也。”庄子曰：“子独不见狸狌乎(26)？卑身而伏(27)，以候敖者(28)；东西跳梁(29)，不辟高下(30)；中于机辟(31)，死于罔罟(32)。今夫斄牛(33)，其大若垂天之云。此能为大矣，而不能执鼠。今子有大树，患其无用，何不树之于无何有之乡(34)，广莫之野(35)，彷徨乎无为其侧(36)，逍遥乎寝卧其下。不夭斤斧(37)，物无害者，无所可用，安所困苦哉！”</p>
<p>【注释】</p>
<p>①惠子：宋国人，姓惠名施，做过梁惠王的相。惠施本是庄子的朋友，为先秦名家代表，但本篇及以下许多篇章中所写惠施与庄子的故事，多为寓言性质，并不真正反映惠施的思想。</p>
<p>②魏王：即梁惠王。贻（ｙí）：赠送。瓠（ｈú）：葫芦。</p>
<p>③树：种植、培育。</p>
<p>④实：结的葫芦。石（ｄàｎ）：容量单位，十斗为一石。</p>
<p>⑤举：拿起来。</p>
<p>⑥瓠落：又写作“廓落”，很大很大的样子。</p>
<p>⑦呺（ｘｉāｏ）然：庞大而又中空的样子。</p>
<p>⑧为（ｗèｉ）：因为。掊（ｐǒｕ）：砸破。</p>
<p>⑨固：实在，确实。</p>
<p>⑩龟（ｊūｎ）：通作“皲”，皮肤受冻开裂。</p>
<p>(11)洴（ｐíｎｇ）：浮。澼（ｐí）：在水中漂洗。（ｋｕàｎｇ）：丝絮。</p>
<p>(12)方：药方。</p>
<p>(13)鬻（ｙù）：卖，出售。</p>
<p>(14)说（ｓｈｕì）：劝说，游说。</p>
<p>(15)难：发难，这里指越国对吴国有军事行动。</p>
<p>(16)将（ｊｉàｎｇ）：统帅部队。</p>
<p>(17)裂：划分出。</p>
<p>(18)一：同一，一样的。</p>
<p>(19)或：无定代词，这里指有的人。以：凭借，其后省去宾语“不龟手之药”。</p>
<p>(20)虑：考虑。一说通作“摅”，用绳络缀结。樽：本为酒器，这里指形似酒樽，可以拴在身上的一种凫水工具，俗称腰舟。</p>
<p>(21)蓬：草名，其状弯曲不直。“有蓬之心”喻指见识浅薄不能通晓大道理。</p>
<p>(22)樗（ｃｈū）：一种高大的落叶乔木，但木质粗劣不可用。</p>
<p>(23)大本：树干粗大。拥（擁）肿：今写作“臃肿”，这里形容树干弯曲、疙里疙瘩。中（ｚｈòｎｇ）：符合。绳墨：木工用以求直的墨线。</p>
<p>(24)规矩：即圆规和角尺。</p>
<p>(25)塗：通作“途”，道路。</p>
<p>(26)狸（ｌí）：野猫。狌（ｓｈēｎｇ）：黄鼠狼。</p>
<p>(27)卑：低。</p>
<p>(28)敖：通“遨”，遨游。</p>
<p>(29)跳梁：跳踉，跳跃、窜越的意思。</p>
<p>(30)辟：避开；这个意义后代写作“避”。</p>
<p>(31)机辟：捕兽的机关陷阱。</p>
<p>(32)罔：网。罟（ｇǔ）：网的总称。</p>
<p>(33)斄（ｌí）牛：牦牛。</p>
<p>(34)无何有之乡：指什么也没有生长的地方。</p>
<p>(35)莫：大。</p>
<p>(36)彷徨：徘徊，纵放。无为：无所事事。</p>
<p>(37)夭：夭折。斤：伐木之斧。</p>
<p>【译文】</p>
<p>惠子对庄子说：“魏王送我大葫芦种子，我将它培植起来后，结出的果实有五石容积。用大葫芦去盛水浆，可是它的坚固程度承受不了水的压力。把它剖开做瓢也太大了，没有什么地方可以放得下。这个葫芦不是不大呀，我因为它没有什么用处而砸烂了它。”庄子说：“先生实在是不善于使用大东西啊！宋国有一善于调制不皲手药物的人家，世世代代以漂洗丝絮为职业。有个游客听说了这件事，愿意用百金的高价收买他的药方。全家人聚集在一起商量：‘我们世世代代在河水里漂洗丝絮，所得不过数金，如今一下子就可卖得百金。还是把药方卖给他吧。’游客得到药方，来游说吴王。正巧越国发难，吴王派他统率部队，冬天跟越军在水上交战，大败越军，吴王划割土地封赏他。能使手不皲裂，药方是同样的，有的人用它来获得封赏，有的人却只能靠它在水中漂洗丝絮，这是使用的方法不同。如今你有五石容积的大葫芦，怎么不考虑用它来制成腰舟，而浮游于江湖之上，却担忧葫芦太大无处可容？看来先生你还是心窍不通啊！”</p>
<p>惠子又对庄子说：“我有棵大树，人们都叫它‘樗’。它的树干却疙里疙瘩，不符合绳墨取直的要求，它的树枝弯弯扭扭，也不适应圆规和角尺取材的需要。虽然生长在道路旁，木匠连看也不看。现今你的言谈，大而无用，大家都会鄙弃它的。”庄子说：“先生你没看见过野猫和黄鼠狼吗？低着身子匍伏于地，等待那些出洞觅食或游乐的小动物。一会儿东，一会儿西，跳来跳去，一会儿高，一会儿低，上下窜越，不曾想到落入猎人设下的机关，死于猎网之中。再有那斄牛，庞大的身体就像天边的云；它的本事可大了，不过不能捕捉老鼠。如今你有这么大一棵树，却担忧它没有什么用处，怎么不把它栽种在什么也没有生长的地方，栽种在无边无际的旷野里，悠然自得地徘徊于树旁，优游自在地躺卧于树下。大树不会遭到刀斧砍伐，也没有什么东西会去伤害它。虽然没有派上什么用场，可是哪里又会有什么困苦呢？”</p>
<h3 id="养生主"><a href="#养生主" class="headerlink" title="养生主"></a>养生主</h3><p>养生主</p>
<p>【题解】</p>
<p>这是一篇谈养生之道的文章。“养生主”意思就是养生的要领。庄子认为，养生之道重在顺应自然，忘却情感，不为外物所滞。</p>
<p>全文分成三个部分，第一部分至“可以尽年”，是全篇的总纲，指出养生最重要的是要做到“缘督以为经”，即秉承事物中虚之道，顺应自然的变化与发展。第二部分至“得养生焉”，以厨工分解牛体比喻人之养生，说明处世、生活都要“因其固然”、“依乎天理”，而且要取其中虚“有间”，方能“游刃有余”，从而避开是非和矛盾的纠缠。余下为第三部分，进一步说明听凭天命，顺应自然，“安时而处顺”的生活态度。</p>
<p>庄子思想的中心，一是无所依凭自由自在，一是反对人为顺其自然，本文字里行间虽是在谈论养生，实际上是在体现作者的哲学思想和生活旨趣。</p>
<p>【原文】</p>
<p>吾生也有涯①，而知也无涯②。以有涯随无涯③，殆已④；已而为知者⑤，殆而已矣！为善无近名⑥，为恶无近刑。缘督以为经⑦，可以保身，可以全生⑧，可以养亲⑨，可以尽年⑩。</p>
<p>【注释】</p>
<p>①涯：边际，极限。</p>
<p>②知（ｚｈì）：知识，才智。</p>
<p>③随：追随，索求。</p>
<p>④殆：危险，这里指疲困不堪，神伤体乏。</p>
<p>⑤已：此，如此；这里指上句所说的用有限的生命索求无尽的知识的情况。</p>
<p>⑥近：接近，这里含有追求、贪图的意思。</p>
<p>⑦缘：顺着，遵循。督：中，正道。中医有奇经八脉之说，所谓督脉即身背之中脉，具有总督诸阳经之作用；“缘督”就是顺从自然之中道的含意。经：常。</p>
<p>⑧生：通作“性”，“全生”意思是保全天性。</p>
<p>⑨养亲：从字面上讲，上下文意不能衔接，旧说称不为父母留下忧患，亦觉牵强。姑备参考。</p>
<p>⑩尽年：终享天年，不使夭折。</p>
<p>【译文】</p>
<p>人们的生命是有限的，而知识却是无限的。以有限的生命去追求无限的知识，势必体乏神伤，既然如此还在不停地追求知识，那可真是十分危险的了！做了世人所谓的善事却不去贪图名声，做了世人所谓的恶事却不至于面对刑戮的屈辱。遵从自然的中正之路并把它作为顺应事物的常法，这就可以护卫自身，就可以保全天性，就可以不给父母留下忧患，就可以终享天年。</p>
<p>【原文】</p>
<p>庖丁为文惠君解牛①，手之所触②，肩之所倚③，足之所履④，膝之所踦⑤，砉然向然⑥，奏刀然⑦，莫不中音⑧，合于桑林之舞⑨，乃中经首之会⑩。</p>
<p>文惠君日：“(11)，善哉！技蓋至此乎(12)？”庖丁释刀对曰(13)：“臣之所好者道也(14)，进乎技矣(15)。始臣之解牛之时，所见无非全牛者。三年之后，未尝见全牛也。方今之时，臣以神遇而不以目视(16)，官知止而神欲行(17)。依乎天理(18)，批大郤(19)，导大窾(20)，因其固然(21)；技经肯綮之未尝(22)，而况大軱乎(23)！良庖岁更刀(24)，割也；族庖月更刀(25)，折也(26)。今臣之刀十九年矣，所解数千牛矣，而刀刃若新发于硎(27)。彼节者有閒(28)，而刀刃者无厚。以无厚入有閒，恢恢乎其于游刃必有余地矣(29)，是以十九年而刀刃若新发于硎。虽然，每至于族(30)，吾见其难为，怵然为戒(31)，视为止，行为迟，动刀甚微。謋然己解(32)，如土委地(33)。提刀而立，为之四顾，为之踌躇满志(34)，善刀而藏之(35)。</p>
<p>文惠君曰：“善哉！吾闻庖丁之言，得养生焉(36)。”</p>
<p>【注释】</p>
<p>①庖（ｐáｏ）：厨房。“庖丁”即厨师。一说“庖”指厨师，“丁”是他的名字。为（ｗèｉ）：替，给。文惠君：旧说指梁惠王。解：剖开、分解。</p>
<p>②触：接触。</p>
<p>③依：靠。</p>
<p>④履：踏、踩。</p>
<p>⑤踦（ｙǐ）：用膝抵住。</p>
<p>⑥砉（ｈｕà）然：皮肉分离的声音。向（嚮）：通作“响（響）”，声响。“向（响）然”，多种声音相互响应的样子。</p>
<p>⑦奏：进。（ｈｕò）然：以刀快速割牛的声音。</p>
<p>⑧中（ｚｈòｎｇ）：合乎；“中音”，意思是合乎音乐的节奏。</p>
<p>⑨桑林：传说中的殷商时代的乐曲名。“桑林之舞”意思是用桑林乐曲伴奏的舞蹈。</p>
<p>⑩经首：传说中帝尧时代的乐曲名。会：乐律，节奏。</p>
<p>(11)（ｘī）：“嘻”字的异体。</p>
<p>(12)蓋：通作“盍”，讲作何，怎么的意思。一说为句中语气词，读如“盖”。</p>
<p>(13)释：放下。</p>
<p>(14)好（ｈàｏ）：喜好。道：事物的规律。</p>
<p>(15)进：进了一层，含有超过、胜过的意思。乎：于，比。</p>
<p>(16)神：精神，心思。</p>
<p>(17)官：器官，这里指眼。知：知觉，这里指视觉。</p>
<p>(18)天理：自然的纹理，这里指牛体的自然结构。</p>
<p>(19)批：击：郤（ｘì）：通作“隙”，这里指牛体筋腱骨骼间的空隙。</p>
<p>(20)导。引导，导向。窾（ｋｕǎｎ）：空，这里指牛体骨节间较大的空处。</p>
<p>(21)因：依，顺着。固然：本然，原本的样子。</p>
<p>(22)技（ｚｈī）：通作“枝”，指支脉。经：经脉。“技经”指经络结聚的地方。肯：附在骨上的肉。綮（ｑǐ）：骨肉连接很紧的地方。未：不曾。尝：尝试。</p>
<p>(23)軱（ｇū）：大骨。</p>
<p>(24)岁：每年。更（ｇēｎｇ）：更换。</p>
<p>(25)族：众；“族庖”指一般的厨师。</p>
<p>(26)折：断；这里指用刀砍断骨头。</p>
<p>(27)发：出，这里指刚从磨刀石上磨出来。硎（ｘíｎｇ）：磨刀石。</p>
<p>(28)閒（ｊｉàｎ）：缝，间隙；这个意义后代写作“间”。</p>
<p>(29)恢恢：宽广。游刃：运转的刀刃。</p>
<p>(30)族：指骨节、筋腱聚结交错的部位。</p>
<p>(31)怵（ｃｈù）然：小心谨慎的样子。</p>
<p>(32)謋（ｈｕò）：牛体分解的声音。</p>
<p>(33)委：堆积。</p>
<p>(34)踌躇：悠然自得的样子。满志：满足了心意。</p>
<p>(35)善：这里讲作摆弄、擦拭的意思。</p>
<p>(36)养生：其后省中心语，意思是“养生之道”。</p>
<p>【译文】</p>
<p>厨师给文惠君宰杀牛牲，分解牛体时手接触的地方，肩靠着的地方，脚踩踏的地方，膝抵住的地方，都发出砉砉的声响，快速进刀时刷刷的声音，无不像美妙的音乐旋律，符合桑林舞曲的节奏，又合于经首乐曲的乐律。</p>
<p>文惠君说：“嘻，妙呀！技术怎么达到如此高超的地步呢？”厨师放下刀回答说：“我所喜好的是摸索事物的规律，比起一般的技术、技巧又进了一层。我开始分解牛体的时候，所看见的没有不是一头整牛的。几年之后，就不曾再看到整体的牛了。现在，我只用心神去接触而不必用眼睛去观察，眼睛的官能似乎停了下来而精神世界还在不停地运行。依照牛体自然的生理结构，劈击肌肉骨骼间大的缝隙，把刀导向那些骨节间大的空处，顺着牛体的天然结构去解剖；从不曾碰撞过经络结聚的部位和骨肉紧密连接的地方，何况那些大骨头呢！优秀的厨师一年更换一把刀，因为他们是在用刀割肉；普通的厨师一个月就更换一把刀，因为他们是在用刀砍骨头。如今我使用的这把刀已经十九年了，所宰杀的牛牲上千头了，而刀刃锋利就像刚从磨刀石上磨过一样。牛的骨节乃至各个组合部位之间是有空隙的，而刀刃几乎没有什么厚度，用薄薄的刀刃插入有空隙的骨节和组合部位间，对于刀刃的运转和回旋来说那是多么宽绰而有余地呀。所以我的刀使用了十九年刀锋仍像刚从磨刀石上磨过一样。虽然这样，每当遇上筋腱、骨节聚结交错的地方，我看到难于下刀，为此而格外谨慎不敢大意，目光专注，动作迟缓，动刀十分轻微。牛体霍霍地全部分解开来，就像是一堆泥土堆放在地上。我于是提着刀站在那儿，为此而环顾四周，为此而踌躇满志，这才擦拭好刀收藏起来。”文惠君说：“妙啊，我听了厨师这一番话，从中得到养生的道理了。”</p>
<p>【原文】</p>
<p>公文轩见右师而惊曰①：“是何人也？恶乎介也②？天与，其人与？”曰：“天也，非人也。天之生是使独也③，人之貌有与也④。以是知其天也，非人也”。泽雉十步一啄⑤，百步一饮，不蕲畜乎樊中⑥。神虽王⑦，不善也。</p>
<p>老聃死⑧，秦失吊之⑨，三号而出⑩。弟子曰：“非夫子之友邪？”曰：“然”。“然则吊焉若此，可乎？”曰：“然。始也吾以为其人也(11)，而今非也。向吾入而吊焉(12)，有老者哭之，如哭其子；少者哭之，如哭其母。彼其所以会之(13)，必有不蕲言而言，不蕲哭而哭者。是遁天倍情(14)，忘其所受(15)，古者谓之遁天之刑(16)。适来(17)，夫子时也(18)；适去，夫子顺也。安时而处顺，哀乐不能入也，古者谓是帝之县解(19)。”</p>
<p>指穷于为蕲(20)，火传也，不知其尽也。</p>
<p>【注释】</p>
<p>①公文轩：相传为宋国人，复姓公文，名轩。右师：官名，古人常有借某人之官名称谓其人的习惯。</p>
<p>②介：独，只有一只脚。一说“介”当作“兀”，失去一足的意思。</p>
<p>③是：此，指代形体上只有一只脚的情况。独：只有一只脚。</p>
<p>④与：旧注解释为“共”，所谓“有与”即两足共行。一说“与”当讲作赋与，意思是人的外形当是自然的赋与。</p>
<p>⑤雉（ｚｈì）：雉鸟，俗称野鸡。</p>
<p>⑥蕲（ｑí）：祈求，希望。畜：养。樊：笼。</p>
<p>⑦王（ｗàｎｇ）：旺盛，这个意义后代写作“旺”。</p>
<p>⑧老聃（ｄāｎ）：相传即老子，楚人，姓李名耳。</p>
<p>⑨秦失（ｙì）：亦写作“秦佚”，老聃的朋友。</p>
<p>⑩号：这里指大声地哭。</p>
<p>(11)其人：指与秦失对话的哭泣者。老聃和秦失都把生死看得很轻，在秦失的眼里老聃的弟子也应都是能够超脱物外的人，但如此伤心地长久哭泣，显然哀痛过甚，有失老聃的遗风。</p>
<p>(12)向：刚才。</p>
<p>(13)彼其：指哭泣者，即前四句中的“老者”和“少者”。所以：讲作“……的原因”。会：聚，碰在一块儿。</p>
<p>(14)遁：逃避，违反。倍：通作“背”，背弃的意思。一说“倍”讲作“加”，是增益的意思。</p>
<p>(15)忘其所受：大意是忘掉了受命于天的道理。庄子认为人体禀承于自然，方才有生有死，如果好生恶死，这就忘掉了受命于天的道理。</p>
<p>(16)刑：过失。“遁天之刑”是说感伤过度，势必违反自然之道而招来过失。一说“刑”即刑辱之意。</p>
<p>(17)适：偶然。来：来到世上，与下一句的“去”讲作离开人世相对立；这里的“来”、“去”实指人的生和死。</p>
<p>(18)夫子：指老聃。</p>
<p>(19)帝：天，万物的主宰。县（ｘｕáｎ）：同“悬”。“帝之县解”犹言“自然解脱”。在庄子看来，忧乐不能入，死生不能系，做到“安时而处顺”，就自然地解除了困缚，犹如解脱了倒悬之苦。</p>
<p>(20)本句旨意历来解释纷纭，不得要领。根据前文所述可这样理解：“指”、“薪”即脂薪，又称烛薪，用以取光照物，“穷”是尽的意思，油脂燃尽于浸裹的柴薪，但火种却不会熄灭，传之于无穷。</p>
<p>【译文】</p>
<p>公文轩见到右师大吃一惊，说：“这是什么人？怎么只有一只脚呢？是天生只有一只脚，还是人为地失去一只脚呢？”右师说：“天生成的，不是人为的。老天爷生就了我这样一付形体让我只有一只脚，人的外观完全是上天所赋与的。所以知道是天生的，不是人为的。”</p>
<p>沼泽边的野鸡走上十步才能啄到一口食物，走上百步才能喝到一口水，可是它丝毫也不会祈求畜养在笼子里。生活在樊笼里虽然不必费力寻食，但精力即使十分旺盛，那也是很不快意的。</p>
<p>老聃死了，他的朋友秦失去吊丧，大哭几声便离开了。老聃的弟子问道：“你不是我们老师的朋友吗？”秦失说：“是的。”弟子们又问：“那么吊唁朋友像这样，行吗？”秦失说：“行。原来我认为你们跟随老师多年都是超脱物外的人了，现在看来并不是这样的。刚才我进入灵房去吊唁，有老年人在哭他，像做父母的哭自己的孩子；有年轻人在哭他，像做孩子的哭自己的父母。他们之所以会聚在这里，一定有人本不想说什么却情不自禁地诉说了什么，本不想哭泣却情不自禁地痛哭起来。如此喜生恶死是违反常理、背弃真情的，他们都忘掉了人是禀承于自然、受命于天的道理，古时候人们称这种作法就叫做背离自然的过失。偶然来到世上，你们的老师他应时而生；偶然离开人世，你们的老师他顺依而死。安于天理和常分，顺从自然和变化，哀伤和欢乐便都不能进入心怀，古时候人们称这样做就叫做自然的解脱，好像解除倒悬之苦似的。”</p>
<p>取光照物的烛薪终会燃尽，而火种却传续下来，永远不会熄灭。</p>
<h3 id="应帝王"><a href="#应帝王" class="headerlink" title="应帝王"></a>应帝王</h3><p>应帝王</p>
<p>【题解】</p>
<p>《应帝王》是《庄子》内篇中的最后一篇，它表达了庄子的为政思想。庄子对宇宙万物的认识基于“道”，他认为整个宇宙万物是浑一的，因此也就无所谓分别和不同，世间的一切变化也都出于自然，人为的因素都是外在的、附加的。基于此，庄子的政治主张就是以不治为治，无为而治便是本篇的中心。什么样的人“应”成为“帝王”呢？那就是能够听任自然、顺乎民情、行不言之教的人。</p>
<p>全篇大体分为七个部分。第一部分至“而未始入于非人”，借蒲衣子之口说出理想的为政者，听任人之所为，从不堕入物我两分的困境。第二部分至“而曾二虫之无知”，指出制定各种行为规范乃是一种欺骗，为政者无须多事，倘要强人所难就像“涉海凿河”，“使蚊负山”一样。第三部分至“而天下治矣”，进一步倡导无为而治，即“顺物自然而无容私焉”的主张。第四部分至“而游于无有者也”，提出所谓“明王”之治，即“使物自喜”、“化贷万物”的无为之治。第五部分至“一以是终”，叙述神巫给得道的壶子看相的故事，说明只有“虚”而“藏”才能不为人所测，含蓄地指出为政也得虚己而顺应。第六部分至“故能胜物而不伤”，强调为政清明，应像镜子那样，来者就照，去者不留，“胜物”而又“不伤”。余下为第七部分，叙述浑沌受人为伤害失去本真而死去的故事，</p>
<p>寓指有为之政祸害无穷。全篇以这七个故事，寓托了他无为而治的政治主张。</p>
<p>【原文】</p>
<p>齧缺问于王倪①，四问而四不知。齧缺因跃而大喜，行以告蒲衣子②。</p>
<p>蒲衣子曰：“而乃今知之乎？有虞氏不及泰氏③。有虞氏，其犹藏仁以要人④，亦得人矣，而未始出于非人⑤。泰氏，其卧徐徐⑥，其觉于于⑦，一以己为马⑧，一以己为牛；其知情信⑨，其德甚真，而未始入于非人。”</p>
<p>【注释】</p>
<p>①齧（ｎｉè）缺、王倪：人名。</p>
<p>②蒲衣子：人名，传说中的古代贤人。</p>
<p>③有虞氏：即虞舜。泰氏：旧注指太昊（ｈàｏ），即伏羲氏。</p>
<p>④要（ｙāｏ）：交结：这里含有笼络的意思。</p>
<p>⑤非人：颇费解，旧注也多迂阔。这里似指物我之分两忘，“入于非人”大意是进入到外物与自我相分的境地。庄子认为，从根本上讲外物与自我统一为一体而无所分别，伏羲氏能无为而治，“知情信”，“德甚真”，因而从不曾进入物我两分的困境，“以己为马”、“以己为牛”也听之任之。</p>
<p>⑥徐徐：宽缓安闲的样子。</p>
<p>⑦于于：悠游自得的样子。</p>
<p>⑧一：或。一说讲作“竟”，亦可通。</p>
<p>⑨情：真实，实在。</p>
<p>【译文】</p>
<p>齧缺向王倪求教，四次提问王倪四次都不能作答。齧缺于是跳了起来高兴极了，去到蒲衣子处把上述情况告诉给他。</p>
<p>蒲衣子说：“你如今知道了这种情况吗？虞舜比不上伏羲氏。虞舜他心怀仁义以笼络人心，获得了百姓的拥戴，不过他还是不曾超脱出人为的物我两分的困境。伏羲氏他睡卧时宽缓安适，他觉醒时悠游自得；他听任有的人把自己看作马，听任有的人把自己看作牛；他的才思实在真实无伪，他的德行确实纯真可信，而且从不曾涉入物我两分的困境。”</p>
<p>【原文】</p>
<p>肩吾①见狂接舆。狂接舆曰：“日中始何以语女②？”肩吾曰：“告我君人者以己出经式义度③，人孰敢不听而化诸④？”</p>
<p>狂接舆曰：“是欺德也⑤；其于治天下也，犹涉海凿河而使蚉负山也⑥。夫圣人之治也，治外乎⑦？正而后行⑧，确乎能其事者而已矣。且鸟高飞以避矰弋之害⑨，鼷鼠深穴乎神丘之下以避熏凿之患⑩，而曾二虫之无知(11)！”</p>
<p>【注释】</p>
<p>①肩吾：人名。接舆：楚国隐士陆通的字。</p>
<p>②日中始：庄子假托的又一寓言人物，为肩吾的老师。一说其人当为“中始”，“日”是一时间词，往昔的意思。</p>
<p>③以已出：用自己的意志来推行。义：仪，法。“经式”、“仪度”这里都指法度。</p>
<p>④化诸：随之变化呢。</p>
<p>⑤欺德：欺诳的做法。</p>
<p>⑥蚉：“蚊”字的异体。</p>
<p>⑦治外：治理外表。庄子认为推行法度，只能治理社会的外在表象。</p>
<p>⑧正：指顺应本性。行：指推行教化。</p>
<p>⑨矰（ｚēｎｇ）：系有丝绳用来弋射的短箭。弋（ｙì）：用丝绳系在箭上射飞鸟。</p>
<p>⑩鼷（ｘī）鼠：小鼠。神丘：社坛。熏凿：指用烟熏洞，用铲掘地。</p>
<p>(11)曾：竟。</p>
<p>【译文】</p>
<p>肩吾拜会隐士接舆。接舆说：“往日你的老师日中始用什么来教导你？”肩吾说：“他告诉我，做国君的一定要凭借自己的意志来推行法度，人们谁敢不听从而随之变化呢？”</p>
<p>接舆说：“这是欺诳的做法，那样治理天下，就好像徒步下海开凿河道，让蚊虫背负大山一样。圣人治理天下，难道去治理社会外在的表象吗？他们顺应本性而后感化他人，听任人们之所能罢了。鸟儿尚且懂得高飞躲避弓箭的伤害，老鼠尚且知道深藏于神坛之下的洞穴逃避熏烟凿地的祸患，而你竟然连这两种小动物本能地顺应环境也不了解！”</p>
<p>【原文】</p>
<p>天根游于殷阳①，至蓼水之上②，适遭无名人而问焉③，曰：“请问为天下④。”无名人曰：“去⑤！汝鄙人也，何问之不豫也⑥！予方将与造物者为人⑦，厌，则又乘夫莽眇之鸟⑧，以出六极之外，而游无何有之乡⑨，以处圹埌之野⑩。汝又何帠以治天下感予之心为(11)？”又复问。无名人曰：“汝游心于淡(12)，合气于漠(13)，顺物自然而无容私焉，而天下治矣。”</p>
<p>【注释】</p>
<p>①天根：虚构的人名。殷：山名。“殷阳”即殷山的南面。</p>
<p>②蓼（ｌｉǎｏ）水：水名。</p>
<p>③遭：逢，遇上。无名人：杜撰的人名。</p>
<p>④为：这里是治理的意思。</p>
<p>⑤去：离开、走开，这里有呵斥、不屑多言之意。</p>
<p>⑥豫：悦，愉快。一说讲作“厌”。</p>
<p>⑦人：偶。“为人”即结为伴侣。</p>
<p>⑧莽眇（ｍｉǎｏ）之鸟：状如飞鸟的清虚之气。</p>
<p>⑨无何有之乡：什么都不存在的地方。</p>
<p>⑩圹（ｋｕàｎｇ）埌（ｌàｎｇ）：无边无际的样子。</p>
<p>(11)帠：字书未录此字，旧注读ｙì，疑为“臬”字之误。“臬”当是“寱”的借字，说梦话的意思，无名人认为天根的问话象是梦呓。</p>
<p>(12)淡：这里指听任自然，保持本性而无所饰的心境。</p>
<p>(13)漠：这里指清静无为，居处漠然。</p>
<p>【译文】</p>
<p>天根闲游殷山的南面，来到蓼水河边，正巧遇上无名人而向他求教，说：“请问治理天下之事。”无名人说：“走开，你这个见识浅薄的人，怎么一张口就让人不愉快！我正打算跟造物者结成伴侣，厌烦时便又乘坐那状如飞鸟的清虚之气，超脱于‘六极’之外，而生活在什么也不存在的地方，居处于旷达无垠的环境。你又怎么能用梦呓般的所谓治理天下的话语来撼动我的心思呢？”天根又再次提问。无名人说：“你应处于保持本性、无所修饰的心境，交合形气于清静无为的方域，顺应事物的自然而没有半点儿个人的偏私，天下也就得到治理。”</p>
<p>【原文】</p>
<p>阳子居见老聃①，曰：“有人于此，向疾强梁②，物彻疏明③，学道不勌④。如是者，可比明王乎？”老聃曰：“是于圣人也，胥易技系⑤，劳形怵心者也⑥。且也虎豹之文来田⑦，猨狙之便执斄之狗来藉⑧。如是者，可比明王乎？”阳子居蹴然曰⑨：“敢问明王之治。”老聃曰：“明王之治，功盖天下而似不自己⑩，化贷万物而民弗恃(11)；有莫举名(12)，使物自喜；立乎不测，而游于无有者也。”</p>
<p>【注释】</p>
<p>①阳子居：旧注指阳朱，战国时代倡导为我主义的哲学家。</p>
<p>②向（嚮）：通作“（响）（響）”，回声。“向疾”就是像回声那样迅疾敏捷。强梁：强干果决。这一句是说遇事果决，行动极快。</p>
<p>③彻：洞彻。疏明：通达明敏。</p>
<p>④勌（ｊｕàｎ）：“倦”字的异体。</p>
<p>⑤胥：通作“谞”（ｘǔ），智慧的意思，这里指具有一定才智的小官吏。易：改，这里指供职办事。系：系累。</p>
<p>⑥劳形：使身体劳苦。怵（ｃｈù）心：心里感到恐惧、害怕。</p>
<p>⑦文：纹，这里指具有纹饰的皮毛。來：使……来，这个意义后代又写作“徕”。田：打猎，这个意义后代写作“畋”。“来田”就是招徕打猎人的围捕。</p>
<p>⑧猨（ｙｕáｎ）狙（ｊū）：猕猴。便：便捷。（ｌǐ）：狐狸；“执”就是迅猛地捕捉狐狸。藉：用绳索拘系；“来藉”就是招致绳索的拘缚。</p>
<p>⑨蹴（ｃù）然：惊惶不安而面容改变的样子。</p>
<p>⑩自己：出自自己。</p>
<p>(11)化：教化。贷：推卸，施及。恃：依赖。</p>
<p>(12)举：称述。</p>
<p>【译文】</p>
<p>阳子居拜见老聃，说：“倘若现在有这样一个人，他办事迅疾敏捷、强干果决，对待事物洞察准确、了解透彻，学‘道’专心勤奋从不厌怠。象这样的人，可以跟圣哲之王相比而并列吗？”老聃说：“这样的人在圣人看来，只不过就像聪明的小吏供职办事时为技能所拘系、劳苦身躯担惊受怕的情况。况且虎豹因为毛色美丽而招来众多猎人的围捕，猕猴因为跳跃敏捷、狗因为捕物迅猛而招致绳索的拘缚。象这样的动物，也可以拿来跟圣哲之王相比而并列吗？”阳子居听了这番话脸色顿改，不安地说：“冒昧地请教圣哲之王怎么治理天下。”老聃说：“圣哲之王治理天下，功绩普盖天下却又像什么也不曾出自自己的努力，教化施及万物而百姓却不觉得有所依赖；功德无量没有什么办法称述赞美，使万事万物各居其所而欣然自得；立足于高深莫测的神妙之境，而生活在什么也不存在的世界里。”</p>
<p>【原文】</p>
<p>郑有神巫曰季咸①，知人之死生存亡、祸福寿夭，期以岁月旬日②，若神。郑人见之，皆弃而走。列子见之而心醉③，归，以告壶子，曰：“始吾以夫子之道为至矣，则又有至焉者矣。”壶子曰：“吾与汝既其文④，未既其实⑤，而固得道与？众雌而无雄，而又奚卵焉⑥！而以道与世亢⑦，必信，夫故使人得而相汝。尝试与来，以予示之。”</p>
<p>明日，列子与之见壶子。出而谓列子曰：“嘻！子之先生死矣！弗活矣！不以旬数矣⑧！吾见怪焉，见湿灰焉⑨。”列子入，泣涕沾襟以告壶子。壶子曰：乡吾示之以地文⑩，萌乎不震不正(11)。是殆见吾杜德机也(12)。尝又与来。”</p>
<p>明日，又与之见壶子。出而谓列子曰：“幸矣，子之先生遇我也！有瘳矣(13)，全然有生矣(14)！吾见其杜权矣(15)。”列子入，以告壶子。壶子曰：“乡吾示之以天壤(16)，名实不入(17)，而机发于踵(18)。是殆见吾善者机也(19)。尝又与来。”</p>
<p>明日，又与之见壶子。出而谓列子曰：“子之先生不齐(20)，吾无得而相焉。试齐，且复相之。”列子入，以告壶子。壶子曰：“乡吾示之以太冲莫胜(21)。是殆见吾衡气机也(22)。鲵桓之审为渊(23)，止水之审为渊，流水之审为渊。渊有九名，此处三焉(24)。尝又与来。”</p>
<p>明日，又与之见壶子。立未定，自失而走(25)。壶子曰：“追之！”列子追之不及，反，以报壶子曰：“已灭矣(26)，已失矣，吾弗及已。”壶子曰：“乡吾示之以未始出吾宗(27)。吾与之虚而委蛇(28)，不知其谁何(29)，因以为弟靡(30)，因以为波流(31)，故逃也。”</p>
<p>然后列子自以为未始学而归(32)，三年不出。为其妻爨(33)，食豕如食人(34)。于事无与亲(35)，雕琢复朴(36)，块然独以其形立(37)。纷而封哉(38)，一以是终(39)。</p>
<p>【注释】</p>
<p>①巫：占卜识相的人，“神”指其预卜十分灵验。</p>
<p>②期：预卜的时期。</p>
<p>③列子：即列御寇，郑国人。下句之壶子，传说是列子的老师。心醉：这里指内心折服。</p>
<p>④既：尽，全。文：纹饰，外在的东西。</p>
<p>⑤实：本质，与上句之“文”相对。</p>
<p>⑥卵：用如动词，产卵的意思。</p>
<p>⑦道：这里是指前面所述“既其文”的道，而非真正的道。亢：通作“抗”，匹敌、对付的意思。</p>
<p>⑧旬：十日。“不以旬数”即不能用十天来计数，言外之意是说活不了十天了。</p>
<p>⑨湿灰：用于描写神情，与上句之怪异描写形色相对应。死灰犹可复燃，而水湿之灰已无复燃之可能，喻指必死无疑。</p>
<p>⑩乡（嫏）：通作“向”，过去、先前的意思。地文：大地上的纹理，即大地上山川湖海等表征。大地是寂然不动的，这里喻指寂然不动的心境。示：显露，给……看。</p>
<p>(11)萌：疑通作“茫”，“萌乎”即茫茫然。震：动。正：疑为“止”字之误。“不震”指体征和神情寂然，“不止”指生命的运行并未停息。</p>
<p>(12)杜：闭塞。德机：至德的生机。</p>
<p>(13)瘳（ｃｈōｕ）：病愈，这里指病兆大大减轻。</p>
<p>(14)生：生气，这里指有了成活希望。</p>
<p>(15)权：机。“杜权”即闭塞的生机，含有闭塞的生机出现活动的意思。</p>
<p>(16)天壤：天地，这里指像天与地之间那样的相对与感应。</p>
<p>(17)名实：名声和实利。不入：指不为所动，不能进入到内心。</p>
<p>(18)踵：脚后根，这里指人的根基。</p>
<p>(19)者：用同“之”。“善者机”亦即一线生机。</p>
<p>(20)齐：心迹稳定。一说通作“斋”，“不齐”即没有斋戒。</p>
<p>(21)太冲：太虚。“太冲莫胜”是说虚心凝寂、动静无别，阴阳之气均衡而又和谐。</p>
<p>(22)衡：平。“衡气机”是说内气持平，应称生机，浑然凝一。</p>
<p>(23)鲵（ｎí）：鲸鱼，这里泛指大鱼。桓：盘桓。审：水回流而聚积的地方。一说“审”即“瀋”字，通作“沈”，水深的意思。</p>
<p>(24)此处三焉：意思是这里说了渊的三种情况。所谓三“渊”，喻指前面提到的“杜德机”、“善者机”、“衡气机”三种神态。“三”对于“九”来说是小数，从而暗示“道”深不可测，神巫所能看到的还只是皮毛。</p>
<p>(25)自失：不能自持。</p>
<p>(26)灭：消逝了踪影。</p>
<p>(27)宗：源，根本。</p>
<p>(28)虚：活脱，一点也不执着。委蛇（ｙí）：随顺应付。成语“虚以委蛇”出于此。</p>
<p>(29)谁何：什么；“知其谁何”是说能够了解我的究竟。</p>
<p>(30)以为：以之为，把自己变成。弟靡：颓废顺从。</p>
<p>(31)波流：像水波一样逐流。</p>
<p>(32)未始学：从不曾学过道。神巫季咸逃跑后，列子方悟到老师壶子的道术深不可测，而神巫的巫术实是浅薄，因此觉得自己从不曾求师学道似的。</p>
<p>(33)爨（ｃｕàｎ）：烧火行炊。</p>
<p>(34)食（ｓì）：饲养，给……吃的意思。</p>
<p>(35)无与亲：无亲疏之别，没有偏私。</p>
<p>(36)“雕琢”指原来的华饰，“复朴”指现在业已恢复朴实的“道”。</p>
<p>(37)块然：像大地一样木然。</p>
<p>(38)纷：这里指世间的纷扰。封：守，这里指能够持守本真。</p>
<p>(39)一：如一，贯一。</p>
<p>【译文】</p>
<p>郑国有个占卜识相十分灵验的巫师，名叫季咸，他知道人的生死存亡和祸福寿夭，所预卜的年、月、旬、日都准确应验，仿佛是神人。郑国人见到他，都担心预卜死亡和凶祸而急忙跑开。列子见到他却内心折服如醉如痴，回来后把见到的情况告诉老师壶子，并且说：“起先我总以为先生的道行最为高深，如今又有更为高深的巫术了。”壶子说：“我教给你的还全是道的外在的东西，还未能教给你道的实质，你难道就已经得道了吗？只有众多的雌性可是却无雄性，又怎么能生出受精的卵呢！你用所学到的道的皮毛就跟世人相匹敌，而且一心求取别人的信任，因而让人洞察底细而替你看相。你试着跟他一块儿来，把我介绍给他看看相吧。”</p>
<p>第二天，列子跟神巫季咸一道拜见壶子。季咸走出门来就对列子说：“呀！你的先生快要死了！活不了了，用不了十来天了！我观察到他临死前的怪异形色，神情像遇水的灰烬一样。”列子进到屋里，泪水弄湿了衣襟，伤心地把季咸的话告诉给壶子。壶子说：“刚才我将如同地表那样寂然不动的心境显露给他看，茫茫然既没有震动也没有止息。这样恐怕只能看到我闭塞的生机。试试再跟他来看看。”</p>
<p>第二天，列子又跟神巫季咸一道拜见壶子。季咸走出门来就对列子说：“幸运啊，你的先生遇上了我！症兆减轻了，完全有救了，我已经观察到闭塞的生机中神气微动的情况。”列子进到屋里，把季咸的话告诉给壶子。壶子说：“刚才我将天与地那样相对而又相应的心态显露给他看，名声和实利等一切杂念都排除在外，而生机从脚跟发至全身。这样恐怕已看到了我的一线生机。试着再跟他一块儿来看看。”</p>
<p>第二天，列子又跟神巫季咸一道拜见壶子。季咸走出门来就对列子说：“你的先生心迹不定，神情恍惚，我不可能给他看相。等到心迹稳定，再来给他看相。”列子进到屋里，把季咸的话告诉给壶子。壶子说：“刚才我把阴阳二气均衡而又和谐的心态显露给他看。这样恐怕看到了我内气持平、相应相称的生机。大鱼盘桓逗留的地方叫做深渊，静止的河水聚积的地方叫做深渊，流动的河水滞留的地方叫做深渊。渊有九种称呼，这里只提到了上面三种。试着再跟他一块儿来看看。”</p>
<p>第二天，列子又跟神巫咸季一道拜见壶子。季咸还未站定，就不能自持地跑了。壶子说：“追上他！”列子没能追上，回来告诉壶子，说：“已经没有踪影了，让他跑掉了，我没能赶上他。”壶子说：“起先我显露给他看的始终未脱离我的本源。我跟他随意应付，他弄不清我的究竟，于是我使自己变的那么颓废顺从，变的像水波逐流一样，所以他逃跑了。”</p>
<p>这之后，列子深深感到像从不曾拜师学道似的回到了自己的家里，三年不出门。他帮助妻子烧火做饭，喂猪就像侍侯人一样。对于各种世事不分亲疏没有偏私，过去的雕琢和华饰已恢复到原本的质朴和纯真，像大地一样木然忘情地将形骸留在世上。虽然涉入世间的纷扰却能固守本真，并像这样终生不渝。</p>
<p>【原文】</p>
<p>无为名尸①，无为谋府②；无为事任③，无为知主。体尽无穷④，而游无朕⑤；尽其所受乎天，而无见得⑥，亦虚而已⑦。至人之用心若镜，不将不迎⑧，应而不藏，故能胜物而不伤⑨。</p>
<p>【注释】</p>
<p>①名：名誉。尸：主，引伸指寄托的场所。</p>
<p>②谋府：出谋划策的地方。</p>
<p>③任：负担。</p>
<p>④体：体验、体会，这里指潜心学道。</p>
<p>⑤朕（ｚｈèｎ）：迹。“无朕”即不留下踪迹。</p>
<p>⑥见（ｘｉàｎ）：表露，这个意义后代写作“现。”</p>
<p>⑦虚：指心境清虚淡泊，忘却自我。</p>
<p>⑧将：送。“不将不迎”指照物之影听之任之，来的即照，去的不留。</p>
<p>⑨胜物：指足以反映事物。</p>
<p>【译文】</p>
<p>不要成为名誉的寄托，不要成为谋略的场所；不要成为世事的负担，不要成为智慧的主宰。潜心地体验真源而且永不休止，自由自在地游乐而不留下踪迹；任其所能禀承自然，从不表露也从不自得，也就心境清虚淡泊而无所求罢了。修养高尚的“至人”心思就象一面镜子，对于外物是来者即照去者不留，应合事物本身从不有所隐藏，所以能够反映外物而又不因此损心劳神。</p>
<p>【原文】</p>
<p>南海之帝为儵，北海之帝为忽，中央之帝为浑沌①。儵与忽时相与遇于浑沌之地，浑沌待之甚善。儵与忽谋报浑沌之德，曰：“人皆有七窍以视听食息②，此独无有，尝试凿之。”日凿一窍，七日而浑沌死。</p>
<p>【注释】</p>
<p>①儵（ｓｈū）、忽、浑沌：都是虚拟的名字，但用字也是有寓意，“儵”和“忽”指急匆匆的样子，“浑沌”指聚合不分的样子，一指人为的，一指自然的，因此“儵”、“忽”寓指有为，而“浑沌”寓指无为。</p>
<p>②七窍：人头部的七个孔穴，即两眼、两耳、两鼻孔和嘴。</p>
<p>【译文】</p>
<p>南海的大帝名叫儵，北海的大帝名叫忽，中央的大帝叫浑沌。儵与忽常常相会于浑沌之处，浑沌款待他们十分丰盛，儵和忽在一起商量报答浑沌的深厚情谊，说：“人人都有眼耳口鼻七个窍孔用来视、听、吃的呼吸，唯独浑沌没有，我们试着为他凿开七窍。”他们每天凿出一个孔窍，凿了七天浑沌也就死去了。</p>
]]></content>
      <categories>
        <category>古典</category>
        <category>经典</category>
      </categories>
  </entry>
</search>
